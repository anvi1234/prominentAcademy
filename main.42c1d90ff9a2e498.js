"use strict";(self.webpackChunkprominent=self.webpackChunkprominent||[]).push([[179],{2011:(_t,Ae,U)=>{U.d(Ae,{Dh:()=>fe,GT:()=>ce,cc:()=>Re,hO:()=>ze,on:()=>G,pX:()=>ie,xv:()=>pe});var s=U(4650),X=U(9260),F=U(2122);_t=U.hmd(_t);const re=["ngOnDestroy"],ie=(de,at,bt,Ne={})=>new Proxy(de,{get:(we,Te)=>bt.runOutsideAngular(()=>{var Ge;if(de[Te])return!(null===(Ge=Ne?.spy)||void 0===Ge)&&Ge.get&&Ne.spy.get(Te,de[Te]),de[Te];if(re.indexOf(Te)>-1)return()=>{};const $e=at.toPromise().then(j=>{const me=j&&j[Te];return"function"==typeof me?me.bind(j):me&&me.then?me.then(Ze=>bt.run(()=>Ze)):bt.run(()=>me)});return new Proxy(()=>{},{get:(j,me)=>$e[me],apply:(j,me,Ze)=>$e.then(tt=>{var wt;const it=tt&&tt(...Ze);return!(null===(wt=Ne?.spy)||void 0===wt)&&wt.apply&&Ne.spy.apply(Te,Ze,it),it})})})}),ce=(de,at)=>{at.forEach(bt=>{Object.getOwnPropertyNames(bt.prototype||bt).forEach(Ne=>{Object.defineProperty(de.prototype,Ne,Object.getOwnPropertyDescriptor(bt.prototype||bt,Ne))})})};class ae{constructor(at){return at}}const fe=new s.OlP("angularfire2.app.options"),pe=new s.OlP("angularfire2.app.name");function G(de,at,bt){const we="object"==typeof bt&&bt||{};we.name=we.name||"string"==typeof bt&&bt||"[DEFAULT]";const Ge=X.Z.apps.filter($e=>$e&&$e.name===we.name)[0]||at.runOutsideAngular(()=>X.Z.initializeApp(de,we));try{JSON.stringify(de)!==JSON.stringify(Ge.options)&&$("error",`${Ge.name} Firebase App already initialized with different options${_t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(Ge)}const $=(de,...at)=>{(0,s.X6Q)()&&typeof console<"u"&&console[de](...at)},Y={provide:ae,useFactory:G,deps:[fe,s.R0b,[new s.FiY,pe]]};let ze=(()=>{class de{constructor(bt){X.Z.registerVersion("angularfire",F.q4.full,"core"),X.Z.registerVersion("angularfire",F.q4.full,"app-compat"),X.Z.registerVersion("angular",s.q4F.full,bt.toString())}static initializeApp(bt,Ne){return{ngModule:de,providers:[{provide:fe,useValue:bt},{provide:pe,useValue:Ne}]}}}return de.\u0275fac=function(bt){return new(bt||de)(s.LFG(s.Lbi))},de.\u0275mod=s.oAB({type:de}),de.\u0275inj=s.cJS({providers:[Y]}),de})();function Re(de,at,bt,Ne,we){const[,Te,Ge]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===de)||[];if(Te)return function Ce(de,at){try{return de.toString()===at.toString()}catch{return de===at}}(we,Ge)||(ve("error",`${at} was already initialized on the ${bt} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:we,was:Ge})),Te;{const $e=Ne();return globalThis.\u0275AngularfireInstanceCache.push([de,$e,we]),$e}}const ut=!!_t.hot,ve=(de,...at)=>{(0,s.X6Q)()&&typeof console<"u"&&console[de](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(_t,Ae,U)=>{U.d(Ae,{q4:()=>Ke,iC:()=>Vs,fc:()=>Yn,HU:()=>br,vb:()=>_s,JM:()=>Il});var s=U(4650),X=U(259),F=U(5861),re=U(9681),ie=U(2090),ce=U(4859),ae=U(1877),fe=U(8766);const pe="@firebase/installations",G="0.6.4",Y=`w:${G}`,ze="FIS_v2",at=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bt(D){return D instanceof ie.ZR&&D.code.includes("request-failed")}function Ne({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function we(D){return{token:D.token,requestStatus:2,expiresIn:tt(D.expiresIn),creationTime:Date.now()}}function Te(D,S){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,F.Z)(function*(D,S){const V=(yield S.json()).error;return at.create("request-failed",{requestName:D,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function $e({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function j(D,{refreshToken:S}){const x=$e(D);return x.append("Authorization",function wt(D){return`${ze} ${D}`}(S)),x}function me(D){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,F.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function tt(D){return Number(D.replace("s","000"))}function it(D,S){return oe.apply(this,arguments)}function oe(){return(oe=(0,F.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:x}){const V=Ne(D),Q=$e(D),ne=S.getImmediate({optional:!0});if(ne){const mt=yield ne.getHeartbeatsHeader();mt&&Q.append("x-firebase-client",mt)}const je={method:"POST",headers:Q,body:JSON.stringify({fid:x,authVersion:ze,appId:D.appId,sdkVersion:Y})},Je=yield me(()=>fetch(V,je));if(Je.ok){const mt=yield Je.json();return{fid:mt.fid||x,registrationStatus:2,refreshToken:mt.refreshToken,authToken:we(mt.authToken)}}throw yield Te("Create Installation",Je)})).apply(this,arguments)}function ge(D){return new Promise(S=>{setTimeout(S,D)})}const Oe=/^[cdef][\w-]{21}$/;function Ee(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const x=function gt(D){return function be(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Oe.test(x)?x:""}catch{return""}}function Zt(D){return`${D.appName}!${D.appId}`}const pn=new Map;function st(D,S){const x=Zt(D);Nt(x,S),function Di(D,S){const x=function kn(){return!xn&&"BroadcastChannel"in self&&(xn=new BroadcastChannel("[Firebase] FID Change"),xn.onmessage=D=>{Nt(D.data.key,D.data.fid)}),xn}();x&&x.postMessage({key:D,fid:S}),function Gn(){0===pn.size&&xn&&(xn.close(),xn=null)}()}(x,S)}function Nt(D,S){const x=pn.get(D);if(x)for(const V of x)V(S)}let xn=null;const gr="firebase-installations-store";let Ar=null;function fa(){return Ar||(Ar=(0,fe.X3)("firebase-installations-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(gr)}})),Ar}function rt(D,S){return zi.apply(this,arguments)}function zi(){return(zi=(0,F.Z)(function*(D,S){const x=Zt(D),Q=(yield fa()).transaction(gr,"readwrite"),ne=Q.objectStore(gr),De=yield ne.get(x);return yield ne.put(S,x),yield Q.done,(!De||De.fid!==S.fid)&&st(D,S.fid),S})).apply(this,arguments)}function cs(D){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,F.Z)(function*(D){const S=Zt(D),V=(yield fa()).transaction(gr,"readwrite");yield V.objectStore(gr).delete(S),yield V.done})).apply(this,arguments)}function Nr(D,S){return ds.apply(this,arguments)}function ds(){return(ds=(0,F.Z)(function*(D,S){const x=Zt(D),Q=(yield fa()).transaction(gr,"readwrite"),ne=Q.objectStore(gr),De=yield ne.get(x),je=S(De);return void 0===je?yield ne.delete(x):yield ne.put(je,x),yield Q.done,je&&(!De||De.fid!==je.fid)&&st(D,je.fid),je})).apply(this,arguments)}function $n(D){return oi.apply(this,arguments)}function oi(){return(oi=(0,F.Z)(function*(D){let S;const x=yield Nr(D.appConfig,V=>{const Q=An(V),ne=It(D,Q);return S=ne.registrationPromise,ne.installationEntry});return""===x.fid?{installationEntry:yield S}:{installationEntry:x,registrationPromise:S}})).apply(this,arguments)}function An(D){return Lt(D||{fid:Ee(),registrationStatus:0})}function It(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(at.create("app-offline"))};const x={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},V=function Ct(D,S){return wn.apply(this,arguments)}(D,x);return{installationEntry:x,registrationPromise:V}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:ai(D)}:{installationEntry:S}}function wn(){return(wn=(0,F.Z)(function*(D,S){try{const x=yield it(D,S);return rt(D.appConfig,x)}catch(x){throw bt(x)&&409===x.customData.serverCode?yield cs(D.appConfig):yield rt(D.appConfig,{fid:S.fid,registrationStatus:0}),x}})).apply(this,arguments)}function ai(D){return Si.apply(this,arguments)}function Si(){return(Si=(0,F.Z)(function*(D){let S=yield Ai(D.appConfig);for(;1===S.registrationStatus;)yield ge(100),S=yield Ai(D.appConfig);if(0===S.registrationStatus){const{installationEntry:x,registrationPromise:V}=yield $n(D);return V||x}return S})).apply(this,arguments)}function Ai(D){return Nr(D,S=>{if(!S)throw at.create("installation-not-found");return Lt(S)})}function Lt(D){return function Ms(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function cn(D,S){return zr.apply(this,arguments)}function zr(){return(zr=(0,F.Z)(function*({appConfig:D,heartbeatServiceProvider:S},x){const V=dn(D,x),Q=j(D,x),ne=S.getImmediate({optional:!0});if(ne){const mt=yield ne.getHeartbeatsHeader();mt&&Q.append("x-firebase-client",mt)}const je={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:Y,appId:D.appId}})},Je=yield me(()=>fetch(V,je));if(Je.ok)return we(yield Je.json());throw yield Te("Generate Auth Token",Je)})).apply(this,arguments)}function dn(D,{fid:S}){return`${Ne(D)}/${S}/authTokens:generate`}function Ni(D){return or.apply(this,arguments)}function or(){return(or=(0,F.Z)(function*(D,S=!1){let x;const V=yield Nr(D.appConfig,ne=>{if(!Wt(ne))throw at.create("not-registered");const De=ne.authToken;if(!S&&Ki(De))return ne;if(1===De.requestStatus)return x=ht(D,S),ne;{if(!navigator.onLine)throw at.create("app-offline");const je=Z(ne);return x=Ot(D,je),je}});return x?yield x:V.authToken})).apply(this,arguments)}function ht(D,S){return Se.apply(this,arguments)}function Se(){return(Se=(0,F.Z)(function*(D,S){let x=yield ct(D.appConfig);for(;1===x.authToken.requestStatus;)yield ge(100),x=yield ct(D.appConfig);const V=x.authToken;return 0===V.requestStatus?Ni(D,S):V})).apply(this,arguments)}function ct(D){return Nr(D,S=>{if(!Wt(S))throw at.create("not-registered");return function K(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Ot(D,S){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,F.Z)(function*(D,S){try{const x=yield cn(D,S),V=Object.assign(Object.assign({},S),{authToken:x});return yield rt(D.appConfig,V),x}catch(x){if(!bt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield rt(D.appConfig,V)}else yield cs(D.appConfig);throw x}})).apply(this,arguments)}function Wt(D){return void 0!==D&&2===D.registrationStatus}function Ki(D){return 2===D.requestStatus&&!function H(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function Z(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function te(){return(te=(0,F.Z)(function*(D){const S=D,{installationEntry:x,registrationPromise:V}=yield $n(S);return V?V.catch(console.error):Ni(S).catch(console.error),x.fid})).apply(this,arguments)}function Mt(){return(Mt=(0,F.Z)(function*(D,S=!1){const x=D;return yield Qt(x),(yield Ni(x,S)).token})).apply(this,arguments)}function Qt(D){return hn.apply(this,arguments)}function hn(){return(hn=(0,F.Z)(function*(D){const{registrationPromise:S}=yield $n(D);S&&(yield S)})).apply(this,arguments)}function Xs(D){return at.create("missing-app-config-values",{valueName:D})}const pa="installations",Fn=D=>{const S=D.getProvider("app").getImmediate(),x=function Rn(D){if(!D||!D.options)throw Xs("App Configuration");if(!D.name)throw Xs("App Name");const S=["projectId","apiKey","appId"];for(const x of S)if(!D.options[x])throw Xs(x);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:x,heartbeatServiceProvider:(0,re._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Ro=D=>{const S=D.getProvider("app").getImmediate(),x=(0,re._getProvider)(S,pa).getImmediate();return{getId:()=>function le(D){return te.apply(this,arguments)}(x),getToken:Q=>function Qe(D){return Mt.apply(this,arguments)}(x,Q)}};(function su(){(0,re._registerComponent)(new ce.wA(pa,Fn,"PUBLIC")),(0,re._registerComponent)(new ce.wA("installations-internal",Ro,"PRIVATE"))})(),(0,re.registerVersion)(pe,G),(0,re.registerVersion)(pe,G,"esm2017");const hs="@firebase/remote-config",ui=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xf{constructor(S,x,V,Q){this.client=S,this.storage=x,this.storageCache=V,this.logger=Q}isCachedDataFresh(S,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-x,Q=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var x=this;return(0,F.Z)(function*(){const[V,Q]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Q&&x.isCachedDataFresh(S.cacheMaxAgeMillis,V))return Q;S.eTag=Q&&Q.eTag;const ne=yield x.client.fetch(S),De=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&De.push(x.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(De),ne})()}}function Yr(D=navigator){return D.languages&&D.languages[0]||D.language}class xc{constructor(S,x,V,Q,ne,De){this.firebaseInstallations=S,this.sdkVersion=x,this.namespace=V,this.projectId=Q,this.apiKey=ne,this.appId=De}fetch(S){var x=this;return(0,F.Z)(function*(){const[V,Q]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),De=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Je={sdk_version:x.sdkVersion,app_instance_id:V,app_instance_id_token:Q,app_id:x.appId,language_code:Yr()},mt={method:"POST",headers:je,body:JSON.stringify(Je)},Bt=fetch(De,mt),xt=new Promise((ni,wr)=>{S.signal.addEventListener(()=>{const Zs=new Error("The operation was aborted.");Zs.name="AbortError",wr(Zs)})});let ci;try{yield Promise.race([Bt,xt]),ci=yield Bt}catch(ni){let wr="fetch-client-network";throw"AbortError"===ni?.name&&(wr="fetch-timeout"),ui.create(wr,{originalErrorMessage:ni?.message})}let ti=ci.status;const Ko=ci.headers.get("ETag")||void 0;let vs,Vt;if(200===ci.status){let ni;try{ni=yield ci.json()}catch(wr){throw ui.create("fetch-client-parse",{originalErrorMessage:wr?.message})}vs=ni.entries,Vt=ni.state}if("INSTANCE_STATE_UNSPECIFIED"===Vt?ti=500:"NO_CHANGE"===Vt?ti=304:("NO_TEMPLATE"===Vt||"EMPTY_CONFIG"===Vt)&&(vs={}),304!==ti&&200!==ti)throw ui.create("fetch-status",{httpStatus:ti});return{status:ti,eTag:Ko,config:vs}})()}}class Am{constructor(S,x){this.client=S,this.storage=x}fetch(S){var x=this;return(0,F.Z)(function*(){const V=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:x,backoffCount:V}){var Q=this;return(0,F.Z)(function*(){yield function mi(D,S){return new Promise((x,V)=>{const Q=Math.max(S-Date.now(),0),ne=setTimeout(x,Q);D.addEventListener(()=>{clearTimeout(ne),V(ui.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,x);try{const ne=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function ih(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ne))throw ne;const De={throttleEndTimeMillis:Date.now()+(0,ie.$s)(V),backoffCount:V+1};return yield Q.storage.setThrottleMetadata(De),Q.attemptFetch(S,De)}})()}}class rh{constructor(S,x,V,Q,ne){this.app=S,this._client=x,this._storageCache=V,this._storage=Q,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rc(D,S){const x=D.target.error||void 0;return ui.create(S,{originalErrorMessage:x&&x?.message})}const io="app_namespace_store";class Rm{constructor(S,x,V,Q=function xm(){return new Promise((D,S)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=V=>{S(Rc(V,"storage-open"))},x.onsuccess=V=>{D(V.target.result)},x.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(io,{keyPath:"compositeKey"})}}catch(x){S(ui.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=S,this.appName=x,this.namespace=V,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var x=this;return(0,F.Z)(function*(){const V=yield x.openDbPromise;return new Promise((Q,ne)=>{const je=V.transaction([io],"readonly").objectStore(io),Je=x.createCompositeKey(S);try{const mt=je.get(Je);mt.onerror=Bt=>{ne(Rc(Bt,"storage-get"))},mt.onsuccess=Bt=>{const xt=Bt.target.result;Q(xt?xt.value:void 0)}}catch(mt){ne(ui.create("storage-get",{originalErrorMessage:mt?.message}))}})})()}set(S,x){var V=this;return(0,F.Z)(function*(){const Q=yield V.openDbPromise;return new Promise((ne,De)=>{const Je=Q.transaction([io],"readwrite").objectStore(io),mt=V.createCompositeKey(S);try{const Bt=Je.put({compositeKey:mt,value:x});Bt.onerror=xt=>{De(Rc(xt,"storage-set"))},Bt.onsuccess=()=>{ne()}}catch(Bt){De(ui.create("storage-set",{originalErrorMessage:Bt?.message}))}})})()}delete(S){var x=this;return(0,F.Z)(function*(){const V=yield x.openDbPromise;return new Promise((Q,ne)=>{const je=V.transaction([io],"readwrite").objectStore(io),Je=x.createCompositeKey(S);try{const mt=je.delete(Je);mt.onerror=Bt=>{ne(Rc(Bt,"storage-delete"))},mt.onsuccess=()=>{Q()}}catch(mt){ne(ui.create("storage-delete",{originalErrorMessage:mt?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class oh{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,F.Z)(function*(){const x=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),ne=yield x;ne&&(S.lastFetchStatus=ne);const De=yield V;De&&(S.lastSuccessfulFetchTimestampMillis=De);const je=yield Q;je&&(S.activeConfig=je)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function au(){return ep.apply(this,arguments)}function ep(){return(ep=(0,F.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function ro(){(0,re._registerComponent)(new ce.wA("remote-config",function D(S,{instanceIdentifier:x}){const V=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ui.create("registration-window");if(!(0,ie.hl)())throw ui.create("indexed-db-unavailable");const{projectId:ne,apiKey:De,appId:je}=V.options;if(!ne)throw ui.create("registration-project-id");if(!De)throw ui.create("registration-api-key");if(!je)throw ui.create("registration-app-id");const Je=new Rm(je,V.name,x=x||"firebase"),mt=new oh(Je),Bt=new ae.Yd(hs);Bt.logLevel=ae.in.ERROR;const xt=new xc(Q,re.SDK_VERSION,x,ne,De,je),ci=new Am(xt,Je),ti=new Xf(ci,Je,mt,Bt),Ko=new rh(V,ti,mt,Je,Bt);return function nn(D){const S=(0,ie.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Ko),Ko},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(hs,"0.4.4"),(0,re.registerVersion)(hs,"0.4.4","esm2017")}();const fs="/firebase-messaging-sw.js",Rs="/firebase-cloud-messaging-push-scope",ps="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ol="google.c.a.c_id",lu="google.c.a.c_l",Oc="google.c.a.ts",tp="google.c.a.e";var Os=(()=>{return(D=Os||(Os={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Os;var D})();function Mr(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mr(D){const x=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(x),Q=new Uint8Array(V.length);for(let ne=0;ne<V.length;++ne)Q[ne]=V.charCodeAt(ne);return Q}const ma="fcm_token_details_db",Hi="fcm_token_object_Store";function np(D){return ip.apply(this,arguments)}function ip(){return ip=(0,F.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(ma))return null;let S=null;return(yield(0,fe.X3)(ma,5,{upgrade:(V=(0,F.Z)(function*(Q,ne,De,je){var Je;if(ne<2||!Q.objectStoreNames.contains(Hi))return;const mt=je.objectStore(Hi),Bt=yield mt.index("fcmSenderId").get(D);if(yield mt.clear(),Bt)if(2===ne){const xt=Bt;if(!xt.auth||!xt.p256dh||!xt.endpoint)return;S={token:xt.fcmToken,createTime:null!==(Je=xt.createTime)&&void 0!==Je?Je:Date.now(),subscriptionOptions:{auth:xt.auth,p256dh:xt.p256dh,endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:"string"==typeof xt.vapidKey?xt.vapidKey:Mr(xt.vapidKey)}}}else if(3===ne){const xt=Bt;S={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:Mr(xt.auth),p256dh:Mr(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:Mr(xt.vapidKey)}}}else if(4===ne){const xt=Bt;S={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:Mr(xt.auth),p256dh:Mr(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:Mr(xt.vapidKey)}}}}),function(ne,De,je,Je){return V.apply(this,arguments)})})).close(),yield(0,fe.Lj)(ma),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),qn(S)?S:null;var V}),ip.apply(this,arguments)}function qn(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const xr="firebase-messaging-store";let Qi=null;function cu(){return Qi||(Qi=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(xr)}})),Qi}function ko(D){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,F.Z)(function*(D){const S=Qr(D),V=yield(yield cu()).transaction(xr).objectStore(xr).get(S);if(V)return V;{const Q=yield np(D.appConfig.senderId);if(Q)return yield rn(D,Q),Q}})).apply(this,arguments)}function rn(D,S){return du.apply(this,arguments)}function du(){return(du=(0,F.Z)(function*(D,S){const x=Qr(D),Q=(yield cu()).transaction(xr,"readwrite");return yield Q.objectStore(xr).put(S,x),yield Q.done,S})).apply(this,arguments)}function Fo(D){return hu.apply(this,arguments)}function hu(){return(hu=(0,F.Z)(function*(D){const S=Qr(D),V=(yield cu()).transaction(xr,"readwrite");yield V.objectStore(xr).delete(S),yield V.done})).apply(this,arguments)}function Qr({appConfig:D}){return D.appId}const Zn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ft(D,S){return pu.apply(this,arguments)}function pu(){return(pu=(0,F.Z)(function*(D,S){const x=yield Fc(D),V=Me(S),Q={method:"POST",headers:x,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(ks(D.appConfig),Q)).json()}catch(De){throw Zn.create("token-subscribe-failed",{errorInfo:De?.toString()})}if(ne.error)throw Zn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw Zn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function sp(D,S){return gu.apply(this,arguments)}function gu(){return(gu=(0,F.Z)(function*(D,S){const x=yield Fc(D),V=Me(S.subscriptionOptions),Q={method:"PATCH",headers:x,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(`${ks(D.appConfig)}/${S.token}`,Q)).json()}catch(De){throw Zn.create("token-update-failed",{errorInfo:De?.toString()})}if(ne.error)throw Zn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw Zn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function mu(D,S){return kc.apply(this,arguments)}function kc(){return(kc=(0,F.Z)(function*(D,S){const V={method:"DELETE",headers:yield Fc(D)};try{const ne=yield(yield fetch(`${ks(D.appConfig)}/${S}`,V)).json();if(ne.error)throw Zn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Q){throw Zn.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function ks({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Fc(D){return al.apply(this,arguments)}function al(){return(al=(0,F.Z)(function*({appConfig:D,installations:S}){const x=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Me({p256dh:D,auth:S,endpoint:x,vapidKey:V}){const Q={web:{endpoint:x,auth:S,p256dh:D}};return V!==ps&&(Q.web.applicationPubKey=V),Q}const Jt=6048e5;function _u(D){return yu.apply(this,arguments)}function yu(){return(yu=(0,F.Z)(function*(D){const S=yield Lc(D.swRegistration,D.vapidKey),x={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:Mr(S.getKey("auth")),p256dh:Mr(S.getKey("p256dh"))},V=yield ko(D.firebaseDependencies);if(V){if(uh(V.subscriptionOptions,x))return Date.now()>=V.createTime+Jt?_a(D,{token:V.token,createTime:Date.now(),subscriptionOptions:x}):V.token;try{yield mu(D.firebaseDependencies,V.token)}catch(Q){console.warn(Q)}return ll(D.firebaseDependencies,x)}return ll(D.firebaseDependencies,x)})).apply(this,arguments)}function Wn(D){return vu.apply(this,arguments)}function vu(){return(vu=(0,F.Z)(function*(D){const S=yield ko(D.firebaseDependencies);S&&(yield mu(D.firebaseDependencies,S.token),yield Fo(D.firebaseDependencies));const x=yield D.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function _a(D,S){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,F.Z)(function*(D,S){try{const x=yield sp(D.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:x,createTime:Date.now()});return yield rn(D.firebaseDependencies,V),x}catch(x){throw yield Wn(D),x}})).apply(this,arguments)}function ll(D,S){return ul.apply(this,arguments)}function ul(){return(ul=(0,F.Z)(function*(D,S){const V={token:yield Ft(D,S),createTime:Date.now(),subscriptionOptions:S};return yield rn(D,V),V.token})).apply(this,arguments)}function Lc(D,S){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,F.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mr(S)})})).apply(this,arguments)}function uh(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function cl(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function zn(D,S){if(!S.notification)return;D.notification={};const x=S.notification.title;x&&(D.notification.title=x);const V=S.notification.body;V&&(D.notification.body=V);const Q=S.notification.image;Q&&(D.notification.image=Q);const ne=S.notification.icon;ne&&(D.notification.icon=ne)}(S,D),function gs(D,S){!S.data||(D.data=S.data)}(S,D),function Bc(D,S){var x,V,Q,ne,De;if(!(S.fcmOptions||null!==(x=S.notification)&&void 0!==x&&x.click_action))return;D.fcmOptions={};const je=null!==(Q=null===(V=S.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==Q?Q:null===(ne=S.notification)||void 0===ne?void 0:ne.click_action;je&&(D.fcmOptions.link=je);const Je=null===(De=S.fcmOptions)||void 0===De?void 0:De.analytics_label;Je&&(D.fcmOptions.analyticsLabel=Je)}(S,D),S}function Lo(D){return"object"==typeof D&&!!D&&ol in D}function Fs(D,S){const x=[];for(let V=0;V<D.length;V++)x.push(D.charAt(V)),V<S.length&&x.push(S.charAt(V));return x.join("")}function dl(D){return Zn.create("missing-app-config-values",{valueName:D})}Fs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pm{constructor(S,x,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Om(D){if(!D||!D.options)throw dl("App Configuration Object");if(!D.name)throw dl("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:x}=D;for(const V of S)if(!x[V])throw dl(V);return{appName:D.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:x,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Vc(D){return bu.apply(this,arguments)}function bu(){return(bu=(0,F.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(fs,{scope:Rs}),D.swRegistration.update().catch(()=>{})}catch(S){throw Zn.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function hl(D,S){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,F.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield Vc(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Zn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function fl(D,S){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,F.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=ps)})).apply(this,arguments)}function Cu(){return(Cu=(0,F.Z)(function*(D,S){if(!navigator)throw Zn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zn.create("permission-blocked");return yield fl(D,S?.vapidKey),yield hl(D,S?.serviceWorkerRegistration),_u(D)})).apply(this,arguments)}function jc(D,S,x){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,F.Z)(function*(D,S,x){const V=$c(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:x[ol],message_name:x[lu],message_time:x[Oc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $c(D){switch(D){case Os.NOTIFICATION_CLICKED:return"notification_open";case Os.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Uo(){return(Uo=(0,F.Z)(function*(D,S){const x=S.data;if(!x.isFirebaseMessaging)return;D.onMessageHandler&&x.messageType===Os.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(cl(x)):D.onMessageHandler.next(cl(x)));const V=x.data;Lo(V)&&"1"===V[tp]&&(yield jc(D,x.messageType,V))})).apply(this,arguments)}const Bo="@firebase/messaging",_i=D=>{const S=new Pm(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function ch(D,S){return Uo.apply(this,arguments)}(S,x)),S},_r=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:V=>function wu(D,S){return Cu.apply(this,arguments)}(S,V)}};function dh(){return qc.apply(this,arguments)}function qc(){return(qc=(0,F.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nn(){(0,re._registerComponent)(new ce.wA("messaging",_i,"PUBLIC")),(0,re._registerComponent)(new ce.wA("messaging-internal",_r,"PRIVATE")),(0,re.registerVersion)(Bo,"0.12.4"),(0,re.registerVersion)(Bo,"0.12.4","esm2017")}();const va="analytics",ph="firebase_id",Zo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Iu="https://www.googletagmanager.com/gtag/js",Kn=new ae.Yd("@firebase/analytics");function Su(D){return Promise.all(D.map(S=>S.catch(x=>x)))}function Au(D,S){const x=document.createElement("script");x.src=`${Iu}?l=${D}&id=${S}`,x.async=!0,document.head.appendChild(x)}function ap(D,S,x,V,Q,ne){return ba.apply(this,arguments)}function ba(){return(ba=(0,F.Z)(function*(D,S,x,V,Q,ne){const De=V[Q];try{if(De)yield S[De];else{const Je=(yield Su(x)).find(mt=>mt.measurementId===Q);Je&&(yield S[Je.appId])}}catch(je){Kn.error(je)}D("config",Q,ne)})).apply(this,arguments)}function wa(D,S,x,V,Q){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,F.Z)(function*(D,S,x,V,Q){try{let ne=[];if(Q&&Q.send_to){let De=Q.send_to;Array.isArray(De)||(De=[De]);const je=yield Su(x);for(const Je of De){const mt=je.find(xt=>xt.measurementId===Je),Bt=mt&&S[mt.appId];if(!Bt){ne=[];break}ne.push(Bt)}}0===ne.length&&(ne=Object.values(S)),yield Promise.all(ne),D("event",V,Q||{})}catch(ne){Kn.error(ne)}})).apply(this,arguments)}function mh(D){const S=window.document.getElementsByTagName("script");for(const x of Object.values(S))if(x.src&&x.src.includes(Iu)&&x.src.includes(D))return x;return null}const xi=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_l=new class ms{constructor(S={},x=1e3){this.throttleMetadata=S,this.intervalMillis=x}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,x){this.throttleMetadata[S]=x}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function yh(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function yl(D){return zc.apply(this,arguments)}function zc(){return(zc=(0,F.Z)(function*(D){var S;const{appId:x,apiKey:V}=D,Q={method:"GET",headers:yh(V)},ne=Zo.replace("{app-id}",x),De=yield fetch(ne,Q);if(200!==De.status&&304!==De.status){let je="";try{const Je=yield De.json();null!==(S=Je.error)&&void 0!==S&&S.message&&(je=Je.error.message)}catch{}throw xi.create("config-fetch-failed",{httpStatus:De.status,responseMessage:je})}return De.json()})).apply(this,arguments)}function ei(D){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,F.Z)(function*(D,S=_l,x){const{appId:V,apiKey:Q,measurementId:ne}=D.options;if(!V)throw xi.create("no-app-id");if(!Q){if(ne)return{measurementId:ne,appId:V};throw xi.create("no-api-key")}const De=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new Ru;return setTimeout((0,F.Z)(function*(){je.abort()}),void 0!==x?x:6e4),Mu({appId:V,apiKey:Q,measurementId:ne},De,je,S)})).apply(this,arguments)}function Mu(D,S,x){return jo.apply(this,arguments)}function jo(){return(jo=(0,F.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:x},V,Q=_l){var ne;const{appId:De,measurementId:je}=D;try{yield vl(V,S)}catch(Je){if(je)return Kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${Je?.message}]`),{appId:De,measurementId:je};throw Je}try{const Je=yield yl(D);return Q.deleteThrottleMetadata(De),Je}catch(Je){const mt=Je;if(!xu(mt)){if(Q.deleteThrottleMetadata(De),je)return Kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:De,measurementId:je};throw Je}const Bt=503===Number(null===(ne=mt?.customData)||void 0===ne?void 0:ne.httpStatus)?(0,ie.$s)(x,Q.intervalMillis,30):(0,ie.$s)(x,Q.intervalMillis),xt={throttleEndTimeMillis:Date.now()+Bt,backoffCount:x+1};return Q.setThrottleMetadata(De,xt),Kn.debug(`Calling attemptFetch again in ${Bt} millis`),Mu(D,xt,V,Q)}})).apply(this,arguments)}function vl(D,S){return new Promise((x,V)=>{const Q=Math.max(S-Date.now(),0),ne=setTimeout(x,Q);D.addEventListener(()=>{clearTimeout(ne),V(xi.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function xu(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Ru{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let ao,wl;function lo(){return(lo=(0,F.Z)(function*(D,S,x,V,Q){if(Q&&Q.global)D("event",x,V);else{const ne=yield S;D("event",x,Object.assign(Object.assign({},V),{send_to:ne}))}})).apply(this,arguments)}function $o(D){wl=D}function Qc(D){ao=D}function Us(){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,F.Z)(function*(){if(!(0,ie.hl)())return Kn.warn(xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(D){return Kn.warn(xi.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ea(){return(Ea=(0,F.Z)(function*(D,S,x,V,Q,ne,De){var je;const Je=ei(D);Je.then(ti=>{x[ti.measurementId]=ti.appId,D.options.measurementId&&ti.measurementId!==D.options.measurementId&&Kn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${ti.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ti=>Kn.error(ti)),S.push(Je);const mt=Us().then(ti=>{if(ti)return V.getId()}),[Bt,xt]=yield Promise.all([Je,mt]);mh(ne)||Au(ne,Bt.measurementId),wl&&(Q("consent","default",wl),$o(void 0)),Q("js",new Date);const ci=null!==(je=De?.config)&&void 0!==je?je:{};return ci.origin="firebase",ci.update=!0,null!=xt&&(ci[ph]=xt),Q("config",Bt.measurementId,ci),ao&&(Q("set",ao),Qc(void 0)),Bt.measurementId})).apply(this,arguments)}class ku{constructor(S){this.app=S}_delete(){return delete yr[this.app.options.appId],Promise.resolve()}}let yr={},uo=[];const Da={};let Sa,qo,Ia="dataLayer",Cl=!1;function Fv(D,S,x){!function km(){const D=[];if((0,ie.ru)()&&D.push("This is a browser extension environment."),(0,ie.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((V,Q)=>`(${Q+1}) ${V}`).join(" "),x=xi.create("invalid-analytics-context",{errorInfo:S});Kn.warn(x.message)}}();const V=D.options.appId;if(!V)throw xi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw xi.create("no-api-key");Kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yr[V])throw xi.create("already-exists",{id:V});if(!Cl){!function gh(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(Ia);const{wrappedGtag:ne,gtagCore:De}=function pl(D,S,x,V,Q){let ne=function(...De){window[V].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ne=window[Q]),window[Q]=function Nu(D,S,x,V){function ne(){return(ne=(0,F.Z)(function*(De,je,Je){try{"event"===De?yield wa(D,S,x,je,Je):"config"===De?yield ap(D,S,x,V,je,Je):"consent"===De?D("consent","update",Je):D("set",je)}catch(mt){Kn.error(mt)}})).apply(this,arguments)}return function Q(De,je,Je){return ne.apply(this,arguments)}}(ne,D,S,x),{gtagCore:ne,wrappedGtag:window[Q]}}(yr,uo,Da,Ia,"gtag");qo=ne,Sa=De,Cl=!0}return yr[V]=function Ta(D,S,x,V,Q,ne,De){return Ea.apply(this,arguments)}(D,uo,Da,S,Sa,Ia,x),new ku(D)}function Uv(){return lp.apply(this,arguments)}function lp(){return(lp=(0,F.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const dt="@firebase/analytics";!function en(){(0,re._registerComponent)(new ce.wA(va,(S,{options:x})=>Fv(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,re._registerComponent)(new ce.wA("analytics-internal",function D(S){try{const x=S.getProvider(va).getImmediate();return{logEvent:(V,Q,ne)=>function fn(D,S,x,V){D=(0,ie.m9)(D),function vh(D,S,x,V,Q){return lo.apply(this,arguments)}(qo,yr[D.app.options.appId],S,x,V).catch(Q=>Kn.error(Q))}(x,V,Q,ne)}}catch(x){throw xi.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,re.registerVersion)(dt,"0.9.4"),(0,re.registerVersion)(dt,"0.9.4","esm2017")}();var Xr=U(4408),Un=U(7565);const Lu=new class co extends Un.v{}(class Tl extends Xr.o{constructor(S,x){super(S,x),this.scheduler=S,this.work=x}schedule(S,x=0){return x>0?super.schedule(S,x):(this.delay=x,this.state=S,this.scheduler.flush(this),this)}execute(S,x){return x>0||this.closed?super.execute(S,x):this._execute(S,x)}requestAsyncId(S,x,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(S,x,V):(S.flush(this),0)}});var Xc=U(4986),El=U(8505),Wo=U(5363),Bs=U(9468);const Ke=new s.GfV("7.5.0"),Dl="__angularfire_symbol__analyticsIsSupportedValue",ho="__angularfire_symbol__analyticsIsSupported",Aa="__angularfire_symbol__remoteConfigIsSupportedValue",Na="__angularfire_symbol__remoteConfigIsSupported",In="__angularfire_symbol__messagingIsSupportedValue",ed="__angularfire_symbol__messagingIsSupported";function Il(D,S,x){if(S){if(1===S.length)return S[0];const ne=S.filter(De=>De.app===x);if(1===ne.length)return ne[0]}return x.container.getProvider(D).getImmediate({optional:!0})}globalThis[ho]||(globalThis[ho]=Uv().then(D=>globalThis[Dl]=D).catch(()=>globalThis[Dl]=!1)),globalThis[ed]||(globalThis[ed]=dh().then(D=>globalThis[In]=D).catch(()=>globalThis[In]=!1)),globalThis[Na]||(globalThis[Na]=au().then(D=>globalThis[Aa]=D).catch(()=>globalThis[Aa]=!1));const _s=(D,S)=>{const x=S?[S]:(0,X.C6)(),V=[];return x.forEach(Q=>{Q.container.getProvider(D).instances.forEach(De=>{V.includes(De)||V.push(De)})}),V};function lr(){}class es{constructor(S,x=Lu){this.zone=S,this.delegate=x}now(){return this.delegate.now()}schedule(S,x,V){const Q=this.zone;return this.delegate.schedule(function(De){Q.runGuarded(()=>{S.apply(this,[De])})},x,V)}}class nd{constructor(S){this.zone=S,this.task=null}call(S,x){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lr,{},lr,lr)),x.pipe((0,El.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let br=(()=>{class D{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new es(Zone.current)),this.insideAngular=x.run(()=>new es(Zone.current,Xc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(x){return new(x||D)(s.LFG(s.R0b))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function ur(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Yn(D){return D.pipe((0,Wo.Q)(ur().outsideAngular))}function Vs(D){return ur(),function On(D){return function(x){return(x=x.lift(new nd(D.ngZone))).pipe((0,Bs.R)(D.outsideAngular),(0,Wo.Q)(D.insideAngular))}}(ur())(D)}},2090:(_t,Ae,U)=>{U.d(Ae,{$s:()=>Ot,BH:()=>Te,DV:()=>Ar,Dv:()=>Si,G6:()=>Oe,GJ:()=>Wr,L:()=>pe,LL:()=>st,Pz:()=>we,Sg:()=>Ge,UG:()=>me,UI:()=>rt,US:()=>ce,Wj:()=>Ms,Wl:()=>Di,Yr:()=>be,ZB:()=>Y,ZR:()=>pn,aH:()=>Ne,b$:()=>wt,cI:()=>Nt,dS:()=>zr,eu:()=>Ee,g5:()=>F,gK:()=>Ai,gQ:()=>oi,h$:()=>fe,hl:()=>Pe,hu:()=>X,jU:()=>Ze,lb:()=>cn,m9:()=>Ki,ne:()=>An,p$:()=>$,pd:()=>$n,r3:()=>gr,ru:()=>tt,tV:()=>G,uI:()=>j,ug:()=>dn,vZ:()=>zi,w1:()=>oe,w9:()=>sr,xO:()=>Nr,xb:()=>fa,z$:()=>$e,zI:()=>gt,zd:()=>ds});const X=function(H,Z){if(!H)throw F(Z)},F=function(H){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+H)},re=function(H){const Z=[];let K=0;for(let le=0;le<H.length;le++){let te=H.charCodeAt(le);te<128?Z[K++]=te:te<2048?(Z[K++]=te>>6|192,Z[K++]=63&te|128):55296==(64512&te)&&le+1<H.length&&56320==(64512&H.charCodeAt(le+1))?(te=65536+((1023&te)<<10)+(1023&H.charCodeAt(++le)),Z[K++]=te>>18|240,Z[K++]=te>>12&63|128,Z[K++]=te>>6&63|128,Z[K++]=63&te|128):(Z[K++]=te>>12|224,Z[K++]=te>>6&63|128,Z[K++]=63&te|128)}return Z},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,Z){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let te=0;te<H.length;te+=3){const Qe=H[te],Mt=te+1<H.length,Qt=Mt?H[te+1]:0,hn=te+2<H.length,Ve=hn?H[te+2]:0;let Vn=(15&Qt)<<2|Ve>>6,Vi=63&Ve;hn||(Vi=64,Mt||(Vn=64)),le.push(K[Qe>>2],K[(3&Qe)<<4|Qt>>4],K[Vn],K[Vi])}return le.join("")},encodeString(H,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(H):this.encodeByteArray(re(H),Z)},decodeString(H,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(H):function(H){const Z=[];let K=0,le=0;for(;K<H.length;){const te=H[K++];if(te<128)Z[le++]=String.fromCharCode(te);else if(te>191&&te<224){const Qe=H[K++];Z[le++]=String.fromCharCode((31&te)<<6|63&Qe)}else if(te>239&&te<365){const hn=((7&te)<<18|(63&H[K++])<<12|(63&H[K++])<<6|63&H[K++])-65536;Z[le++]=String.fromCharCode(55296+(hn>>10)),Z[le++]=String.fromCharCode(56320+(1023&hn))}else{const Qe=H[K++],Mt=H[K++];Z[le++]=String.fromCharCode((15&te)<<12|(63&Qe)<<6|63&Mt)}}return Z.join("")}(this.decodeStringToByteArray(H,Z))},decodeStringToByteArray(H,Z){this.init_();const K=Z?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let te=0;te<H.length;){const Qe=K[H.charAt(te++)],Qt=te<H.length?K[H.charAt(te)]:0;++te;const Ve=te<H.length?K[H.charAt(te)]:64;++te;const vt=te<H.length?K[H.charAt(te)]:64;if(++te,null==Qe||null==Qt||null==Ve||null==vt)throw new ae;le.push(Qe<<2|Qt>>4),64!==Ve&&(le.push(Qt<<4&240|Ve>>2),64!==vt&&le.push(Ve<<6&192|vt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fe=function(H){const Z=re(H);return ce.encodeByteArray(Z,!0)},pe=function(H){return fe(H).replace(/\./g,"")},G=function(H){try{return ce.decodeString(H,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function $(H){return Y(void 0,H)}function Y(H,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return Z}for(const K in Z)!Z.hasOwnProperty(K)||!ze(K)||(H[K]=Y(H[K],Z[K]));return H}function ze(H){return"__proto__"!==H}const de=()=>{try{return function Re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Z=H&&G(H[1]);return Z&&JSON.parse(Z)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},Ne=()=>{var H;return null===(H=de())||void 0===H?void 0:H.config},we=H=>{var Z;return null===(Z=de())||void 0===Z?void 0:Z[`_${H}`]};class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,K)=>{this.resolve=Z,this.reject=K})}wrapCallback(Z){return(K,le)=>{K?this.reject(K):this.resolve(le),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(K):Z(K,le))}}}function Ge(H,Z){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=Z||"demo-project",te=H.iat||0,Qe=H.sub||H.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Mt=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:te,exp:te+3600,auth_time:te,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},H);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Mt)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function j(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function me(){var H;const Z=null===(H=de())||void 0===H?void 0:H.forceEnvironment;if("node"===Z)return!0;if("browser"===Z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ze(){return"object"==typeof self&&self.self===self}function tt(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function wt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function oe(){const H=$e();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function be(){return!1}function Oe(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ee(){return new Promise((H,Z)=>{try{let K=!0;const le="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(le);te.onsuccess=()=>{te.result.close(),K||self.indexedDB.deleteDatabase(le),H(!0)},te.onupgradeneeded=()=>{K=!1},te.onerror=()=>{var Qe;Z((null===(Qe=te.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(K){Z(K)}})}function gt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pn extends Error{constructor(Z,K,le){super(K),this.code=Z,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,st.prototype.create)}}class st{constructor(Z,K,le){this.service=Z,this.serviceName=K,this.errors=le}create(Z,...K){const le=K[0]||{},te=`${this.service}/${Z}`,Qe=this.errors[Z],Mt=Qe?function ln(H,Z){return H.replace(Tt,(K,le)=>{const te=Z[le];return null!=te?String(te):`<${le}?>`})}(Qe,le):"Error";return new pn(te,`${this.serviceName}: ${Mt} (${te}).`,le)}}const Tt=/\{\$([^}]+)}/g;function Nt(H){return JSON.parse(H)}function Di(H){return JSON.stringify(H)}const xn=function(H){let Z={},K={},le={},te="";try{const Qe=H.split(".");Z=Nt(G(Qe[0])||""),K=Nt(G(Qe[1])||""),te=Qe[2],le=K.d||{},delete K.d}catch{}return{header:Z,claims:K,data:le,signature:te}},sr=function(H){const K=xn(H).claims;return!!K&&"object"==typeof K&&K.hasOwnProperty("iat")},Wr=function(H){const Z=xn(H).claims;return"object"==typeof Z&&!0===Z.admin};function gr(H,Z){return Object.prototype.hasOwnProperty.call(H,Z)}function Ar(H,Z){if(Object.prototype.hasOwnProperty.call(H,Z))return H[Z]}function fa(H){for(const Z in H)if(Object.prototype.hasOwnProperty.call(H,Z))return!1;return!0}function rt(H,Z,K){const le={};for(const te in H)Object.prototype.hasOwnProperty.call(H,te)&&(le[te]=Z.call(K,H[te],te,H));return le}function zi(H,Z){if(H===Z)return!0;const K=Object.keys(H),le=Object.keys(Z);for(const te of K){if(!le.includes(te))return!1;const Qe=H[te],Mt=Z[te];if(cs(Qe)&&cs(Mt)){if(!zi(Qe,Mt))return!1}else if(Qe!==Mt)return!1}for(const te of le)if(!K.includes(te))return!1;return!0}function cs(H){return null!==H&&"object"==typeof H}function Nr(H){const Z=[];for(const[K,le]of Object.entries(H))Array.isArray(le)?le.forEach(te=>{Z.push(encodeURIComponent(K)+"="+encodeURIComponent(te))}):Z.push(encodeURIComponent(K)+"="+encodeURIComponent(le));return Z.length?"&"+Z.join("&"):""}function ds(H){const Z={};return H.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[te,Qe]=le.split("=");Z[decodeURIComponent(te)]=decodeURIComponent(Qe)}}),Z}function $n(H){const Z=H.indexOf("?");if(!Z)return"";const K=H.indexOf("#",Z);return H.substring(Z,K>0?K:void 0)}class oi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Z=1;Z<this.blockSize;++Z)this.pad_[Z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Z,K){K||(K=0);const le=this.W_;if("string"==typeof Z)for(let vt=0;vt<16;vt++)le[vt]=Z.charCodeAt(K)<<24|Z.charCodeAt(K+1)<<16|Z.charCodeAt(K+2)<<8|Z.charCodeAt(K+3),K+=4;else for(let vt=0;vt<16;vt++)le[vt]=Z[K]<<24|Z[K+1]<<16|Z[K+2]<<8|Z[K+3],K+=4;for(let vt=16;vt<80;vt++){const Vn=le[vt-3]^le[vt-8]^le[vt-14]^le[vt-16];le[vt]=4294967295&(Vn<<1|Vn>>>31)}let Ve,yt,te=this.chain_[0],Qe=this.chain_[1],Mt=this.chain_[2],Qt=this.chain_[3],hn=this.chain_[4];for(let vt=0;vt<80;vt++){vt<40?vt<20?(Ve=Qt^Qe&(Mt^Qt),yt=1518500249):(Ve=Qe^Mt^Qt,yt=1859775393):vt<60?(Ve=Qe&Mt|Qt&(Qe|Mt),yt=2400959708):(Ve=Qe^Mt^Qt,yt=3395469782);const Vn=(te<<5|te>>>27)+Ve+hn+yt+le[vt]&4294967295;hn=Qt,Qt=Mt,Mt=4294967295&(Qe<<30|Qe>>>2),Qe=te,te=Vn}this.chain_[0]=this.chain_[0]+te&4294967295,this.chain_[1]=this.chain_[1]+Qe&4294967295,this.chain_[2]=this.chain_[2]+Mt&4294967295,this.chain_[3]=this.chain_[3]+Qt&4294967295,this.chain_[4]=this.chain_[4]+hn&4294967295}update(Z,K){if(null==Z)return;void 0===K&&(K=Z.length);const le=K-this.blockSize;let te=0;const Qe=this.buf_;let Mt=this.inbuf_;for(;te<K;){if(0===Mt)for(;te<=le;)this.compress_(Z,te),te+=this.blockSize;if("string"==typeof Z){for(;te<K;)if(Qe[Mt]=Z.charCodeAt(te),++Mt,++te,Mt===this.blockSize){this.compress_(Qe),Mt=0;break}}else for(;te<K;)if(Qe[Mt]=Z[te],++Mt,++te,Mt===this.blockSize){this.compress_(Qe),Mt=0;break}}this.inbuf_=Mt,this.total_+=K}digest(){const Z=[];let K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let te=this.blockSize-1;te>=56;te--)this.buf_[te]=255&K,K/=256;this.compress_(this.buf_);let le=0;for(let te=0;te<5;te++)for(let Qe=24;Qe>=0;Qe-=8)Z[le]=this.chain_[te]>>Qe&255,++le;return Z}}function An(H,Z){const K=new It(H,Z);return K.subscribe.bind(K)}class It{constructor(Z,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{Z(this)}).catch(le=>{this.error(le)})}next(Z){this.forEachObserver(K=>{K.next(Z)})}error(Z){this.forEachObserver(K=>{K.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,K,le){let te;if(void 0===Z&&void 0===K&&void 0===le)throw new Error("Missing Observer.");te=function wn(H,Z){if("object"!=typeof H||null===H)return!1;for(const K of Z)if(K in H&&"function"==typeof H[K])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:K,complete:le},void 0===te.next&&(te.next=ai),void 0===te.error&&(te.error=ai),void 0===te.complete&&(te.complete=ai);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),Qe}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,Z)}sendOne(Z,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{K(this.observers[Z])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ai(){}const Si=function(H,Z,K,le){let te;if(le<Z?te="at least "+Z:le>K&&(te=0===K?"none":"no more than "+K),te)throw new Error(H+" failed: Was called with "+le+(1===le?" argument.":" arguments.")+" Expects "+te+".")};function Ai(H,Z){return`${H} failed: ${Z} argument `}function Ms(H,Z,K,le){if((!le||K)&&"function"!=typeof K)throw new Error(Ai(H,Z)+"must be a valid function.")}function cn(H,Z,K,le){if((!le||K)&&("object"!=typeof K||null===K))throw new Error(Ai(H,Z)+"must be a valid context object.")}const zr=function(H){const Z=[];let K=0;for(let le=0;le<H.length;le++){let te=H.charCodeAt(le);if(te>=55296&&te<=56319){const Qe=te-55296;le++,X(le<H.length,"Surrogate pair missing trail surrogate."),te=65536+(Qe<<10)+(H.charCodeAt(le)-56320)}te<128?Z[K++]=te:te<2048?(Z[K++]=te>>6|192,Z[K++]=63&te|128):te<65536?(Z[K++]=te>>12|224,Z[K++]=te>>6&63|128,Z[K++]=63&te|128):(Z[K++]=te>>18|240,Z[K++]=te>>12&63|128,Z[K++]=te>>6&63|128,Z[K++]=63&te|128)}return Z},dn=function(H){let Z=0;for(let K=0;K<H.length;K++){const le=H.charCodeAt(K);le<128?Z++:le<2048?Z+=2:le>=55296&&le<=56319?(Z+=4,K++):Z+=3}return Z};function Ot(H,Z=1e3,K=2){const le=Z*Math.pow(K,H),te=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+te)}function Ki(H){return H&&H._delegate?H._delegate:H}},7560:(_t,Ae,U)=>{var s=U(4650);let X=null;function F(){return X}const ae=new s.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function pe(){return(0,s.LFG)($)}()},providedIn:"platform"}),n})();const G=new s.OlP("Location Initialized");let $=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){Y()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){Y()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ze(){return new $((0,s.LFG)(ae))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ut(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(at)},providedIn:"root"}),n})();const de=new s.OlP("appBaseHref");let at=(()=>{class n extends ve{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ut(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const c=this.prepareExternalUrl(r+ut(o));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,o){const c=this.prepareExternalUrl(r+ut(o));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(fe),s.LFG(de,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bt=(()=>{class n extends ve{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Re(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let c=this.prepareExternalUrl(r+ut(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,o){let c=this.prepareExternalUrl(r+ut(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(fe),s.LFG(de,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Ce(Ge(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ut(i))}normalize(t){return n.stripTrailingSlash(function Te(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ut(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ut(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ut,n.joinWithSlash=Re,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(s.LFG(ve))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function we(){return new Ne((0,s.LFG)(ve))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}var j=(()=>((j=j||{})[j.Decimal=0]="Decimal",j[j.Percent=1]="Percent",j[j.Currency=2]="Currency",j[j.Scientific=3]="Scientific",j))(),Ze=(()=>((Ze=Ze||{})[Ze.Format=0]="Format",Ze[Ze.Standalone=1]="Standalone",Ze))(),tt=(()=>((tt=tt||{})[tt.Narrow=0]="Narrow",tt[tt.Abbreviated=1]="Abbreviated",tt[tt.Wide=2]="Wide",tt[tt.Short=3]="Short",tt))(),wt=(()=>((wt=wt||{})[wt.Short=0]="Short",wt[wt.Medium=1]="Medium",wt[wt.Long=2]="Long",wt[wt.Full=3]="Full",wt))(),it=(()=>((it=it||{})[it.Decimal=0]="Decimal",it[it.Group=1]="Group",it[it.List=2]="List",it[it.PercentSign=3]="PercentSign",it[it.PlusSign=4]="PlusSign",it[it.MinusSign=5]="MinusSign",it[it.Exponential=6]="Exponential",it[it.SuperscriptingExponent=7]="SuperscriptingExponent",it[it.PerMille=8]="PerMille",it[it.Infinity=9]="Infinity",it[it.NaN=10]="NaN",it[it.TimeSeparator=11]="TimeSeparator",it[it.CurrencyDecimal=12]="CurrencyDecimal",it[it.CurrencyGroup=13]="CurrencyGroup",it))();function be(n,e,t){const i=(0,s.cg1)(n),o=rt([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],e);return rt(o,t)}function Oe(n,e,t){const i=(0,s.cg1)(n),o=rt([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],e);return rt(o,t)}function Pe(n,e,t){const i=(0,s.cg1)(n),o=rt([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],e);return rt(o,t)}function pn(n,e){return rt((0,s.cg1)(n)[s.wAp.DateFormat],e)}function st(n,e){return rt((0,s.cg1)(n)[s.wAp.TimeFormat],e)}function ln(n,e){return rt((0,s.cg1)(n)[s.wAp.DateTimeFormat],e)}function Tt(n,e){const t=(0,s.cg1)(n),i=t[s.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===it.CurrencyDecimal)return t[s.wAp.NumberSymbols][it.Decimal];if(e===it.CurrencyGroup)return t[s.wAp.NumberSymbols][it.Group]}return i}function Wr(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rt(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function zi(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ds=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$n={},oi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var An=(()=>((An=An||{})[An.Short=0]="Short",An[An.ShortGMT=1]="ShortGMT",An[An.Long=2]="Long",An[An.Extended=3]="Extended",An))(),It=(()=>((It=It||{})[It.FullYear=0]="FullYear",It[It.Month=1]="Month",It[It.Date=2]="Date",It[It.Hours=3]="Hours",It[It.Minutes=4]="Minutes",It[It.Seconds=5]="Seconds",It[It.FractionalSeconds=6]="FractionalSeconds",It[It.Day=7]="Day",It))(),Ct=(()=>((Ct=Ct||{})[Ct.DayPeriods=0]="DayPeriods",Ct[Ct.Days=1]="Days",Ct[Ct.Months=2]="Months",Ct[Ct.Eras=3]="Eras",Ct))();function wn(n,e,t,i){let r=function te(n){if(Mt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,c=1]=n.split("-").map(h=>+h);return ai(r,o-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(ds))return function Qe(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,h=Number(n[5]||0)-i,p=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,c,h,p,y),e}(i)}const e=new Date(n);if(!Mt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Si(t,e)||e;let h,c=[];for(;e;){if(h=oi.exec(e),!h){c.push(e);break}{c=c.concat(h.slice(1));const C=c.pop();if(!C)break;e=C}}let p=r.getTimezoneOffset();i&&(p=Z(i,p),r=function le(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function K(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(Z(e,r)-r))}(r,i,!0));let y="";return c.forEach(C=>{const I=function H(n){if(Ki[n])return Ki[n];let e;switch(n){case"G":case"GG":case"GGG":e=dn(Ct.Eras,tt.Abbreviated);break;case"GGGG":e=dn(Ct.Eras,tt.Wide);break;case"GGGGG":e=dn(Ct.Eras,tt.Narrow);break;case"y":e=cn(It.FullYear,1,0,!1,!0);break;case"yy":e=cn(It.FullYear,2,0,!0,!0);break;case"yyy":e=cn(It.FullYear,3,0,!1,!0);break;case"yyyy":e=cn(It.FullYear,4,0,!1,!0);break;case"Y":e=Wt(1);break;case"YY":e=Wt(2,!0);break;case"YYY":e=Wt(3);break;case"YYYY":e=Wt(4);break;case"M":case"L":e=cn(It.Month,1,1);break;case"MM":case"LL":e=cn(It.Month,2,1);break;case"MMM":e=dn(Ct.Months,tt.Abbreviated);break;case"MMMM":e=dn(Ct.Months,tt.Wide);break;case"MMMMM":e=dn(Ct.Months,tt.Narrow);break;case"LLL":e=dn(Ct.Months,tt.Abbreviated,Ze.Standalone);break;case"LLLL":e=dn(Ct.Months,tt.Wide,Ze.Standalone);break;case"LLLLL":e=dn(Ct.Months,tt.Narrow,Ze.Standalone);break;case"w":e=Ut(1);break;case"ww":e=Ut(2);break;case"W":e=Ut(1,!0);break;case"d":e=cn(It.Date,1);break;case"dd":e=cn(It.Date,2);break;case"c":case"cc":e=cn(It.Day,1);break;case"ccc":e=dn(Ct.Days,tt.Abbreviated,Ze.Standalone);break;case"cccc":e=dn(Ct.Days,tt.Wide,Ze.Standalone);break;case"ccccc":e=dn(Ct.Days,tt.Narrow,Ze.Standalone);break;case"cccccc":e=dn(Ct.Days,tt.Short,Ze.Standalone);break;case"E":case"EE":case"EEE":e=dn(Ct.Days,tt.Abbreviated);break;case"EEEE":e=dn(Ct.Days,tt.Wide);break;case"EEEEE":e=dn(Ct.Days,tt.Narrow);break;case"EEEEEE":e=dn(Ct.Days,tt.Short);break;case"a":case"aa":case"aaa":e=dn(Ct.DayPeriods,tt.Abbreviated);break;case"aaaa":e=dn(Ct.DayPeriods,tt.Wide);break;case"aaaaa":e=dn(Ct.DayPeriods,tt.Narrow);break;case"b":case"bb":case"bbb":e=dn(Ct.DayPeriods,tt.Abbreviated,Ze.Standalone,!0);break;case"bbbb":e=dn(Ct.DayPeriods,tt.Wide,Ze.Standalone,!0);break;case"bbbbb":e=dn(Ct.DayPeriods,tt.Narrow,Ze.Standalone,!0);break;case"B":case"BB":case"BBB":e=dn(Ct.DayPeriods,tt.Abbreviated,Ze.Format,!0);break;case"BBBB":e=dn(Ct.DayPeriods,tt.Wide,Ze.Format,!0);break;case"BBBBB":e=dn(Ct.DayPeriods,tt.Narrow,Ze.Format,!0);break;case"h":e=cn(It.Hours,1,-12);break;case"hh":e=cn(It.Hours,2,-12);break;case"H":e=cn(It.Hours,1);break;case"HH":e=cn(It.Hours,2);break;case"m":e=cn(It.Minutes,1);break;case"mm":e=cn(It.Minutes,2);break;case"s":e=cn(It.Seconds,1);break;case"ss":e=cn(It.Seconds,2);break;case"S":e=cn(It.FractionalSeconds,1);break;case"SS":e=cn(It.FractionalSeconds,2);break;case"SSS":e=cn(It.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=or(An.Short);break;case"ZZZZZ":e=or(An.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=or(An.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=or(An.Long);break;default:return null}return Ki[n]=e,e}(C);y+=I?I(r,t,p):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function ai(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Si(n,e){const t=function ge(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if($n[t]=$n[t]||{},$n[t][e])return $n[t][e];let i="";switch(e){case"shortDate":i=pn(n,wt.Short);break;case"mediumDate":i=pn(n,wt.Medium);break;case"longDate":i=pn(n,wt.Long);break;case"fullDate":i=pn(n,wt.Full);break;case"shortTime":i=st(n,wt.Short);break;case"mediumTime":i=st(n,wt.Medium);break;case"longTime":i=st(n,wt.Long);break;case"fullTime":i=st(n,wt.Full);break;case"short":const r=Si(n,"shortTime"),o=Si(n,"shortDate");i=Ai(ln(n,wt.Short),[r,o]);break;case"medium":const c=Si(n,"mediumTime"),h=Si(n,"mediumDate");i=Ai(ln(n,wt.Medium),[c,h]);break;case"long":const p=Si(n,"longTime"),y=Si(n,"longDate");i=Ai(ln(n,wt.Long),[p,y]);break;case"full":const C=Si(n,"fullTime"),I=Si(n,"fullDate");i=Ai(ln(n,wt.Full),[C,I])}return i&&($n[t][e]=i),i}function Ai(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Lt(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let c=String(n);for(;c.length<e;)c="0"+c;return i&&(c=c.slice(c.length-e)),o+c}function cn(n,e,t=0,i=!1,r=!1){return function(o,c){let h=function zr(n,e){switch(n){case It.FullYear:return e.getFullYear();case It.Month:return e.getMonth();case It.Date:return e.getDate();case It.Hours:return e.getHours();case It.Minutes:return e.getMinutes();case It.Seconds:return e.getSeconds();case It.FractionalSeconds:return e.getMilliseconds();case It.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||h>-t)&&(h+=t),n===It.Hours)0===h&&-12===t&&(h=12);else if(n===It.FractionalSeconds)return function Ms(n,e){return Lt(n,3).substring(0,e)}(h,e);const p=Tt(c,it.MinusSign);return Lt(h,e,p,i,r)}}function dn(n,e,t=Ze.Format,i=!1){return function(r,o){return function Ni(n,e,t,i,r,o){switch(t){case Ct.Months:return Pe(e,r,i)[n.getMonth()];case Ct.Days:return Oe(e,r,i)[n.getDay()];case Ct.DayPeriods:const c=n.getHours(),h=n.getMinutes();if(o){const y=function gr(n){const e=(0,s.cg1)(n);return Wr(e),(e[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?zi(i):[zi(i[0]),zi(i[1])])}(e),C=function Ar(n,e,t){const i=(0,s.cg1)(n);Wr(i);const o=rt([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],e)||[];return rt(o,t)||[]}(e,r,i),I=y.findIndex(M=>{if(Array.isArray(M)){const[O,B]=M,W=c>=O.hours&&h>=O.minutes,J=c<B.hours||c===B.hours&&h<B.minutes;if(O.hours<B.hours){if(W&&J)return!0}else if(W||J)return!0}else if(M.hours===c&&M.minutes===h)return!0;return!1});if(-1!==I)return C[I]}return be(e,r,i)[c<12?0:1];case Ct.Eras:return function Ee(n,e){return rt((0,s.cg1)(n)[s.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function or(n){return function(e,t,i){const r=-1*i,o=Tt(t,it.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case An.Short:return(r>=0?"+":"")+Lt(c,2,o)+Lt(Math.abs(r%60),2,o);case An.ShortGMT:return"GMT"+(r>=0?"+":"")+Lt(c,1,o);case An.Long:return"GMT"+(r>=0?"+":"")+Lt(c,2,o)+":"+Lt(Math.abs(r%60),2,o);case An.Extended:return 0===i?"Z":(r>=0?"+":"")+Lt(c,2,o)+":"+Lt(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ot(n){return ai(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Ut(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();r=1+Math.floor((c+o)/7)}else{const o=Ot(t),c=function ct(n){const e=ai(n,0,1).getDay();return ai(n,0,1+(e<=4?4:11)-e)}(o.getFullYear()),h=o.getTime()-c.getTime();r=1+Math.round(h/6048e5)}return Lt(r,n,Tt(i,it.MinusSign))}}function Wt(n,e=!1){return function(t,i){return Lt(Ot(t).getFullYear(),n,Tt(i,it.MinusSign),e)}}const Ki={};function Z(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Mt(n){return n instanceof Date&&!isNaN(n.valueOf())}const Qt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function li(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function il(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}class rl{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ln=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new rl(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,c),no(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{no(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function no(n,e){n.context.$implicit=e.item}let nn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Nc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Mi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Mi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Nc{constructor(){this.$implicit=null,this.ngIf=null}}function Mi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(e)}'.`)}let Yr=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,o,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();let ps=(()=>{class n{constructor(t){this._locale=t}transform(t,i,r){if(!function ol(n){return!(null==n||""===n||n!=n)}(t))return null;r=r||this._locale;try{return function pa(n,e,t){return function Rn(n,e,t,i,r,o,c=!1){let h="",p=!1;if(isFinite(n)){let y=function su(n){let i,r,o,c,h,e=Math.abs(n)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;"0"===e.charAt(o);o++);if(o===(h=e.length))i=[0],r=1;else{for(h--;"0"===e.charAt(h);)h--;for(r-=o,i=[],c=0;o<=h;o++,c++)i[c]=Number(e.charAt(o))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);c&&(y=function Ro(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(y));let C=e.minInt,I=e.minFrac,M=e.maxFrac;if(o){const Fe=o.match(Qt);if(null===Fe)throw new Error(`${o} is not a valid digit info`);const Le=Fe[1],Ue=Fe[3],We=Fe[5];null!=Le&&(C=li(Le)),null!=Ue&&(I=li(Ue)),null!=We?M=li(We):null!=Ue&&I>M&&(M=I)}!function hs(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(e,r),t);let c=o+n.integerLen,h=i[c];if(c>0){i.splice(Math.max(n.integerLen,c));for(let I=c;I<i.length;I++)i[I]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,c=o+1),i[0]=0;for(let I=1;I<c;I++)i[I]=0}if(h>=5)if(c-1<0){for(let I=0;I>c;I--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[c-1]++;for(;r<Math.max(0,o);r++)i.push(0);let p=0!==o;const y=e+n.integerLen,C=i.reduceRight(function(I,M,O,B){return B[O]=(M+=I)<10?M:M-10,p&&(0===B[O]&&O>=y?B.pop():p=!1),M>=10?1:0},0);C&&(i.unshift(C),n.integerLen++)}(y,I,M);let O=y.digits,B=y.integerLen;const W=y.exponent;let J=[];for(p=O.every(Fe=>!Fe);B<C;B++)O.unshift(0);for(;B<0;B++)O.unshift(0);B>0?J=O.splice(B,O.length):(J=O,O=[0]);const Ie=[];for(O.length>=e.lgSize&&Ie.unshift(O.splice(-e.lgSize,O.length).join(""));O.length>e.gSize;)Ie.unshift(O.splice(-e.gSize,O.length).join(""));O.length&&Ie.unshift(O.join("")),h=Ie.join(Tt(t,i)),J.length&&(h+=Tt(t,r)+J.join("")),W&&(h+=Tt(t,it.Exponential)+"+"+W)}else h=Tt(t,it.Infinity);return h=n<0&&!p?e.negPre+h+e.negSuf:e.posPre+h+e.posSuf,h}(n,function Fn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],c=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],h=c[0],p=c[1]||"";t.posPre=h.substring(0,h.indexOf("#"));for(let C=0;C<p.length;C++){const I=p.charAt(C);"0"===I?t.minFrac=t.maxFrac=C+1:"#"===I?t.maxFrac=C+1:t.posSuf+=I}const y=h.split(",");if(t.gSize=y[1]?y[1].length:0,t.lgSize=y[2]||y[1]?(y[2]||y[1]).length:0,o){const C=r.length-t.posPre.length-t.posSuf.length,I=o.indexOf("#");t.negPre=o.substring(0,I).replace(/'/g,""),t.negSuf=o.slice(I+C).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Nt(n,e){return(0,s.cg1)(n)[s.wAp.NumberFormats][e]}(e,j.Percent),Tt(e,it.MinusSign)),e,it.Group,it.Decimal,t,!0).replace(new RegExp("%","g"),Tt(e,it.PercentSign))}(function lu(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),r,i)}catch(o){throw function mi(n,e){return new s.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.soG,16))},n.\u0275pipe=s.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();let ga=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Os="browser";function Hi(n){return"server"===n}let uu=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new rp((0,s.LFG)(ae),window)}),n})();class rp{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Qi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xr(this.window.history)||xr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ko{}class Uo extends class ch extends class ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){X||(X=n)}(new Uo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Tu(){return Bo=Bo||document.querySelector("base"),Bo?Bo.getAttribute("href"):null}();return null==t?null:function _r(n){_i=_i||document.createElement("a"),_i.setAttribute("href",n);const e=_i.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Bo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return il(document.cookie,e)}}let _i,Bo=null;const Nn=new s.OlP("TRANSITION_ID"),qc=[{provide:s.ip1,useFactory:function dh(n,e,t){return()=>{t.get(s.CZH).donePromise.then(()=>{const i=F(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Nn,ae,s.zs3],multi:!0}];let Wc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Eu=new s.OlP("EventManagerPlugins");let hh=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Eu),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Du{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=F().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Vo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ya=(()=>{class n extends Vo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(fh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(fh))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function fh(n){F().remove(n)}const va={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ph=/%COMP%/g;function Au(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Au(n,r,t):(r=r.replace(ph,n),t.push(r))}return t}function gh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ba=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new wa(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new mh(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case s.ifc.ShadowDom:return new _h(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Au(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(hh),s.LFG(ya),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class wa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(va[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(pl(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(pl(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=va[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=va[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,i,r&s.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,gh(i)):this.eventManager.addEventListener(e,t,gh(i))}}function pl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class mh extends wa{constructor(e,t,i,r){super(e),this.component=i;const o=Au(r+"-"+i.id,i.styles,[]);t.addStyles(o),this.contentAttr=function Kn(n){return"_ngcontent-%COMP%".replace(ph,n)}(r+"-"+i.id),this.hostAttr=function Su(n){return"_nghost-%COMP%".replace(ph,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class _h extends wa{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Au(r.id,r.styles,[]);for(let c=0;c<o.length;c++){const h=document.createElement("style");h.textContent=o[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let xi=(()=>{class n extends Du{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const gl=["alt","control","meta","shift"],ml={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ms={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _l=(()=>{class n extends Du{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,o.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),c="code."),gl.forEach(y=>{const C=i.indexOf(y);C>-1&&(i.splice(C,1),c+=y+".")}),c+=o,0!=i.length||0===o.length)return null;const p={};return p.domEventName=r,p.fullKey=c,p}static matchEventFullKeyCode(t,i){let r=ml[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gl.forEach(c=>{c!==r&&(0,ms[c])(t)&&(o+=c+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ru=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Os},{provide:s.g9A,useValue:function Mu(){Uo.makeCurrent()},multi:!0},{provide:ae,useFactory:function vl(){return(0,s.RDi)(document),document},deps:[]}]),ao=new s.OlP(""),vh=[{provide:s.rWj,useClass:class op{addToWindow(e){s.dqk.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const h=function(p){c=c||p,o--,0==o&&i(c)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],lo=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function jo(){return new s.qLn},deps:[]},{provide:Eu,useClass:xi,multi:!0,deps:[ae,s.R0b,s.Lbi]},{provide:Eu,useClass:_l,multi:!0,deps:[ae]},{provide:ba,useClass:ba,deps:[hh,ya,s.AFp]},{provide:s.FYo,useExisting:ba},{provide:Vo,useExisting:ya},{provide:ya,useClass:ya,deps:[ae]},{provide:hh,useClass:hh,deps:[Eu,s.R0b]},{provide:ko,useClass:Wc,deps:[]},[]];let Kc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:s.AFp,useValue:t.appId},{provide:Nn,useExisting:s.AFp},qc]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ao,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...lo,...vh],imports:[ga,s.hGG]}),n})(),Ls=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Ca(){return new Ls((0,s.LFG)(ae))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var fn=U(8996),vr=U(3269);function dt(...n){const e=(0,vr.yG)(n);return(0,fn.D)(n,e)}var gn=U(7579);class en extends gn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Tl=(0,U(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Un=U(9751);const{isArray:co}=Array,{getPrototypeOf:Lu,prototype:Lm,keys:Xc}=Object;function El(n){if(1===n.length){const e=n[0];if(co(e))return{args:e,keys:null};if(function Wo(n){return n&&"object"==typeof n&&Lu(n)===Lm}(e)){const t=Xc(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Bs=U(4671),Ke=U(4004);const{isArray:Dl}=Array;function Aa(n){return(0,Ke.U)(e=>function ho(n,e){return Dl(e)?n(...e):n(e)}(n,e))}function Na(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var In=U(5403),ed=U(9672);function fo(...n){const e=(0,vr.yG)(n),t=(0,vr.jO)(n),{args:i,keys:r}=El(n);if(0===i.length)return(0,fn.D)([],e);const o=new Un.y(function Um(n,e,t=Bs.y){return i=>{td(e,()=>{const{length:r}=n,o=new Array(r);let c=r,h=r;for(let p=0;p<r;p++)td(e,()=>{const y=(0,fn.D)(n[p],e);let C=!1;y.subscribe((0,In.x)(i,I=>{o[p]=I,C||(C=!0,h--),h||i.next(t(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>Na(r,c):Bs.y));return t?o.pipe(Aa(t)):o}function td(n,e,t){n?(0,ed.f)(t,n,e):e()}var Uu=U(8189);function _s(...n){return function Il(){return(0,Uu.J)(1)}()((0,fn.D)(n,(0,vr.yG)(n)))}var lr=U(8421);function es(n){return new Un.y(e=>{(0,lr.Xf)(n()).subscribe(e)})}var nd=U(9635),br=U(576);function ur(n,e){const t=(0,br.m)(n)?n:()=>n,i=r=>r.error(t());return new Un.y(e?r=>e.schedule(i,0,r):i)}var ts=U(515),ys=U(727),Yn=U(4482);function po(){return(0,Yn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,In.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Vs extends Un.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Yn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ys.w0;const t=this.getSubject();e.add(this.source.subscribe((0,In.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ys.w0.EMPTY)}return e}refCount(){return po()(this)}}function On(n,e){return(0,Yn.e)((t,i)=>{let r=null,o=0,c=!1;const h=()=>c&&!r&&i.complete();t.subscribe((0,In.x)(i,p=>{r?.unsubscribe();let y=0;const C=o++;(0,lr.Xf)(n(p,C)).subscribe(r=(0,In.x)(i,I=>i.next(e?e(p,I,C,y++):I),()=>{r=null,h()}))},()=>{c=!0,h()}))})}function zt(n){return n<=0?()=>ts.E:(0,Yn.e)((e,t)=>{let i=0;e.subscribe((0,In.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function zo(...n){const e=(0,vr.yG)(n);return(0,Yn.e)((t,i)=>{(e?_s(n,t,e):_s(n,t)).subscribe(i)})}function D(n,e){return(0,Yn.e)((t,i)=>{let r=0;t.subscribe((0,In.x)(i,o=>n.call(e,o,r++)&&i.next(o)))})}var S=U(5577);function x(n){return(0,Yn.e)((e,t)=>{let i=!1;e.subscribe((0,In.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function V(n=Q){return(0,Yn.e)((e,t)=>{let i=!1;e.subscribe((0,In.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Q(){return new Tl}function ne(n,e){const t=arguments.length>=2;return i=>i.pipe(n?D((r,o)=>n(r,o,i)):Bs.y,zt(1),t?x(e):V(()=>new Tl))}function De(n,e){return(0,br.m)(e)?(0,S.z)(n,e,1):(0,S.z)(n,1)}var je=U(8505);function Je(n){return(0,Yn.e)((e,t)=>{let o,i=null,r=!1;i=e.subscribe((0,In.x)(t,void 0,void 0,c=>{o=(0,lr.Xf)(n(c,Je(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function mt(n,e,t,i,r){return(o,c)=>{let h=t,p=e,y=0;o.subscribe((0,In.x)(c,C=>{const I=y++;p=h?n(p,C,I):(h=!0,C),i&&c.next(p)},r&&(()=>{h&&c.next(p),c.complete()})))}}function Bt(n,e){return(0,Yn.e)(mt(n,e,arguments.length>=2,!0))}function xt(n){return n<=0?()=>ts.E:(0,Yn.e)((e,t)=>{let i=[];e.subscribe((0,In.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function ci(n,e){const t=arguments.length>=2;return i=>i.pipe(n?D((r,o)=>n(r,o,i)):Bs.y,xt(1),t?x(e):V(()=>new Tl))}function vs(n){return(0,Yn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Vt="primary",ni=Symbol("RouteTitle");class wr{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Zs(n){return new wr(n)}function r1(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],h=n[o];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function go(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!up(n[r],e[r]))return!1;return!0}function up(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function Vm(n){return Array.prototype.concat.apply([],n)}function Zm(n){return n.length>0?n[n.length-1]:null}function yi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function bs(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,fn.D)(Promise.resolve(n)):dt(n)}const s1={exact:function jm(n,e,t){if(!Zu(n.segments,e.segments)||!Bu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!jm(n.children[i],e.children[i],t))return!1;return!0},subset:fp},dp={exact:function jv(n,e){return go(n,e)},subset:function hp(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>up(n[t],e[t]))},ignored:()=>!0};function Hv(n,e,t){return s1[t.paths](n.root,e.root,t.matrixParams)&&dp[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function fp(n,e,t){return Gv(n,e,e.segments,t)}function Gv(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Zu(r,t)||e.hasChildren()||!Bu(r,t,i))}if(n.segments.length===t.length){if(!Zu(n.segments,t)||!Bu(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!fp(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Zu(n.segments,r)&&Bu(n.segments,r,i)&&n.children[Vt])&&Gv(n.children[Vt],e,o,i)}}function Bu(n,e,t){return e.every((i,r)=>dp[t](n[r].parameters,i.parameters))}class Vu{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zs(this.queryParams)),this._queryParamMap}toString(){return Ch.serialize(this)}}class tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,yi(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rd(this)}}class wh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Zs(this.parameters)),this._parameterMap}toString(){return gp(this)}}function Zu(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let pp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new id},providedIn:"root"}),n})();class id{parse(e){const t=new Yo(e);return new Vu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ma(e.root,!0)}`,i=function Kv(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${sd(t)}=${sd(r)}`).join("&"):`${sd(t)}=${sd(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Wv(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ch=new id;function rd(n){return n.segments.map(e=>gp(e)).join("/")}function Ma(n,e){if(!n.hasChildren())return rd(n);if(e){const t=n.children[Vt]?Ma(n.children[Vt],!1):"",i=[];return yi(n.children,(r,o)=>{o!==Vt&&i.push(`${o}:${Ma(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function qv(n,e){let t=[];return yi(n.children,(i,r)=>{r===Vt&&(t=t.concat(e(i,r)))}),yi(n.children,(i,r)=>{r!==Vt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Vt?[Ma(n.children[Vt],!1)]:[`${r}:${Ma(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Vt]?`${rd(n)}/${t[0]}`:`${rd(n)}/(${t.join("//")})`}}function Hs(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sd(n){return Hs(n).replace(/%3B/gi,";")}function od(n){return Hs(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ad(n){return decodeURIComponent(n)}function ld(n){return ad(n.replace(/\+/g,"%20"))}function gp(n){return`${od(n.path)}${function zv(n){return Object.keys(n).map(e=>`;${od(e)}=${od(n[e])}`).join("")}(n.parameters)}`}const Gm=/^[^\/()?;=#]+/;function Th(n){const e=n.match(Gm);return e?e[0]:""}const Yv=/^[^=?&#]+/,mp=/^[^&#]+/;class Yo{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Vt]=new tn(e,t)),i}parseSegment(){const e=Th(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(e),new wh(ad(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Th(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Th(this.remaining);r&&(i=r,this.capture(i))}e[ad(t)]=ad(i)}parseQueryParam(e){const t=function cr(n){const e=n.match(Yv);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function Qv(n){const e=n.match(mp);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=ld(t),o=ld(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Th(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Vt);const c=this.parseChildren();t[o]=1===Object.keys(c).length?c[Vt]:new tn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new s.vHH(4011,!1)}}function ji(n){return n.segments.length>0?new tn([],{[Vt]:n}):n}function xa(n){const e={};for(const i of Object.keys(n.children)){const o=xa(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Eh(n){if(1===n.numberOfChildren&&n.children[Vt]){const e=n.children[Vt];return new tn(n.segments.concat(e.segments),e.children)}return n}(new tn(n.segments,e))}function Sl(n){return n instanceof Vu}function e0(n,e,t,i,r){if(0===t.length)return ju(e.root,e.root,e.root,i,r);const o=function $m(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sh(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return yi(o.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new Sh(t,e,i)}(t);return o.toRoot()?ju(e.root,e.root,new tn([],{}),i,r):function c(p){const y=function Ml(n,e,t,i){if(n.isAbsolute)return new Nl(e.root,!0,0);if(-1===i)return new Nl(t,t===e.root,0);return function Wm(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new Nl(i,!1,r-o)}(t,i+(Hu(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,p),C=y.processChildren?Qo(y.segmentGroup,y.index,o.commands):xl(y.segmentGroup,y.index,o.commands);return ju(e.root,y.segmentGroup,C,i,r)}(n.snapshot?._lastPathIndex)}function Hu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Al(n){return"object"==typeof n&&null!=n&&n.outlets}function ju(n,e,t,i,r){let c,o={};i&&yi(i,(p,y)=>{o[y]=Array.isArray(p)?p.map(C=>`${C}`):`${p}`}),c=n===e?t:Ih(n,e,t);const h=ji(xa(c));return new Vu(h,o,r)}function Ih(n,e,t){const i={};return yi(n.children,(r,o)=>{i[o]=r===e?t:Ih(r,e,t)}),new tn(n.segments,i)}class Sh{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Hu(i[0]))throw new s.vHH(4003,!1);const r=i.find(Al);if(r&&r!==Zm(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nl{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function xl(n,e,t){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return Qo(n,e,t);const i=function zm(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const c=n.segments[r],h=t[i];if(Al(h))break;const p=`${h}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!_p(p,y,c))return o;i+=2}else{if(!_p(p,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new tn(n.segments.slice(0,i.pathIndex),{});return o.children[Vt]=new tn(n.segments.slice(i.pathIndex),n.children),Qo(o,0,r)}return i.match&&0===r.length?new tn(n.segments,{}):i.match&&!n.hasChildren()?Km(n,e,t):i.match?Qo(n,0,r):Km(n,e,t)}function Qo(n,e,t){if(0===t.length)return new tn(n.segments,{});{const i=function t0(n){return Al(n[0])?n[0].outlets:{[Vt]:n}}(t),r={};return yi(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=xl(n.children[c],e,o))}),yi(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new tn(n.segments,r)}}function Km(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Al(o)){const p=Jo(o.outlets);return new tn(i,p)}if(0===r&&Hu(t[0])){i.push(new wh(n.segments[e].path,Ah(t[0]))),r++;continue}const c=Al(o)?o.outlets[Vt]:`${o}`,h=r<t.length-1?t[r+1]:null;c&&h&&Hu(h)?(i.push(new wh(c,Ah(h))),r+=2):(i.push(new wh(c,{})),r++)}return new tn(i,{})}function Jo(n){const e={};return yi(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Km(new tn([],{}),0,t))}),e}function Ah(n){const e={};return yi(n,(t,i)=>e[i]=`${t}`),e}function _p(n,e,t){return n==t.path&&go(e,t.parameters)}class Xo{constructor(e,t){this.id=e,this.url=t}}class Gu extends Xo{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rl extends Xo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nh extends Xo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ym extends Xo{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class n0 extends Xo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cd extends Xo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r0 extends Xo{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yp extends Xo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vp extends Xo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bp{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class s0{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jm{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mh{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xh{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ea{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class dd{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=wp(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=wp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Or(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Or(e,this._root).map(t=>t.value)}}function wp(n,e){if(n===e.value)return e;for(const t of e.children){const i=wp(n,t);if(i)return i}return null}function Or(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Or(n,t);if(i.length)return i.unshift(e),i}return[]}class dr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ol(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Cp extends dd{constructor(e,t){super(e),this.snapshot=t,fd(this,e)}toString(){return this.snapshot.toString()}}function hd(n,e){const t=function Rh(n,e){const c=new Pr([],{},{},"",{},Vt,e,null,n.root,-1,{});return new kh("",new dr(c,[]))}(n,e),i=new en([new wh("",{})]),r=new en({}),o=new en({}),c=new en({}),h=new en(""),p=new mo(i,r,c,h,o,Vt,e,t.root);return p.snapshot=t.root,new Cp(new dr(p,[]),t)}class mo{constructor(e,t,i,r,o,c,h,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this.title=this.data?.pipe((0,Ke.U)(y=>y[ni]))??dt(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ke.U)(e=>Zs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ke.U)(e=>Zs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Oh(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Ph(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Pr{constructor(e,t,i,r,o,c,h,p,y,C,I,M){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this.title=this.data?.[ni],this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=C,this._correctedLastPathIndex=M??C,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kh extends dd{constructor(e,t){super(t),this.url=e,fd(this,t)}toString(){return Fh(this._root)}}function fd(n,e){e.value._routerState=n,e.children.forEach(t=>fd(n,t))}function Fh(n){const e=n.children.length>0?` { ${n.children.map(Fh).join(", ")} } `:"";return`${n.value}${e}`}function pd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,go(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),go(e.params,t.params)||n.params.next(t.params),function Bm(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!go(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),go(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ra(n,e){const t=go(n.params,e.params)&&function $v(n,e){return Zu(n,e)&&n.every((t,i)=>go(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ra(n.parent,e.parent))}function Oa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Tp(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Oa(n,i,r);return Oa(n,i)})}(n,e,t);return new dr(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>Oa(n,h)),c}}const i=function o0(n){return new mo(new en(n.url),new en(n.params),new en(n.queryParams),new en(n.fragment),new en(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Oa(n,o));return new dr(i,r)}}const ws="ngNavigationCancelingError";function Pa(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Sl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=$u(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function $u(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[ws]=!0,i.cancellationCode=e,t&&(i.url=t),i}function gd(n){return ka(n)&&Sl(n.url)}function ka(n){return n&&n[ws]}class Ep{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new md,this.attachRef=null}}let md=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Ep,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dp=!1;let Ip=(()=>{class n{constructor(t,i,r,o,c){this.parentContexts=t,this.location=i,this.changeDetector=o,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||Vt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,Dp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,Dp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,Dp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new s.vHH(4013,Dp);this._activatedRoute=t;const r=this.location,c=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new Sp(t,h,r.injector);if(i&&function b(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(c);this.activated=r.createComponent(y,r.length,p)}else this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(md),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Sp{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===mo?this.route:e===md?this.childContexts:this.parent.get(e,t)}}let g=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(t,i){1&t&&s._UZ(0,"router-outlet")},dependencies:[Ip],encapsulation:2}),n})();function _(n,e){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Et(n){const e=n.children&&n.children.map(Et),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Vt&&(t.component=g),t}function Cn(n){return n.outlet||Vt}function Oi(n,e){const t=n.filter(i=>Cn(i)===e);return t.push(...n.filter(i=>Cn(i)!==e)),t}function Cs(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class t_{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),pd(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Ol(t);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),yi(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Ol(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Ol(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Ol(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new xh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Jm(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(pd(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),pd(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=Cs(r.snapshot),p=h?.get(s._Vd)??null;c.attachRef=null,c.route=r,c.resolver=p,c.injector=h,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class n_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Lh{constructor(e,t){this.component=e,this.route=t}}function i_(n,e,t){const i=n._root;return Pl(i,e?e._root:null,t,[i.value])}function Fa(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,s.Z0I)(n)?e.get(n):n:i}function Pl(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ol(e);return n.children.forEach(c=>{(function r_(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const p=function l0(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Zu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Zu(n.url,e.url)||!go(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ra(n,e)||!go(n.queryParams,e.queryParams);default:return!Ra(n,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new n_(i)):(o.data=c.data,o._resolvedData=c._resolvedData),Pl(n,e,o.component?h?h.children:null:t,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Lh(h.outlet.component,c))}else c&&kl(e,h,r),r.canActivateChecks.push(new n_(i)),Pl(n,null,o.component?h?h.children:null:t,i,r)})(c,o[c.value.outlet],t,i.concat([c.value]),r),delete o[c.value.outlet]}),yi(o,(c,h)=>kl(c,t.getContext(h),r)),r}function kl(n,e,t){const i=Ol(n),r=n.value;yi(i,(o,c)=>{kl(o,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Lh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Fl(n){return"function"==typeof n}function Np(n){return n instanceof Tl||"EmptyError"===n?.name}const Uh=Symbol("INITIAL_VALUE");function Mp(){return On(n=>fo(n.map(e=>e.pipe(zt(1),zo(Uh)))).pipe((0,Ke.U)(e=>{for(const t of e)if(!0!==t){if(t===Uh)return Uh;if(!1===t||t instanceof Vu)return t}return!0}),D(e=>e!==Uh),zt(1)))}function o_(n){return(0,nd.z)((0,je.b)(e=>{if(Sl(e))throw Pa(0,e)}),(0,Ke.U)(e=>!0===e))}const vi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function d1(n,e,t,i,r){const o=u0(n,e,t);return o.matched?function AS(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?dt(r.map(c=>{const h=Fa(c,n);return bs(function YP(n){return n&&Fl(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Mp(),o_()):dt(!0)}(i=_(e,i),e,t).pipe((0,Ke.U)(c=>!0===c?o:{...vi})):dt(o)}function u0(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...vi}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||r1)(t,n,e);if(!r)return{...vi};const o={};yi(r.posParams,(h,p)=>{o[p]=h.path});const c=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function Bh(n,e,t,i,r="corrected"){if(t.length>0&&function MS(n,e,t){return t.some(i=>a_(n,e,i)&&Cn(i)!==Vt)}(n,t,i)){const c=new tn(e,function NS(n,e,t,i){const r={};r[Vt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Cn(o)!==Vt){const c=new tn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[Cn(o)]=c}return r}(n,e,i,new tn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function xS(n,e,t){return t.some(i=>a_(n,e,i))}(n,t,i)){const c=new tn(n.segments,function h1(n,e,t,i,r,o){const c={};for(const h of i)if(a_(n,t,h)&&!r[Cn(h)]){const p=new tn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===o?n.segments.length:e.length,c[Cn(h)]=p}return{...r,...c}}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const o=new tn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function a_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function f1(n,e,t,i){return!!(Cn(n)===i||i!==Vt&&a_(e,t,n))&&("**"===n.path||u0(e,n,t).matched)}function RS(n,e,t){return 0===e.length&&!n.children[t]}const c0=!1;class qu{constructor(e){this.segmentGroup=e||null}}class l_{constructor(e){this.urlTree=e}}function Vh(n){return ur(new qu(n))}function d0(n){return ur(new l_(n))}class m1{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=Bh(this.urlTree.root,[],[],this.config).segmentGroup,t=new tn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Vt).pipe((0,Ke.U)(o=>this.createUrlTree(xa(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Je(o=>{if(o instanceof l_)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof qu?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Vt).pipe((0,Ke.U)(r=>this.createUrlTree(xa(r),e.queryParams,e.fragment))).pipe(Je(r=>{throw r instanceof qu?this.noMatchError(r):r}))}noMatchError(e){return new s.vHH(4002,c0)}createUrlTree(e,t,i){const r=ji(e);return new Vu(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Ke.U)(o=>new tn([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,fn.D)(r).pipe(De(o=>{const c=i.children[o],h=Oi(t,o);return this.expandSegmentGroup(e,h,c,o).pipe((0,Ke.U)(p=>({segment:p,outlet:o})))}),Bt((o,c)=>(o[c.outlet]=c.segment,o),{}),ci())}expandSegment(e,t,i,r,o,c){return(0,fn.D)(i).pipe(De(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,o,c).pipe(Je(y=>{if(y instanceof qu)return dt(null);throw y}))),ne(h=>!!h),Je((h,p)=>{if(Np(h))return RS(t,r,o)?dt(new tn([],{})):Vh(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,o,c,h){return f1(r,t,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c):Vh(t):Vh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?d0(o):this.lineralizeSegments(i,o).pipe((0,S.z)(c=>{const h=new tn(c,{});return this.expandSegment(e,h,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:C}=u0(t,r,o);if(!h)return Vh(t);const I=this.applyRedirectCommands(p,r.redirectTo,C);return r.redirectTo.startsWith("/")?d0(I):this.lineralizeSegments(r,I).pipe((0,S.z)(M=>this.expandSegment(e,t,i,M.concat(y),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){return"**"===i.path?(e=_(i,e),i.loadChildren?(i._loadedRoutes?dt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Ke.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new tn(r,{})))):dt(new tn(r,{}))):d1(t,i,r,e).pipe(On(({matched:c,consumedSegments:h,remainingSegments:p})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,S.z)(C=>{const I=C.injector??e,M=C.routes,{segmentGroup:O,slicedSegments:B}=Bh(t,h,p,M),W=new tn(O.segments,O.children);if(0===B.length&&W.hasChildren())return this.expandChildren(I,M,W).pipe((0,Ke.U)(Le=>new tn(h,Le)));if(0===M.length&&0===B.length)return dt(new tn(h,{}));const J=Cn(i)===o;return this.expandSegment(I,W,M,B,J?Vt:o,!0).pipe((0,Ke.U)(Fe=>new tn(h.concat(Fe.segments),Fe.children)))})):Vh(t)))}getChildConfig(e,t,i){return t.children?dt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?dt({routes:t._loadedRoutes,injector:t._loadedInjector}):function SS(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?dt(!0):dt(r.map(c=>{const h=Fa(c,n);return bs(function Ap(n){return n&&Fl(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Mp(),o_())}(e,t,i).pipe((0,S.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,je.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function OS(n){return ur($u(c0,3))}())):dt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return dt(i);if(r.numberOfChildren>1||!r.children[Vt])return ur(new s.vHH(4e3,c0));r=r.children[Vt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Vu(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return yi(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=t[h]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let c={};return yi(t.children,(h,p)=>{c[p]=this.createSegmentGroup(e,h,i,r)}),new tn(o,c)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new s.vHH(4001,c0);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class PS{}class y1{constructor(e,t,i,r,o,c,h,p){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h,this.urlSerializer=p}recognize(){const e=Bh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Vt).pipe((0,Ke.U)(t=>{if(null===t)return null;const i=new Pr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new dr(i,t),o=new kh(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,i=Oh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,fn.D)(Object.keys(i.children)).pipe(De(r=>{const o=i.children[r],c=Oi(t,r);return this.processSegmentGroup(e,c,o,r)}),Bt((r,o)=>r&&o?(r.push(...o),r):null),function ti(n,e=!1){return(0,Yn.e)((t,i)=>{let r=0;t.subscribe((0,In.x)(i,o=>{const c=n(o,r++);(c||e)&&i.next(o),!c&&i.complete()}))})}(r=>null!==r),x(null),ci(),(0,Ke.U)(r=>{if(null===r)return null;const o=xp(r);return function _d(n){n.sort((e,t)=>e.value.outlet===Vt?-1:t.value.outlet===Vt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,i,r,o){return(0,fn.D)(t).pipe(De(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,o)),ne(c=>!!c),Je(c=>{if(Np(c))return RS(i,r,o)?dt([]):dt(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,o){if(t.redirectTo||!f1(t,i,r,o))return dt(null);let c;if("**"===t.path){const h=r.length>0?Zm(r).parameters:{},p=Rp(i)+r.length;c=dt({snapshot:new Pr(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,m0(t),Cn(t),t.component??t._loadedComponent??null,t,u_(i),p,c_(t),p),consumedSegments:[],remainingSegments:[]})}else c=d1(i,t,r,e).pipe((0,Ke.U)(({matched:h,consumedSegments:p,remainingSegments:y,parameters:C})=>{if(!h)return null;const I=Rp(i)+p.length;return{snapshot:new Pr(p,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,m0(t),Cn(t),t.component??t._loadedComponent??null,t,u_(i),I,c_(t),I),consumedSegments:p,remainingSegments:y}}));return c.pipe(On(h=>{if(null===h)return dt(null);const{snapshot:p,consumedSegments:y,remainingSegments:C}=h;e=t._injector??e;const I=t._loadedInjector??e,M=function kS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:O,slicedSegments:B}=Bh(i,y,C,M.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);if(0===B.length&&O.hasChildren())return this.processChildren(I,M,O).pipe((0,Ke.U)(J=>null===J?null:[new dr(p,J)]));if(0===M.length&&0===B.length)return dt([new dr(p,[])]);const W=Cn(t)===o;return this.processSegment(I,M,O,B,W?Vt:o).pipe((0,Ke.U)(J=>null===J?null:[new dr(p,J)]))}))}}function g0(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function xp(n){const e=[],t=new Set;for(const i of n){if(!g0(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=xp(i.children);e.push(new dr(i.value,r))}return e.filter(i=>!t.has(i))}function u_(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Rp(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function m0(n){return n.data||{}}function c_(n){return n.resolve||{}}function US(n,e){return(0,S.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return dt(t);let o=0;return(0,fn.D)(r).pipe(De(c=>function v1(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!b1(r)&&(o[ni]=r.title),function Zh(n,e,t,i){const r=function BS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return dt({});const o={};return(0,fn.D)(r).pipe((0,S.z)(c=>function VS(n,e,t,i){const r=Cs(e)??i,o=Fa(n,r);return bs(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[c],e,t,i).pipe(ne(),(0,je.b)(h=>{o[c]=h}))),xt(1),function Ko(n){return(0,Ke.U)(()=>n)}(o),Je(c=>Np(c)?ts.E:ur(c)))}(o,n,e,i).pipe((0,Ke.U)(c=>(n._resolvedData=c,n.data=Oh(n,t).resolve,r&&b1(r)&&(n.data[ni]=r.title),null)))}(c.route,i,n,e)),(0,je.b)(()=>o++),xt(1),(0,S.z)(c=>o===r.length?dt(t):ts.E))})}function b1(n){return"string"==typeof n.title||null===n.title}function _0(n){return On(e=>{const t=n(e);return t?(0,fn.D)(t).pipe((0,Ke.U)(()=>e)):dt(e)})}let d_=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Vt);return i}getResolvedTitleForRoute(t){return t.data[ni]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(w1)},providedIn:"root"}),n})(),w1=(()=>{class n extends d_{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ls))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class HS{}class XP extends class C1{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const zu=new s.OlP("",{providedIn:"root",factory:()=>({})}),Ku=new s.OlP("ROUTES");let yd=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return dt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=bs(t.loadComponent()).pipe((0,je.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),vs(()=>{this.componentLoaders.delete(t)})),r=new Vs(i,()=>new gn.x).pipe(po());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return dt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ke.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,y,C=!1;Array.isArray(h)?y=h:(p=h.create(t).injector,y=Vm(p.get(Ku,[],s.XFs.Self|s.XFs.Optional)));return{routes:y.map(Et),injector:p}}),vs(()=>{this.childrenLoaders.delete(i)})),c=new Vs(o,()=>new gn.x).pipe(po());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return bs(t()).pipe((0,S.z)(i=>i instanceof s.YKP||Array.isArray(i)?dt(i):(0,fn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GS{}class ek{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function $S(n){throw n}function qS(n,e,t){return e.parse("/")}const WS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},E1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function h_(){const n=(0,s.f3M)(pp),e=(0,s.f3M)(md),t=(0,s.f3M)(Ne),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),o=(0,s.f3M)(Ku,{optional:!0})??[],c=(0,s.f3M)(zu,{optional:!0})??{},h=(0,s.f3M)(w1),p=(0,s.f3M)(d_,{optional:!0}),y=(0,s.f3M)(GS,{optional:!0}),C=(0,s.f3M)(HS,{optional:!0}),I=new Hn(null,n,e,t,i,r,Vm(o));return y&&(I.urlHandlingStrategy=y),C&&(I.routeReuseStrategy=C),I.titleStrategy=p??h,function D1(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,I),I}let Hn=(()=>{class n{constructor(t,i,r,o,c,h,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new gn.x,this.errorHandler=$S,this.malformedUriErrorHandler=qS,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>dt(void 0),this.urlHandlingStrategy=new ek,this.routeReuseStrategy=new XP,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(yd),this.configLoader.onLoadEndListener=M=>this.triggerEvent(new bp(M)),this.configLoader.onLoadStartListener=M=>this.triggerEvent(new Qm(M)),this.ngModule=c.get(s.h0i),this.console=c.get(s.c2e);const I=c.get(s.R0b);this.isNgZoneEnabled=I instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Hm(){return new Vu(new tn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=hd(this.currentUrlTree,this.rootComponentType),this.transitions=new en({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(D(r=>0!==r.id),(0,Ke.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),On(r=>{let o=!1,c=!1;return dt(r).pipe((0,je.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),On(h=>{const p=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return f_(h.source)&&(this.browserUrlTree=h.extractedUrl),dt(h).pipe(On(I=>{const M=this.transitions.getValue();return i.next(new Gu(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),M!==this.transitions.getValue()?ts.E:Promise.resolve(I)}),function h0(n,e,t,i){return On(r=>function g1(n,e,t,i,r){return new m1(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Ke.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,je.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function LS(n,e,t,i,r,o){return(0,S.z)(c=>function _1(n,e,t,i,r,o,c="emptyOnly",h="legacy"){return new y1(n,e,t,i,r,c,h,o).recognize().pipe(On(p=>null===p?function p0(n){return new Un.y(e=>e.error(n))}(new PS):dt(p)))}(n,e,t,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,o).pipe((0,Ke.U)(h=>({...c,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,je.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const O=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(O,I)}this.browserUrlTree=I.urlAfterRedirects}const M=new n0(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(M)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:O,source:B,restoredState:W,extras:J}=h,Ie=new Gu(M,this.serializeUrl(O),B,W);i.next(Ie);const Fe=hd(O,this.rootComponentType).snapshot;return dt(r={...h,targetSnapshot:Fe,urlAfterRedirects:O,extras:{...J,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),ts.E}),(0,je.b)(h=>{const p=new cd(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,Ke.U)(h=>r={...h,guards:i_(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function JP(n,e){return(0,S.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=t;return 0===c.length&&0===o.length?dt({...t,guardsResult:!0}):function u1(n,e,t,i){return(0,fn.D)(n).pipe((0,S.z)(r=>function s_(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?dt(o.map(h=>{const p=Cs(e)??r,y=Fa(h,p);return bs(function l1(n){return n&&Fl(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,i):p.runInContext(()=>y(n,e,t,i))).pipe(ne())})).pipe(Mp()):dt(!0)}(r.component,r.route,t,e,i)),ne(r=>!0!==r,!0))}(c,i,r,n).pipe((0,S.z)(h=>h&&function Ll(n){return"boolean"==typeof n}(h)?function TS(n,e,t,i){return(0,fn.D)(e).pipe(De(r=>_s(function DS(n,e){return null!==n&&e&&e(new s0(n)),dt(!0)}(r.route.parent,i),function ES(n,e){return null!==n&&e&&e(new Mh(n)),dt(!0)}(r.route,i),function c1(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function a0(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>es(()=>dt(c.guards.map(p=>{const y=Cs(c.node)??t,C=Fa(p,y);return bs(function a1(n){return n&&Fl(n.canActivateChild)}(C)?C.canActivateChild(i,n):y.runInContext(()=>C(i,n))).pipe(ne())})).pipe(Mp())));return dt(o).pipe(Mp())}(n,r.path,t),function IS(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return dt(!0);const r=i.map(o=>es(()=>{const c=Cs(e)??t,h=Fa(o,c);return bs(function o1(n){return n&&Fl(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(ne())}));return dt(r).pipe(Mp())}(n,r.route,t))),ne(r=>!0!==r,!0))}(i,o,n,e):dt(h)),(0,Ke.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,je.b)(h=>{if(r.guardsResult=h.guardsResult,Sl(h.guardsResult))throw Pa(0,h.guardsResult);const p=new r0(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),D(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),_0(h=>{if(h.guards.canActivateChecks.length)return dt(h).pipe((0,je.b)(p=>{const y=new yp(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),On(p=>{let y=!1;return dt(p).pipe(US(this.paramsInheritanceStrategy,this.ngModule.injector),(0,je.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,je.b)(p=>{const y=new vp(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),_0(h=>{const p=y=>{const C=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,je.b)(I=>{y.component=I}),(0,Ke.U)(()=>{})));for(const I of y.children)C.push(...p(I));return C};return fo(p(h.targetSnapshot.root)).pipe(x(),zt(1))}),_0(()=>this.afterPreactivation()),(0,Ke.U)(h=>{const p=function kr(n,e,t){const i=Oa(n,e._root,t?t._root:void 0);return new Cp(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:p}}),(0,je.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,Ke.U)(i=>(new t_(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,je.b)({next(){o=!0},complete(){o=!0}}),vs(()=>{o||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Je(h=>{if(c=!0,ka(h)){gd(h)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new Nh(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(p),gd(h)){const y=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||f_(r.source)};this.scheduleNavigation(y,"imperative",null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new Ym(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return ts.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(o){const h={...o};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Et),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:h,preserveFragment:p}=i,y=r||this.routerState.root,C=p?this.currentUrlTree.fragment:c;let I=null;switch(h){case"merge":I={...this.currentUrlTree.queryParams,...o};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=o||null}return null!==I&&(I=this.removeEmptyProps(I)),e0(y,this.currentUrlTree,t,I,C??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Sl(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function zS(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new s.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...WS}:!1===i?{...E1}:i,Sl(t))return Hv(this.currentUrlTree,t,r);const o=this.parseUrl(t);return Hv(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Rl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let h,p,y;c?(h=c.resolve,p=c.reject,y=c.promise):y=new Promise((M,O)=>{h=M,p=O});const C=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),I=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:C,targetPageId:I,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:h,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(M=>Promise.reject(M))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const o=new Nh(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return h_()},providedIn:"root"}),n})();function f_(n){return"imperative"!==n}let vd=(()=>{class n{constructor(t,i,r,o,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new gn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,s.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,s.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,s.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Hn),s.Y36(mo),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),Ul=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new gn.x,this.subscription=t.events.subscribe(o=>{o instanceof Rl&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,s.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,s.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,s.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,o,c){return!!(0!==t||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Hn),s.Y36(mo),s.Y36(ve))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),I1=(()=>{class n{constructor(t,i,r,o,c,h){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=c,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=t.events.subscribe(p=>{p instanceof Rl&&this.update()})}ngAfterContentInit(){dt(this.links.changes,this.linksWithHrefs.changes,dt(null)).pipe((0,Uu.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,fn.D)(t).pipe((0,Uu.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function KS(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Hn),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(vd,8),s.Y36(Ul,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(s.Suo(r,vd,5),s.Suo(r,Ul,5)),2&t){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[s.TTD]}),n})();class S1{}let YS=(()=>{class n{constructor(t,i,r,o,c){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(D(t=>t instanceof Rl),De(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,t,`Route: ${o.path}`));const c=o._injector??t,h=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,fn.D)(r).pipe((0,Uu.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):dt(null);const o=r.pipe((0,S.z)(c=>null===c?dt(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,fn.D)([o,c]).pipe((0,Uu.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Hn),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(S1),s.LFG(yd))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yu=new s.OlP("");let La=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Rl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ea&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new ea(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Pp(n,e){return{\u0275kind:n,\u0275providers:e}}function g_(n){return[{provide:Ku,multi:!0,useValue:n}]}function y0(){const n=(0,s.f3M)(s.zs3);return e=>{const t=n.get(s.z2F);if(e!==t.components[0])return;const i=n.get(Hn),r=n.get(JS);1===n.get(m_)&&i.initialNavigation(),n.get(N1,null,s.XFs.Optional)?.setUpPreloading(),n.get(Yu,null,s.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const JS=new s.OlP("",{factory:()=>new gn.x}),m_=new s.OlP("",{providedIn:"root",factory:()=>1});const N1=new s.OlP("");function ta(n){return Pp(0,[{provide:N1,useExisting:YS},{provide:S1,useExisting:n}])}const M1=new s.OlP("ROUTER_FORROOT_GUARD"),tA=[Ne,{provide:pp,useClass:id},{provide:Hn,useFactory:h_},md,{provide:mo,useFactory:function QS(n){return n.routerState.root},deps:[Hn]},yd];function nA(){return new s.PXZ("Router",Hn)}let v0=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[tA,[],g_(t),{provide:M1,useFactory:qt,deps:[[Hn,new s.FiY,new s.tp0]]},{provide:zu,useValue:i||{}},i?.useHash?{provide:ve,useClass:bt}:{provide:ve,useClass:at},{provide:Yu,useFactory:()=>{const n=(0,s.f3M)(Hn),e=(0,s.f3M)(uu),t=(0,s.f3M)(zu);return t.scrollOffset&&e.setOffset(t.scrollOffset),new La(n,e,t)}},i?.preloadingStrategy?ta(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:nA},i?.initialNavigation?x1(i):[],[{provide:b0,useFactory:y0},{provide:s.tb,multi:!0,useExisting:b0}]]}}static forChild(t){return{ngModule:n,providers:[g_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(M1,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[g]}),n})();function qt(n){return"guarded"}function x1(n){return["disabled"===n.initialNavigation?Pp(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const e=(0,s.f3M)(Hn);return()=>{e.setUpLocationChangeListener()}}},{provide:m_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Pp(2,[{provide:m_,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:e=>{const t=e.get(G,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(o=>{const c=e.get(Hn),h=e.get(JS);(function r(o){e.get(Hn).events.pipe(D(h=>h instanceof Rl||h instanceof Nh||h instanceof Ym),(0,Ke.U)(h=>h instanceof Rl||h instanceof Nh&&(0===h.code||1===h.code)&&null),D(h=>null!==h),zt(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),c.afterPreactivation=()=>(o(!0),i||h.closed?dt(void 0):h),c.initialNavigation()}))}}]).\u0275providers:[]]}const b0=new s.OlP("");class O1{}class w0{}class Ts{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ts?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ts;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ts?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===o.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class aA{encodeKey(e){return C0(e)}encodeValue(e){return C0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ak=/%(\d[a-f0-9])/gi,P1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function C0(n){return encodeURIComponent(n).replace(ak,(e,t)=>P1[t]??e)}function Ua(n){return`${n}`}class Qu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new aA,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function lA(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,h]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],p=t.get(c)||[];p.push(h),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Ua):[Ua(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Qu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Ua(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Ua(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class T0{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function cA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function dA(n){return typeof Blob<"u"&&n instanceof Blob}function hA(n){return typeof FormData<"u"&&n instanceof FormData}class Hh{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function uA(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ts),this.context||(this.context=new T0),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new Qu,this.urlWithParams=t}serializeBody(){return null===this.body?null:cA(this.body)||dA(this.body)||hA(this.body)||function fA(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hA(this.body)?null:dA(this.body)?this.body.type||null:cA(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,y=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((I,M)=>I.set(M,e.setHeaders[M]),p)),e.setParams&&(y=Object.keys(e.setParams).reduce((I,M)=>I.set(M,e.setParams[M]),y)),new Hh(t,i,o,{params:y,headers:p,context:C,reportProgress:h,responseType:r,withCredentials:c})}}var Ji=(()=>((Ji=Ji||{})[Ji.Sent=0]="Sent",Ji[Ji.UploadProgress=1]="UploadProgress",Ji[Ji.ResponseHeader=2]="ResponseHeader",Ji[Ji.DownloadProgress=3]="DownloadProgress",Ji[Ji.Response=4]="Response",Ji[Ji.User=5]="User",Ji))();class E0{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ts,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Ju extends E0{constructor(e={}){super(e),this.type=Ji.ResponseHeader}clone(e={}){return new Ju({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class __ extends E0{constructor(e={}){super(e),this.type=Ji.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new __({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class D0 extends E0{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function jh(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let F1=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Hh)o=t;else{let p,y;p=r.headers instanceof Ts?r.headers:new Ts(r.headers),r.params&&(y=r.params instanceof Qu?r.params:new Qu({fromObject:r.params})),o=new Hh(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=dt(o).pipe(De(p=>this.handler.handle(p)));if(t instanceof Hh||"events"===r.observe)return c;const h=c.pipe(D(p=>p instanceof __));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,Ke.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,Ke.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,Ke.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,Ke.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Qu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,jh(r,i))}post(t,i,r={}){return this.request("POST",t,jh(r,i))}put(t,i,r={}){return this.request("PUT",t,jh(r,i))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class I0{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const L1=new s.OlP("HTTP_INTERCEPTORS");let pA=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const S0=/^\)\]\}',?\n/;let vA=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Un.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((O,B)=>r.setRequestHeader(O,B.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const O=t.detectContentTypeHeader();null!==O&&r.setRequestHeader("Content-Type",O)}if(t.responseType){const O=t.responseType.toLowerCase();r.responseType="json"!==O?O:"text"}const o=t.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const O=r.statusText||"OK",B=new Ts(r.getAllResponseHeaders()),W=function yA(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new Ju({headers:B,status:r.status,statusText:O,url:W}),c},p=()=>{let{headers:O,status:B,statusText:W,url:J}=h(),Ie=null;204!==B&&(Ie=typeof r.response>"u"?r.responseText:r.response),0===B&&(B=Ie?200:0);let Fe=B>=200&&B<300;if("json"===t.responseType&&"string"==typeof Ie){const Le=Ie;Ie=Ie.replace(S0,"");try{Ie=""!==Ie?JSON.parse(Ie):null}catch(Ue){Ie=Le,Fe&&(Fe=!1,Ie={error:Ue,text:Ie})}}Fe?(i.next(new __({body:Ie,headers:O,status:B,statusText:W,url:J||void 0})),i.complete()):i.error(new D0({error:Ie,headers:O,status:B,statusText:W,url:J||void 0}))},y=O=>{const{url:B}=h(),W=new D0({error:O,status:r.status||0,statusText:r.statusText||"Unknown Error",url:B||void 0});i.error(W)};let C=!1;const I=O=>{C||(i.next(h()),C=!0);let B={type:Ji.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(B.total=O.total),"text"===t.responseType&&!!r.responseText&&(B.partialText=r.responseText),i.next(B)},M=O=>{let B={type:Ji.UploadProgress,loaded:O.loaded};O.lengthComputable&&(B.total=O.total),i.next(B)};return r.addEventListener("load",p),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),t.reportProgress&&(r.addEventListener("progress",I),null!==o&&r.upload&&r.upload.addEventListener("progress",M)),r.send(o),i.next({type:Ji.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",p),r.removeEventListener("timeout",y),t.reportProgress&&(r.removeEventListener("progress",I),null!==o&&r.upload&&r.upload.removeEventListener("progress",M)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ko))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Xu=new s.OlP("XSRF_COOKIE_NAME"),y_=new s.OlP("XSRF_HEADER_NAME");class A0{}let v_=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=il(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ae),s.LFG(s.Lbi),s.LFG(Xu))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),js=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(A0),s.LFG(y_))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),B1=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(L1,[]);this.chain=i.reduceRight((r,o)=>new I0(r,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(w0),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Bl=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:js,useClass:pA}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Xu,useValue:t.cookieName}:[],t.headerName?{provide:y_,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[js,{provide:L1,useExisting:js,multi:!0},{provide:A0,useClass:v_},{provide:Xu,useValue:"XSRF-TOKEN"},{provide:y_,useValue:"X-XSRF-TOKEN"}]}),n})(),N0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[F1,{provide:O1,useClass:B1},vA,{provide:w0,useExisting:vA}],imports:[Bl.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const M0_firebase={apiKey:"AIzaSyB5oBx87Xx2CpnR3qcrssG9u6J7kyBUPmI",authDomain:"prominentacademy-9d9dd.firebaseapp.com",projectId:"prominentacademy-9d9dd",storageBucket:"prominentacademy-9d9dd.appspot.com",messagingSenderId:"123487076019",appId:"1:123487076019:web:5589a6832746ef19c1bac6",measurementId:"G-9144ZGH7L9"};var Gh=U(4986),mn=U(2122),bi=U(2011),Fp=U(3942),_e=U(5861),Cr=U(9681),k=U(2090),na=U(4859);const H1="firebasestorage.googleapis.com",j1="storageBucket";class di extends k.ZR{constructor(e,t,i=0){super(b_(e),`Firebase Storage: ${t} (${b_(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,di.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return b_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Qn=(()=>{return(n=Qn||(Qn={})).UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Qn;var n})();function b_(n){return"storage/"+n}function w_(){return new di(Qn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function TA(){return new di(Qn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EA(){return new di(Qn.CANCELED,"User canceled the upload/download.")}function DA(){return new di(Qn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $h(n){return new di(Qn.INVALID_ARGUMENT,n)}function O0(){return new di(Qn.APP_DELETED,"The Firebase app was deleted.")}function C_(n){return new di(Qn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qh(n,e){return new di(Qn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function bd(n){throw new di(Qn.INTERNAL_ERROR,"Internal error: "+n)}class Fr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Fr.makeFromUrl(e,t)}catch{return new Fr(e,"")}if(""===i.path)return i;throw function vk(n){return new di(Qn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(Ue){Ue.path_=decodeURIComponent(Ue.path)}const I=t.replace(/[.]/g,"\\."),Le=[{regex:h,indices:{bucket:1,path:3},postModify:function o(Ue){"/"===Ue.path.charAt(Ue.path.length-1)&&(Ue.path_=Ue.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${t===H1?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let Ue=0;Ue<Le.length;Ue++){const We=Le[Ue],Xe=We.regex.exec(e);if(Xe){let Yt=Xe[We.indices.path];Yt||(Yt=""),i=new Fr(Xe[We.indices.bucket],Yt),We.postModify(i);break}}if(null==i)throw function yk(n){return new di(Qn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class tc{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function T_(n){return"string"==typeof n||n instanceof String}function Lp(n){return nc()&&n instanceof Blob}function nc(){return typeof Blob<"u"&&!(0,k.UG)()}function Up(n,e,t,i){if(i<e)throw $h(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw $h(`Invalid value for '${n}'. Expected ${t} or less.`)}function Es(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function E_(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var ia=(()=>{return(n=ia||(ia={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",ia;var n})();function P0(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||r||o}class W1{constructor(e,t,i,r,o,c,h,p,y,C,I,M=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=C,this.connectionFactory_=I,this.retry=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,B)=>{this.resolve_=O,this.reject_=B,this.start_()})}start_(){const t=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function SA(n){return void 0!==n}(p)?o():o(p)}catch(p){c(p)}else if(null!==h){const p=w_();p.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,p):p)}else c(r.canceled?this.appDelete_?O0():EA():TA())};this.canceled_?t(0,new Wh(!1,null,!0)):this.backoffId_=function $1(n,e,t){let i=1,r=null,o=null,c=!1,h=0;function p(){return 2===h}let y=!1;function C(...J){y||(y=!0,e.apply(null,J))}function I(J){r=setTimeout(()=>{r=null,n(O,p())},J)}function M(){o&&clearTimeout(o)}function O(J,...Ie){if(y)return void M();if(J)return M(),void C.call(null,J,...Ie);if(p()||c)return M(),void C.call(null,J,...Ie);let Le;i<64&&(i*=2),1===h?(h=2,Le=0):Le=1e3*(i+Math.random()),I(Le)}let B=!1;function W(J){B||(B=!0,M(),!y&&(null!==r?(J||(h=2),clearTimeout(r),I(0)):J||(h=1)))}return I(0),o=setTimeout(()=>{c=!0,W(!0)},t),W}((i,r)=>{if(r)return void i(!1,new Wh(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===ia.NO_ERROR,p=o.getStatus();if(!h||P0(p,this.additionalRetryCodes_)&&this.retry){const C=o.getErrorCode()===ia.ABORT;return void i(!1,new Wh(!1,null,C))}const y=-1!==this.successCodes_.indexOf(p);i(!0,new Wh(y,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function IA(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Wh{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function K1(...n){const e=function MA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(nc())return new Blob(n);throw new di(Qn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ds={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class L0{constructor(e,t){this.data=e,this.contentType=t||null}}function ns(n,e){switch(n){case Ds.RAW:return new L0(U0(e));case Ds.BASE64:case Ds.BASE64URL:return new L0(OA(n,e));case Ds.DATA_URL:return new L0(function B0(n){const e=new Q1(n);return e.base64?OA(Ds.BASE64,e.rest):function RA(n){let e;try{e=decodeURIComponent(n)}catch{throw qh(Ds.DATA_URL,"Malformed data URL.")}return U0(e)}(e.rest)}(e),function J1(n){return new Q1(n).contentType}(e))}throw w_()}function U0(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function OA(n,e){switch(n){case Ds.BASE64:{const r=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(r||o)throw qh(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ds.BASE64URL:{const r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw qh(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Y1(n){if(typeof atob>"u")throw function R0(n){return new di(Qn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:qh(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class Q1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw qh(Ds.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function PA(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Ba{constructor(e,t){let i=0,r="";Lp(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Lp(this.data_)){const r=function xA(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Ba(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ba(i,!0)}}static getBlob(...e){if(nc()){const t=e.map(i=>i instanceof Ba?i.data_:i);return new Ba(K1.apply(null,t))}{const t=e.map(c=>T_(c)?ns(Ds.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)r[o++]=c[h]}),new Ba(r,!0)}}uploadData(){return this.data_}}function V0(n){let e;try{e=JSON.parse(n)}catch{return null}return function AA(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Z0(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function FA(n,e){return e}class is{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||FA}}let Bp=null;function Vp(){if(Bp)return Bp;const n=[];n.push(new is("bucket")),n.push(new is("generation")),n.push(new is("metageneration")),n.push(new is("name","fullPath",!0));const t=new is("name");t.xform=function e(o,c){return function eT(n){return!T_(n)||n.length<2?n:Z0(n)}(c)},n.push(t);const r=new is("size");return r.xform=function i(o,c){return void 0!==c?Number(c):c},n.push(r),n.push(new is("timeCreated")),n.push(new is("updated")),n.push(new is("md5Hash",null,!0)),n.push(new is("cacheControl",null,!0)),n.push(new is("contentDisposition",null,!0)),n.push(new is("contentEncoding",null,!0)),n.push(new is("contentLanguage",null,!0)),n.push(new is("contentType",null,!0)),n.push(new is("metadata","customMetadata",!0)),Bp=n,Bp}function tT(n,e,t){const i=V0(e);return null===i?null:function H0(n,e,t){const i={type:"file"},r=t.length;for(let o=0;o<r;o++){const c=t[o];i[c.local]=c.xform(i,e[c.server])}return function Va(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new Fr(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(i,n),i}(n,i,t)}function nT(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}const j0="prefixes";class _o{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Za(n){if(!n)throw w_()}function D_(n,e){return function t(i,r){const o=tT(n,r,e);return Za(null!==o),o}}function Vl(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function mk(){return new di(Qn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function gk(){return new di(Qn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function x0(n){return new di(Qn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function _k(n){return new di(Qn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function S_(n){const e=Vl(n);return function t(i,r){let o=e(i,r);return 404===i.getStatus()&&(o=function CA(n){return new di(Qn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function A_(n,e,t){const r=Es(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new _o(r,"GET",D_(n,t),c);return h.errorHandler=S_(e),h}function Tk(n,e,t,i,r){const o={};o.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(o.delimiter=t),i&&(o.pageToken=i),r&&(o.maxResults=r);const h=Es(e.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,C=new _o(h,"GET",function I_(n,e){return function t(i,r){const o=function BA(n,e,t){const i=V0(t);return null===i?null:function UA(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[j0])for(const r of t[j0]){const o=r.replace(/\/$/,""),c=n._makeStorageReference(new Fr(e,o));i.prefixes.push(c)}if(t.items)for(const r of t.items){const o=n._makeStorageReference(new Fr(e,r.name));i.items.push(o)}return i}(n,e,i)}(n,e,r);return Za(null!==o),o}}(n,e.bucket),y);return C.urlParams=o,C.errorHandler=Vl(e),C}function Ha(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function q0(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class wd{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function Cd(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Za(!1)}return Za(!!t&&-1!==(e||["active"]).indexOf(t)),t}const HA={STATE_CHANGED:"state_changed"},Xi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function K0(n){switch(n){case"running":case"pausing":case"canceling":return Xi.RUNNING;case"paused":return Xi.PAUSED;case"success":return Xi.SUCCESS;case"canceled":return Xi.CANCELED;default:return Xi.ERROR}}class Ek{constructor(e,t,i){if(function q1(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function zh(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class $A extends class GA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw bd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ra(){return new $A}class lT{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Vp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Qn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(P0(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=TA()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Qn.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function VA(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),c=Ha(e,i,r),h={name:c.fullPath},p=Es(o,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},I=nT(c,t),B=new _o(p,"POST",function O(W){let J;Cd(W);try{J=W.getResponseHeader("X-Goog-Upload-URL")}catch{Za(!1)}return Za(T_(J)),J},n.maxUploadRetryTime);return B.urlParams=h,B.headers=C,B.body=I,B.errorHandler=Vl(e),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ra,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function W0(n,e,t,i){const p=new _o(t,"POST",function o(y){const C=Cd(y,["active","final"]);let I=null;try{I=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Za(!1)}I||Za(!1);const M=Number(I);return Za(!isNaN(M)),new wd(M,i.size(),"final"===C)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=Vl(e),p}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,ra,t,i);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new wd(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let c;try{c=function ZA(n,e,t,i,r,o,c,h){const p=new wd(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function wk(){return new di(Qn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const y=p.total-p.current;let C=y;r>0&&(C=Math.min(C,r));const I=p.current;let O="";O=0===C?"finalize":y===C?"upload, finalize":"upload";const B={"X-Goog-Upload-Command":O,"X-Goog-Upload-Offset":`${p.current}`},W=i.slice(I,I+C);if(null===W)throw DA();const Le=new _o(t,"POST",function J(Ue,We){const Xe=Cd(Ue,["active","final"]),jt=p.current+C,Yt=i.size();let Bi;return Bi="final"===Xe?D_(e,o)(Ue,We):null,new wd(jt,Yt,"final"===Xe,Bi)},e.maxUploadRetryTime);return Le.headers=B,Le.body=W.uploadData(),Le.progressCallback=h||null,Le.errorHandler=Vl(n),Le}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(c,ra,r,o,!1);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=A_(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,ra,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function Zp(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let Le="";for(let Ue=0;Ue<2;Ue++)Le+=Math.random().toString().slice(2);return Le}();c["Content-Type"]="multipart/related; boundary="+p;const y=Ha(e,i,r),C=nT(y,t),O=Ba.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+p+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===O)throw DA();const B={name:y.fullPath},W=Es(o,n.host,n._protocol),Ie=n.maxUploadRetryTime,Fe=new _o(W,"POST",D_(n,t),Ie);return Fe.urlParams=B,Fe.headers=c,Fe.body=O.uploadData(),Fe.errorHandler=Vl(e),Fe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ra,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=EA(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=K0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const o=new Ek(t||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(K0(this._state)){case Xi.SUCCESS:zh(this._resolve.bind(null,this.snapshot))();break;case Xi.CANCELED:case Xi.ERROR:zh(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(K0(this._state)){case Xi.RUNNING:case Xi.PAUSED:e.next&&zh(e.next.bind(e,this.snapshot))();break;case Xi.SUCCESS:e.complete&&zh(e.complete.bind(e))();break;default:e.error&&zh(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Td{constructor(e,t){this._service=e,this._location=t instanceof Fr?t:Fr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Td(e,t)}get root(){const e=new Fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Z0(this._location.path)}get storage(){return this._service}get parent(){const e=function X1(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Fr(this._location.bucket,e);return new Td(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw C_(e)}}function YA(n,e,t){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,_e.Z)(function*(n,e,t){const r=yield cT(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield YA(n,e,r.nextPageToken))})).apply(this,arguments)}function cT(n,e){null!=e&&"number"==typeof e.maxResults&&Up("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=Tk(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,ra)}function JA(n){n._throwIfRoot("getDownloadURL");const e=function rT(n,e,t){const r=Es(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new _o(r,"GET",function G0(n,e){return function t(i,r){const o=tT(n,r,e);return Za(null!==o),function LA(n,e,t,i){const r=V0(e);if(null===r||!T_(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(y=>{const I=n.fullPath;return Es("/b/"+c(n.bucket)+"/o/"+c(I),t,i)+E_({alt:"media",token:y})})[0]}(o,r,n.host,n._protocol)}}(n,t),c);return h.errorHandler=S_(e),h}(n.storage,n._location,Vp());return n.storage.makeRequestWithTokens(e,ra).then(t=>{if(null===t)throw function ec(){return new di(Qn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function Kh(n,e){const t=function kA(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Fr(n._location.bucket,t);return new Td(n.storage,i)}function Hp(n,e){if(n instanceof ic){const t=n;if(null==t._bucket)throw function bk(){return new di(Qn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+j1+"' property when initializing the app?")}();const i=new Td(t,t._bucket);return null!=e?Hp(i,e):i}return void 0!==e?Kh(n,e):n}function yo(n,e){if(e&&function Lr(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof ic)return function Id(n,e){return new Td(n,e)}(n,e);throw $h("To use ref(service, url), the first argument must be a Storage instance.")}return Hp(n,e)}function M_(n,e){const t=e?.[j1];return null==t?null:Fr.makeFromBucketSpec(t,n)}class ic{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=H1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Fr.makeFromBucketSpec(r,this._host):M_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Fr.makeFromBucketSpec(this._url,e):M_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Up("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Up("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,_e.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,_e.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Td(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new tc(O0());{const c=function Ck(n,e,t,i,r,o,c=!0){const h=E_(n.urlParams),p=n.url+h,y=Object.assign({},n.headers);return function F0(n,e){e&&(n["X-Firebase-GMPID"]=e)}(y,e),function k0(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(y,t),function z1(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(y,o),function NA(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(y,i),new W1(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var i=this;return(0,_e.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,o).getPromise()})()}}const Sd="@firebase/storage";function X0(n,e){return yo(n=(0,k.m9)(n),e)}function tN(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new ic(t,i,r,e,Cr.SDK_VERSION)}!function vT(){(0,Cr._registerComponent)(new na.wA("storage",tN,"PUBLIC").setMultipleInstances(!0)),(0,Cr.registerVersion)(Sd,"0.11.2",""),(0,Cr.registerVersion)(Sd,"0.11.2","esm2017")}();class Jh{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class x_{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Jh(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new Jh(i,this,this._ref))},t)}on(e,t,i,r){let o;return t&&(o="function"==typeof t?c=>t(new Jh(c,this,this._ref)):{next:t.next?c=>t.next(new Jh(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,i||void 0,r||void 0)}}class bT{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new vo(e,this._service))}get items(){return this._delegate.items.map(e=>new vo(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class vo{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function _T(n,e){return Kh(n,e)}(this._delegate,e);return new vo(t,this.storage)}get root(){return new vo(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new vo(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new x_(function Qh(n,e,t){return function KA(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new lT(n,new Ba(e),t)}(n=(0,k.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ds.RAW,i){this._throwIfRoot("putString");const r=ns(t,e),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new x_(new lT(this._delegate,new Ba(r.data,!0),o),this)}listAll(){return function pT(n){return function Ed(n){const e={prefixes:[],items:[]};return YA(n,e).then(()=>e)}(n=(0,k.m9)(n))}(this._delegate).then(e=>new bT(e,this.storage))}list(e){return function fT(n,e){return cT(n=(0,k.m9)(n),e)}(this._delegate,e||void 0).then(t=>new bT(t,this.storage))}getMetadata(){return function dT(n){return function QA(n){n._throwIfRoot("getMetadata");const e=A_(n.storage,n._location,Vp());return n.storage.makeRequestWithTokens(e,ra)}(n=(0,k.m9)(n))}(this._delegate)}updateMetadata(e){return function hT(n,e){return function J0(n,e){n._throwIfRoot("updateMetadata");const t=function sT(n,e,t,i){const o=Es(e.fullServerUrl(),n.host,n._protocol),h=nT(t,i),y=n.maxOperationRetryTime,C=new _o(o,"PATCH",D_(n,i),y);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=h,C.errorHandler=S_(e),C}(n.storage,n._location,e,Vp());return n.storage.makeRequestWithTokens(t,ra)}(n=(0,k.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function gT(n){return JA(n=(0,k.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function mT(n){return function ja(n){n._throwIfRoot("deleteObject");const e=function oT(n,e){const i=Es(e.fullServerUrl(),n.host,n._protocol),h=new _o(i,"DELETE",function c(p,y){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=S_(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ra)}(n=(0,k.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw C_(e)}}class qp{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(R_(e))throw $h("ref() expected a child path but got a URL, use refFromURL instead.");return new vo(X0(this._delegate,e),this)}refFromURL(e){if(!R_(e))throw $h("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Fr.makeFromUrl(e,this._delegate.host)}catch{throw $h("refFromUrl() expected a valid full URL but got an invalid one.")}return new vo(X0(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function yT(n,e,t,i={}){!function Yh(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,k.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function R_(n){return/^[A-Za-z]+:\/\//.test(n)}function wT(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new qp(t,i)}!function CT(n){const e={TaskState:Xi,TaskEvent:HA,StringFormat:Ds,Storage:qp,Reference:vo};n.INTERNAL.registerComponent(new na.wA("storage-compat",wT,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(Fp.Z);var Wp=U(259),bo=U(1877);const k_=new Map,nb={activated:!1,tokenObservers:[]},NT={initialized:!1,enabled:!1};function hr(n){return k_.get(n)||Object.assign({},nb)}function F_(){return NT}class hN{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new k.BH,yield function xT(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new k.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ur=new k.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Md(n){if(!hr(n).activated)throw Ur.create("use-before-activation",{appName:n.name})}function U_(n,e){return ob.apply(this,arguments)}function ob(){return(ob=(0,_e.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const o={method:"POST",body:JSON.stringify(e),headers:i};let c,h;try{c=yield fetch(n,o)}catch(I){throw Ur.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==c.status)throw Ur.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(I){throw Ur.create("fetch-parse-error",{originalErrorMessage:I?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Ur.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(p[1]),C=Date.now();return{token:h.token,expireTimeMillis:C+y,issuedAtTimeMillis:C}})).apply(this,arguments)}function ab(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Yp="firebase-app-check-store";let Gs=null;function wo(){return Gs||(Gs=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Ur.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Yp,{keyPath:"compositeKey"})}}catch(t){e(Ur.create("storage-open",{originalErrorMessage:t?.message}))}}),Gs)}function cb(){return(cb=(0,_e.Z)(function*(n,e){const i=(yield wo()).transaction(Yp,"readwrite"),o=i.objectStore(Yp).put({compositeKey:n,value:e});return new Promise((c,h)=>{o.onsuccess=p=>{c()},i.onerror=p=>{var y;h(Ur.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const Jp=new bo.Yd("@firebase/app-check");function B_(n,e){return(0,k.hl)()?function OT(n,e){return function kT(n,e){return cb.apply(this,arguments)}(function Xh(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Jp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function BT(){return F_().enabled}function hb(){return V_.apply(this,arguments)}function V_(){return(V_=(0,_e.Z)(function*(){const n=F_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Z_={error:"UNKNOWN_ERROR"};function VT(n){return k.US.encodeString(JSON.stringify(n),!1)}function Xp(n){return H_.apply(this,arguments)}function H_(){return(H_=(0,_e.Z)(function*(n,e=!1){const t=n.app;Md(t);const i=hr(t);let o,r=i.token;if(r&&!tf(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(tf(p)?r=p:yield B_(t,void 0))}if(!e&&r&&tf(r))return{token:r.token};let h,c=!1;if(BT()){i.exchangeTokenPromise||(i.exchangeTokenPromise=U_(ab(t,yield hb()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const p=yield i.exchangeTokenPromise;return yield B_(t,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield hr(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Jp.warn(p.message):Jp.error(p),o=p}return r?o?h=tf(r)?{token:r.token,internalError:o}:mb(o):(h={token:r.token},i.token=r,yield B_(t,r)):h=mb(o),c&&gb(t,h),h})).apply(this,arguments)}function G_(n,e){const t=hr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function pb(n){const{app:e}=n,t=hr(e);let i=t.tokenRefresher;i||(i=function ZT(n){const{app:e}=n;return new hN((0,_e.Z)(function*(){let i;if(i=hr(e).token?yield Xp(n,!0):yield Xp(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=hr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function gb(n,e){const t=hr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function tf(n){return n.expireTimeMillis-Date.now()>0}function mb(n){return{token:VT(Z_),error:n}}class gN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hr(this.app);for(const t of e)G_(this.app,t.next);return Promise.resolve()}}const $T="app-check-internal";!function xN(){(0,Cr._registerComponent)(new na.wA("app-check",n=>function mN(n,e){return new gN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($T).initialize()})),(0,Cr._registerComponent)(new na.wA($T,n=>function _N(n){return{getToken:e=>Xp(n,e),addTokenListener:e=>function j_(n,e,t,i){const{app:r}=n,o=hr(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&tf(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),pb(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>pb(n))}(n,"INTERNAL",e),removeTokenListener:e=>G_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Cr.registerVersion)("@firebase/app-check","0.6.4")}();class Od{constructor(){return(0,mn.vb)("app-check")}}typeof window<"u"&&window;var W_=U(9260);function Db(n){const e=function LN(n){return new Un.y(e=>{const t=c=>e.next(c);t(n.snapshot);const o=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){o()}}).pipe(function fk(n,e=Gh.z){return(0,Yn.e)((t,i)=>{let r=null,o=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const y=o;o=null,i.next(y)}};function p(){const y=c+n,C=e.now();if(C<y)return r=this.schedule(void 0,y-C),void i.add(r);h()}t.subscribe((0,In.x)(i,y=>{o=y,c=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Ke.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function ng(n){return{getDownloadURL:()=>dt(void 0).pipe(mn.fc,On(()=>n.getDownloadURL()),mn.iC),getMetadata:()=>dt(void 0).pipe(mn.fc,On(()=>n.getMetadata()),mn.iC),delete:()=>(0,fn.D)(n.delete()),child:e=>ng(n.child(e)),updateMetadata:e=>(0,fn.D)(n.updateMetadata(e)),put:(e,t)=>Db(n.put(e,t)),putString:(e,t,i)=>Db(n.putString(e,t,i)),list:e=>(0,fn.D)(n.list(e)),listAll:()=>(0,fn.D)(n.listAll())}}const WT=new s.OlP("angularfire2.storageBucket"),zT=new s.OlP("angularfire2.storage.maxUploadRetryTime"),UN=new s.OlP("angularfire2.storage.maxOperationRetryTime"),BN=new s.OlP("angularfire2.storage.use-emulator");let Ib=(()=>{class n{constructor(t,i,r,o,c,h,p,y,C,I){const M=(0,bi.on)(t,c,i);this.storage=(0,bi.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const O=c.runOutsideAngular(()=>M.storage(r||void 0)),B=C;return B&&O.useEmulator(...B),p&&O.setMaxUploadRetryTime(p),y&&O.setMaxOperationRetryTime(y),O},[p,y])}ref(t){return ng(this.storage.ref(t))}refFromURL(t){return ng(this.storage.refFromURL(t))}upload(t,i,r){return ng(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(bi.Dh),s.LFG(bi.xv,8),s.LFG(WT,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(mn.HU),s.LFG(zT,8),s.LFG(UN,8),s.LFG(BN,8),s.LFG(Od,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),ZN=(()=>{class n{constructor(){W_.Z.registerVersion("angularfire",mn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Ib],imports:[VN]}),n})();function Sb(){return(0,Yn.e)((n,e)=>{let t,i=!1;n.subscribe((0,In.x)(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}function rc(n,e=Bs.y){return n=n??KT,(0,Yn.e)((t,i)=>{let r,o=!0;t.subscribe((0,In.x)(i,c=>{const h=e(c);(o||!n(r,h))&&(o=!1,r=h,i.next(c))}))})}function KT(n,e){return n===e}U(8971);var pt,YT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zl={},Pd=Pd||{},$t=YT||self;function K_(){}function Y_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function nf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Q_="closure_uid_"+(1e9*Math.random()>>>0),jN=0;function JT(n,e,t){return n.call.apply(n.bind,arguments)}function GN(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Br(n,e,t){return(Br=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?JT:GN).apply(null,arguments)}function Ab(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Vr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,o){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(i,c)}}function kd(){this.s=this.s,this.o=this.o}kd.prototype.s=!1,kd.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function QT(n){Object.prototype.hasOwnProperty.call(n,Q_)&&n[Q_]||(n[Q_]=++jN)}(this)},kd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nb=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function rf(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function XT(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Y_(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let c=0;c<o;c++)n[r+c]=i[c]}else n.push(i)}}function Zr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zr.prototype.h=function(){this.defaultPrevented=!0};var eE=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",K_,e),$t.removeEventListener("test",K_,e)}catch{}return n}();function sc(n){return/^[\s\xa0]*$/.test(n)}var tE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Mb(n,e){return n<e?-1:n>e?1:0}function J_(){var n=$t.navigator;return n&&(n=n.userAgent)?n:""}function $a(n){return-1!=J_().indexOf(n)}function xb(n){return xb[" "](n),n}xb[" "]=K_;var X_,n,$N=$a("Opera"),sf=$a("Trident")||$a("MSIE"),af=$a("Edge"),Rb=af||sf,Ob=$a("Gecko")&&!(-1!=J_().toLowerCase().indexOf("webkit")&&!$a("Edge"))&&!($a("Trident")||$a("MSIE"))&&!$a("Edge"),qN=-1!=J_().toLowerCase().indexOf("webkit")&&!$a("Edge");function Pb(){var n=$t.document;return n?n.documentMode:void 0}e:{var ey="",kb=(n=J_(),Ob?/rv:([^\);]+)(\)|;)/.exec(n):af?/Edge\/([\d\.]+)/.exec(n):sf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):qN?/WebKit\/(\S+)/.exec(n):$N?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(kb&&(ey=kb?kb[1]:""),sf){var ig=Pb();if(null!=ig&&ig>parseFloat(ey)){X_=String(ig);break e}}X_=ey}var WN={};var zN=$t.document&&sf&&(Pb()||parseInt(X_,10))||void 0;function rg(n,e){if(Zr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ob){e:{try{xb(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Fb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&rg.X.h.call(this)}}Vr(rg,Zr);var Fb={2:"touch",3:"pen",4:"mouse"};rg.prototype.h=function(){rg.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var sg="closure_listenable_"+(1e6*Math.random()|0),sE=0;function KN(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++sE,this.ba=this.ea=!1}function ny(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Lb(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function oE(n){const e={};for(const t in n)e[t]=n[t];return e}const aE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lE(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<aE.length;o++)t=aE[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function iy(n){this.src=n,this.g={},this.h=0}function Ub(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=Nb(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(ny(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ry(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==e&&o.capture==!!t&&o.ha==i)return r}return-1}iy.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=ry(n,e,i,r);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new KN(e,this.src,o,!!i,r)).ea=t,n.push(e)),e};var sy="closure_lm_"+(1e6*Math.random()|0),oy={};function uE(n,e,t,i,r){if(i&&i.once)return dE(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)uE(n,e[o],t,i,r);return null}return t=Vb(t),n&&n[sg]?n.N(e,t,nf(i)?!!i.capture:!!i,r):ay(n,e,t,!1,i,r)}function ay(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var c=nf(r)?!!r.capture:!!r,h=ag(n);if(h||(n[sy]=h=new iy(n)),(t=h.add(e,t,i,c,o)).proxy)return t;if(i=function cE(){const e=fE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)eE||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(ly(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function dE(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)dE(n,e[o],t,i,r);return null}return t=Vb(t),n&&n[sg]?n.O(e,t,nf(i)?!!i.capture:!!i,r):ay(n,e,t,!0,i,r)}function hE(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)hE(n,e[o],t,i,r);else i=nf(i)?!!i.capture:!!i,t=Vb(t),n&&n[sg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ry(o=n.g[e],t,i,r))&&(ny(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=ag(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ry(e,t,i,r)),(t=-1<n?e[n]:null)&&og(t))}function og(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[sg])Ub(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(ly(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=ag(e))?(Ub(t,n),0==t.h&&(t.src=null,e[sy]=null)):ny(n)}}}function ly(n){return n in oy?oy[n]:oy[n]="on"+n}function fE(n,e){if(n.ba)n=!0;else{e=new rg(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&og(n),n=t.call(i,e)}return n}function ag(n){return(n=n[sy])instanceof iy?n:null}var Bb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vb(n){return"function"==typeof n?n:(n[Bb]||(n[Bb]=function(e){return n.handleEvent(e)}),n[Bb])}function Gi(){kd.call(this),this.i=new iy(this),this.P=this,this.I=null}function Tr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Zr(e,n);else if(e instanceof Zr)e.target=e.target||n;else{var r=e;lE(e=new Zr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];r=lg(c,i,!0,e)&&r}if(r=lg(c=e.g=n,i,!0,e)&&r,r=lg(c,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=lg(c=e.g=t[o],i,!1,e)&&r}function lg(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.ba&&c.capture==t){var h=c.listener,p=c.ha||c.src;c.ea&&Ub(n.i,c),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}Vr(Gi,kd),Gi.prototype[sg]=!0,Gi.prototype.removeEventListener=function(n,e,t,i){hE(this,n,e,t,i)},Gi.prototype.M=function(){if(Gi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)ny(t[i]);delete n.g[e],n.h--}}this.I=null},Gi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Gi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var oc=$t.JSON.stringify;function pE(){var n=cy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ug,QN=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new gE,n=>n.reset());class gE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Zb(n){$t.setTimeout(()=>{throw n},0)}function mE(n,e){ug||function JN(){var n=$t.Promise.resolve(void 0);ug=function(){n.then(_E)}}(),uy||(ug(),uy=!0),cy.add(n,e)}var uy=!1,cy=new class YN{constructor(){this.h=this.g=null}add(e,t){const i=QN.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function _E(){for(var n;n=pE();){try{n.h.call(n.g)}catch(t){Zb(t)}var e=QN;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}uy=!1}function cg(n,e){Gi.call(this),this.h=n||1,this.g=e||$t,this.j=Br(this.lb,this),this.l=Date.now()}function dy(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function hy(n,e,t){if("function"==typeof n)t&&(n=Br(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Br(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function yE(n){n.g=hy(()=>{n.g=null,n.i&&(n.i=!1,yE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vr(cg,Gi),(pt=cg.prototype).ca=!1,pt.R=null,pt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Tr(this,"tick"),this.ca&&(dy(this),this.start()))}},pt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){cg.X.M.call(this),dy(this),delete this.g};class XN extends kd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yE(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dg(n){kd.call(this),this.h=n,this.g={}}Vr(dg,kd);var vE=[];function Hb(n,e,t,i){Array.isArray(t)||(t&&(vE[0]=t.toString()),t=vE);for(var r=0;r<t.length;r++){var o=uE(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function eM(n){Lb(n.g,function(e,t){this.g.hasOwnProperty(t)&&og(e)},n),n.g={}}function hg(){this.g=!0}function fg(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function iM(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return oc(t)}catch{return e}}(n,t)+(i?" "+i:"")})}dg.prototype.M=function(){dg.X.M.call(this),eM(this)},dg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hg.prototype.Aa=function(){this.g=!1},hg.prototype.info=function(){};var Fd={},jb=null;function pg(){return jb=jb||new Gi}function Gb(n){Zr.call(this,Fd.Pa,n)}function lf(n){const e=pg();Tr(e,new Gb(e))}function bE(n,e){Zr.call(this,Fd.STAT_EVENT,n),this.stat=e}function rs(n){const e=pg();Tr(e,new bE(e,n))}function wE(n,e){Zr.call(this,Fd.Qa,n),this.size=e}function gg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}Fd.Pa="serverreachability",Vr(Gb,Zr),Fd.STAT_EVENT="statevent",Vr(bE,Zr),Fd.Qa="timingevent",Vr(wE,Zr);var fy={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},CE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ld(){}function qb(){}Ld.prototype.h=null;var my,uf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function py(){Zr.call(this,"d")}function gy(){Zr.call(this,"c")}function _y(){}function yy(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new dg(this),this.O=rM,this.T=new cg(n=Rb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Wb}function Wb(){this.i=null,this.g="",this.h=!1}Vr(py,Zr),Vr(gy,Zr),Vr(_y,Ld),_y.prototype.g=function(){return new XMLHttpRequest},_y.prototype.i=function(){return{}},my=new _y;var rM=45e3,zb={},vy={};function Kb(n,e,t){n.K=1,n.v=df(oa(e)),n.s=t,n.P=!0,cf(n,null)}function cf(n,e){n.F=Date.now(),mg(n),n.A=oa(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),ew(t.i,"t",i),n.C=0,t=n.l.H,n.h=new Wb,n.g=pM(n.l,t?e:null,!n.s),0<n.N&&(n.L=new XN(Br(n.La,n,n.g),n.N)),Hb(n.S,n.g,"readystatechange",n.ib),e=n.H?oE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),lf(),function tM(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",h=o.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var C=y[0];y=y[1];var I=C.split("_");c=2<=I.length&&"type"==I[1]?c+(C+"=")+y+"&":c+(C+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function TE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function by(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=qa(n,t),r==vy){4==e&&(n.o=4,rs(14),i=!1),fg(n.j,n.m,null,"[Incomplete Response]");break}if(r==zb){n.o=4,rs(15),fg(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}fg(n.j,n.m,r,null),Yb(n,r)}TE(n)&&r!=vy&&r!=zb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,rs(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ny(e),e.K=!0,rs(11))):(fg(n.j,n.m,t,"[Invalid Chunked Response]"),Ud(n),_g(n))}function qa(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?vy:(t=Number(e.substring(t,i)),isNaN(t)?zb:(i+=1)+t>e.length?vy:(e=e.substr(i,t),n.C=i+t,e))}function mg(n){n.V=Date.now()+n.O,wy(n,n.O)}function wy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=gg(Br(n.gb,n),e)}function ac(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function _g(n){0==n.l.G||n.I||fw(n.l,n)}function Ud(n){ac(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,dy(n.T),eM(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Yb(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Er(t.h,n)))if(!n.J&&Er(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Dg(t),Ay(t)}hw(t),rs(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=gg(Br(t.cb,t),6e3));if(1>=iw(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else dc(t,11)}else if((n.J||t.g==n)&&Dg(t),!sc(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.T=y[0],y=y[1],2==t.G)if("c"==y[0]){t.I=y[1],t.ka=y[2];const C=y[3];null!=C&&(t.ma=C,t.j.info("VER="+t.ma));const I=y[4];null!=I&&(t.Ca=I,t.j.info("SVER="+t.Ca));const M=y[5];null!=M&&"number"==typeof M&&0<M&&(t.J=i=1.5*M,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const O=n.g;if(O){const B=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var o=i.h;o.g||-1==B.indexOf("spdy")&&-1==B.indexOf("quic")&&-1==B.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(uc(o,o.h),o.h=null))}if(i.D){const W=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;W&&(i.za=W,hi(i.F,i.D,W))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((i=t).sa=jE(i,i.H?i.ka:null,i.V),c.J){NE(i.h,c);var h=c,p=i.J;p&&h.setTimeout(p),h.B&&(ac(h),mg(h)),i.g=c}else VE(i);0<t.i.length&&Eg(t)}else"stop"!=y[0]&&"close"!=y[0]||dc(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?dc(t,7):cw(t):"noop"!=y[0]&&t.l&&t.l.wa(y),t.A=0)}lf()}catch{}}function EE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Y_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ty(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Y_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Cy(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Y_(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(pt=yy.prototype).setTimeout=function(n){this.O=n},pt.ib=function(n){n=n.target;const e=this.L;e&&3==Hl(n)?e.l():this.La(n)},pt.La=function(n){try{if(n==this.g)e:{const C=Hl(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||Rb||this.g&&(this.h.h||this.g.fa()||uw(this.g)))){this.I||4!=C||7==e||lf(),ac(this);var t=this.g.aa();this.Y=t;t:if(TE(this)){var i=uw(this.g);n="";var r=i.length,o=4==Hl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ud(this),_g(this);var c="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function nM(n,e,t,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.U,C,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sc(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,rs(12),Ud(this),_g(this);break e}fg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yb(this,t)}this.P?(by(this,C,c),Rb&&this.i&&3==C&&(Hb(this.S,this.T,"tick",this.hb),this.T.start())):(fg(this.j,this.m,c,null),Yb(this,c)),4==C&&Ud(this),this.i&&!this.I&&(4==C?fw(this.l,this):(this.i=!1,mg(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,rs(12)):(this.o=0,rs(13)),Ud(this),_g(this)}}}catch{}},pt.hb=function(){if(this.g){var n=Hl(this.g),e=this.g.fa();this.C<e.length&&(ac(this),by(this,n,e),this.i&&4!=n&&mg(this))}},pt.cancel=function(){this.I=!0,Ud(this)},pt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Rk(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(lf(),rs(17)),Ud(this),this.o=2,_g(this)):wy(this,this.V-n)};var DE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof lc){this.h=void 0!==e?e:n.h,yg(this,n.j),this.s=n.s,this.g=n.g,Ey(this,n.m),this.l=n.l,e=n.i;var t=new ff;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),SE(this,t),this.o=n.o}else n&&(t=String(n).match(DE))?(this.h=!!e,yg(this,t[1]||"",!0),this.s=Bd(t[2]||""),this.g=Bd(t[3]||"",!0),Ey(this,t[4]),this.l=Bd(t[5]||"",!0),SE(this,t[6]||"",!0),this.o=Bd(t[7]||"")):(this.h=!!e,this.i=new ff(null,this.h))}function oa(n){return new lc(n)}function yg(n,e,t){n.j=t?Bd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ey(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function SE(n,e,t){e instanceof ff?(n.i=e,function uM(n,e){e&&!n.j&&(Wa(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Jb(this,i),ew(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=hf(e,aM)),n.i=new ff(e,n.h))}function hi(n,e,t){n.i.set(e,t)}function df(n){return hi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function hf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Qb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Qb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}lc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(hf(e,Dy,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(hf(e,Dy,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(hf(t,"/"==t.charAt(0)?oM:sM,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",hf(t,lM)),n.join("")};var Dy=/[#\/\?@]/g,sM=/[#\?:]/g,oM=/[#\?]/g,aM=/[#\?@]/g,lM=/#/g;function ff(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Wa(n){n.g||(n.g=new Map,n.h=0,n.i&&function IE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Jb(n,e){Wa(n),e=Vd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Xb(n,e){return Wa(n),e=Vd(n,e),n.g.has(e)}function ew(n,e,t){Jb(n,e),0<t.length&&(n.i=null,n.g.set(Vd(n,e),rf(t)),n.h+=t.length)}function Vd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function tw(n){this.l=n||cM,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ga&&$t.g.Ga()&&$t.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=ff.prototype).add=function(n,e){Wa(this),this.i=null,n=Vd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){Wa(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},pt.oa=function(){Wa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},pt.W=function(n){Wa(this);let e=[];if("string"==typeof n)Xb(this,n)&&(e=e.concat(this.g.get(Vd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},pt.set=function(n,e){return Wa(this),this.i=null,Xb(this,n=Vd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=o;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var cM=10;function nw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function iw(n){return n.h?1:n.g?n.g.size:0}function Er(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function uc(n,e){n.g?n.g.add(e):n.h=e}function NE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ME(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return rf(n.i)}function xE(){}function Ok(){this.g=new xE}function RE(n,e,t){const i=t||"";try{EE(n,function(r,o){let c=r;nf(r)&&(c=oc(r)),e.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function cc(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function vg(n){this.l=n.ac||null,this.j=n.jb||!1}function pf(n,e){Gi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=rw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tw.prototype.cancel=function(){if(this.i=ME(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},xE.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},xE.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},Vr(vg,Ld),vg.prototype.g=function(){return new pf(this.l,this.j)},vg.prototype.i=function(n){return function(){return n}}({}),Vr(pf,Gi);var rw=0;function sw(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function bg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,wg(n)}function wg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=pf.prototype).open=function(n,e){if(this.readyState!=rw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,wg(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||$t).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bg(this)),this.readyState=rw},pt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,wg(this)),this.g&&(this.readyState=3,wg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof $t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sw(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},pt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?bg(this):wg(this),3==this.readyState&&sw(this)}},pt.Va=function(n){this.g&&(this.response=this.responseText=n,bg(this))},pt.Ua=function(n){this.g&&(this.response=n,bg(this))},pt.ga=function(){this.g&&bg(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(pf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var dM=$t.JSON.parse;function ii(n){Gi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ow,this.K=this.L=!1}Vr(ii,Gi);var ow="",PE=/^https?$/i,Iy=["POST","PUT"];function hM(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,lw(n),Cg(n)}function lw(n){n.D||(n.D=!0,Tr(n,"complete"),Tr(n,"error"))}function kE(n){if(n.h&&typeof Pd<"u"&&(!n.C[1]||4!=Hl(n)||2!=n.aa()))if(n.v&&4==Hl(n))hy(n.Ha,0,n);else if(Tr(n,"readystatechange"),4==Hl(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(DE)[1]||null;if(!r&&$t.self&&$t.self.location){var o=$t.self.location.protocol;r=o.substr(0,o.length-1)}i=!PE.test(r?r.toLowerCase():"")}t=i}if(t)Tr(n,"complete"),Tr(n,"success");else{n.m=6;try{var c=2<Hl(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",lw(n)}}finally{Cg(n)}}}function Cg(n,e){if(n.g){Zd(n);const t=n.g,i=n.C[0]?K_:null;n.g=null,n.C=null,e||Tr(n,"ready");try{t.onreadystatechange=i}catch{}}}function Zd(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function Hl(n){return n.g?n.g.readyState:0}function uw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ow:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Sy(n){let e="";return Lb(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function FE(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Sy(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):hi(n,e,t))}function Tg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function fM(n){this.Ca=0,this.i=[],this.j=new hg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Tg("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Tg("baseRetryDelayMs",5e3,n),this.bb=Tg("retryDelaySeedMs",1e4,n),this.$a=Tg("forwardChannelMaxRetries",2,n),this.ta=Tg("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new tw(n&&n.concurrentRequestLimit),this.Fa=new Ok,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function cw(n){if(LE(n),3==n.G){var e=n.U++,t=oa(n.F);hi(t,"SID",n.I),hi(t,"RID",e),hi(t,"TYPE","terminate"),gf(n,t),(e=new yy(n,n.j,e,void 0)).K=2,e.v=df(oa(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon&&(t=$t.navigator.sendBeacon(e.v.toString(),"")),!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=pM(e.l,null),e.g.da(e.v)),e.F=Date.now(),mg(e)}HE(n)}function Ay(n){n.g&&(Ny(n),n.g.cancel(),n.g=null)}function LE(n){Ay(n),n.u&&($t.clearTimeout(n.u),n.u=null),Dg(n),n.h.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function Eg(n){nw(n.h)||n.m||(n.m=!0,mE(n.Ja,n),n.C=0)}function BE(n,e){var t;t=e?e.m:n.U++;const i=oa(n.F);hi(i,"SID",n.I),hi(i,"RID",t),hi(i,"AID",n.T),gf(n,i),n.o&&n.s&&FE(i,n.o,n.s),t=new yy(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=dw(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),uc(n.h,t),Kb(t,i,e)}function gf(n,e){n.ia&&Lb(n.ia,function(t,i){hi(e,i,t)}),n.l&&EE({},function(t,i){hi(e,i,t)})}function dw(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Br(n.l.Ra,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let h=!0;for(let p=0;p<t;p++){let y=r[p].h;const C=r[p].g;if(y-=o,0>y)o=Math.max(0,r[p].h-100),h=!1;else try{RE(C,c,"req"+y+"_")}catch{i&&i(C)}}if(h){i=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function VE(n){n.g||n.u||(n.Z=1,mE(n.Ia,n),n.A=0)}function hw(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=gg(Br(n.Ia,n),pw(n,n.A)),n.A++,0))}function Ny(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function ZE(n){n.g=new yy(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=oa(n.sa);hi(e,"RID","rpc"),hi(e,"SID",n.I),hi(e,"CI",n.L?"0":"1"),hi(e,"AID",n.T),hi(e,"TYPE","xmlhttp"),gf(n,e),n.o&&n.s&&FE(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=df(oa(e)),t.s=null,t.P=!0,cf(t,n)}function Dg(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function fw(n,e){var t=null;if(n.g==e){Dg(n),Ny(n),n.g=null;var i=2}else{if(!Er(n.h,e))return;t=e.D,NE(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Tr(i=pg(),new wE(i,t)),Eg(n)}else VE(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function UE(n,e){return!(iw(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=gg(Br(n.Ja,n,e),pw(n,n.C)),n.C++,0)))}(n,e)||2==i&&hw(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:dc(n,5);break;case 4:dc(n,10);break;case 3:dc(n,6);break;default:dc(n,2)}}function pw(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function dc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Br(n.kb,n);t||(t=new lc("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||yg(t,"https"),df(t)),function OE(n,e){const t=new hg;if($t.Image){const i=new Image;i.onload=Ab(cc,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Ab(cc,t,i,"TestLoadImage: error",!1,e),i.onabort=Ab(cc,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ab(cc,t,i,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else rs(2);n.G=0,n.l&&n.l.va(e),HE(n),LE(n)}function HE(n){if(n.G=0,n.la=[],n.l){const e=ME(n.h);(0!=e.length||0!=n.i.length)&&(XT(n.la,e),XT(n.la,n.i),n.h.i.length=0,rf(n.i),n.i.length=0),n.l.ua()}}function jE(n,e,t){var i=t instanceof lc?oa(t):new lc(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),Ey(i,i.m);else{var r=$t.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new lc(null,void 0);i&&yg(o,i),e&&(o.g=e),r&&Ey(o,r),t&&(o.l=t),i=o}return e=n.za,(t=n.D)&&e&&hi(i,t,e),hi(i,"VER",n.ma),gf(n,i),i}function pM(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ii(t&&n.Da&&!n.ra?new vg({jb:!0}):n.ra)).Ka(n.H),e}function gw(){}function mw(){if(sf&&!(10<=Number(zN)))throw Error("Environmental error: no available transport.")}function Co(n,e){Gi.call(this),this.g=new fM(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!sc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sc(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ig(this)}function gM(n){py.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function mM(){gy.call(this),this.status=1}function Ig(n){this.g=n}(pt=ii.prototype).Ka=function(n){this.L=n},pt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():my.g(),this.C=function $b(n){return n.h||(n.h=n.i())}(this.u?this.u:my),this.g.onreadystatechange=Br(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void hM(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=$t.FormData&&n instanceof $t.FormData,!(0<=Nb(Iy,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of t)this.g.setRequestHeader(o,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zd(this),0<this.B&&((this.K=function aw(n){return sf&&function iE(){return function nE(n){var e=WN;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=tE(String(X_)).split("."),t=tE("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",o=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=Mb(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||Mb(0==r[2].length,0==o[2].length)||Mb(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Br(this.qa,this)):this.A=hy(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){hM(this,o)}},pt.qa=function(){typeof Pd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tr(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Tr(this,"complete"),Tr(this,"abort"),Cg(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cg(this,!0)),ii.X.M.call(this)},pt.Ha=function(){this.s||(this.F||this.v||this.l?kE(this):this.fb())},pt.fb=function(){kE(this)},pt.aa=function(){try{return 2<Hl(this)?this.g.status:-1}catch{return-1}},pt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),dM(e)}},pt.Ea=function(){return this.m},pt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=fM.prototype).ma=8,pt.G=1,pt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new yy(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=oE(o),lE(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=dw(this,r,e),hi(t=oa(this.F),"RID",n),hi(t,"CVER",22),this.D&&hi(t,"X-HTTP-Session-Id",this.D),gf(this,t),o&&(this.N?e="headers="+encodeURIComponent(String(Sy(o)))+"&"+e:this.o&&FE(t,this.o,o)),uc(this.h,r),this.Ya&&hi(t,"TYPE","init"),this.O?(hi(t,"$req",e),hi(t,"SID","null"),r.Z=!0,Kb(r,t,null)):Kb(r,t,e),this.G=2}}else 3==this.G&&(n?BE(this,n):0==this.i.length||nw(this.h)||BE(this))},pt.Ia=function(){if(this.u=null,ZE(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=gg(Br(this.eb,this),n)}},pt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,rs(10),Ay(this),ZE(this))},pt.cb=function(){null!=this.v&&(this.v=null,Ay(this),hw(this),rs(19))},pt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),rs(2)):(this.j.info("Failed to ping google.com"),rs(1))},(pt=gw.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Ra=function(){},mw.prototype.g=function(n,e){return new Co(n,e)},Vr(Co,Gi),Co.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;rs(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=jE(n,null,n.V),Eg(n)},Co.prototype.close=function(){cw(this.g)},Co.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=oc(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Eg(e)},Co.prototype.M=function(){this.g.l=null,delete this.j,cw(this.g),delete this.g,Co.X.M.call(this)},Vr(gM,py),Vr(mM,gy),Vr(Ig,gw),Ig.prototype.xa=function(){Tr(this.g,"a")},Ig.prototype.wa=function(n){Tr(this.g,new gM(n))},Ig.prototype.va=function(n){Tr(this.g,new mM)},Ig.prototype.ua=function(){Tr(this.g,"b")},mw.prototype.createWebChannel=mw.prototype.g,Co.prototype.send=Co.prototype.u,Co.prototype.open=Co.prototype.m,Co.prototype.close=Co.prototype.close,fy.NO_ERROR=0,fy.TIMEOUT=8,fy.HTTP_ERROR=6,CE.COMPLETE="complete",qb.EventType=uf,uf.OPEN="a",uf.CLOSE="b",uf.ERROR="c",uf.MESSAGE="d",Gi.prototype.listen=Gi.prototype.N,ii.prototype.listenOnce=ii.prototype.O,ii.prototype.getLastError=ii.prototype.Oa,ii.prototype.getLastErrorCode=ii.prototype.Ea,ii.prototype.getStatus=ii.prototype.aa,ii.prototype.getResponseJson=ii.prototype.Sa,ii.prototype.getResponseText=ii.prototype.fa,ii.prototype.send=ii.prototype.da,ii.prototype.setWithCredentials=ii.prototype.Ka;var Pk=Zl.createWebChannelTransport=function(){return new mw},kk=Zl.getStatEventTarget=function(){return pg()},GE=Zl.ErrorCode=fy,My=Zl.EventType=CE,Fk=Zl.Event=Fd,_w=Zl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},xy=Zl.FetchXmlHttpFactory=vg,Sg=Zl.WebChannel=qb,$E=Zl.XhrIo=ii;const _M="@firebase/firestore";class $i{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");let Hd="9.18.0";const hc=new bo.Yd("@firebase/firestore");function Ry(){return hc.logLevel}function Be(n,...e){if(hc.logLevel<=bo.in.DEBUG){const t=e.map(mf);hc.debug(`Firestore (${Hd}): ${n}`,...t)}}function ki(n,...e){if(hc.logLevel<=bo.in.ERROR){const t=e.map(mf);hc.error(`Firestore (${Hd}): ${n}`,...t)}}function jd(n,...e){if(hc.logLevel<=bo.in.WARN){const t=e.map(mf);hc.warn(`Firestore (${Hd}): ${n}`,...t)}}function mf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const e=`FIRESTORE (${Hd}) INTERNAL ASSERTION FAILED: `+n;throw ki(e),new Error(e)}function Dt(n,e){n||ft()}function nt(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends k.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class yM{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($i.UNAUTHENTICATED))}shutdown(){}}class qE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WE{constructor(e){this.t=e,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let c=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new tr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=c;e.enqueueRetryable((0,_e.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},p=y=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new tr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Dt("string"==typeof i.accessToken),new yM(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dt(null===e||"string"==typeof e),new $i(e)}}class Bk{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=$i.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Dt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class aa{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new Bk(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t($i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yw{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=o=>{null!=o.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.A;return this.A=o.token,Be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Dt("string"==typeof t.token),this.A=t.token,new zE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function To(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class KE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=To(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}}function Ht(n,e){return n<e?-1:n>e?1:0}function _f(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function YE(n){return n+"\0"}class jn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jn.fromMillis(Date.now())}static fromDate(e){return jn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new jn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new jn(0,0))}static max(){return new St(new jn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yf{constructor(e,t,i){void 0===t?t=0:t>e.length&&ft(),void 0===i?i=e.length-t:i>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===yf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yf?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),c=t.get(r);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _n extends yf{construct(e,t,i){return new _n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ke(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new _n(t)}static emptyPath(){return new _n([])}}const QE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fi extends yf{construct(e,t,i){return new fi(e,t,i)}static isValidIdentifier(e){return QE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ke(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new ke(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new ke(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new ke(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fi(t)}static emptyPath(){return new fi([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(_n.fromString(e))}static fromName(e){return new et(_n.fromString(e).popFirst(5))}static empty(){return new et(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new _n(e.slice()))}}class Ag{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function vw(n){return n.fields.find(e=>2===e.kind)}function jl(n){return n.fields.filter(e=>2!==e.kind)}Ag.UNKNOWN_ID=-1;class Ng{constructor(e,t){this.fieldPath=e,this.kind=t}}class $s{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new $s(0,qs.min())}}function JE(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(1e9===i?new jn(t+1,0):new jn(t,i));return new qs(r,et.empty(),e)}function bM(n){return new qs(n.readTime,n.key,-1)}class qs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new qs(St.min(),et.empty(),-1)}static max(){return new qs(St.max(),et.empty(),-1)}}function ww(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const XE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gl(n){return tD.apply(this,arguments)}function tD(){return tD=(0,_e.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==XE)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),tD.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let r=0,o=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&t()},p=>i(p))}),c=!0,o===r&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(r=>r?se.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new se((i,r)=>{const o=e.length,c=new Array(o);let h=0;for(let p=0;p<o;p++){const y=p;t(e[y]).next(C=>{c[y]=C,++h,h===o&&i(c)},C=>r(C))}})}static doWhile(e,t){return new se((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class Oy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new tr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Gd(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=Py(i.target.error);this.P.reject(new Gd(e,r))}}static open(e,t,i,r){try{return new Oy(t,e.transaction(r,i))}catch(o){throw new Gd(t,o)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new nD(t)}}class Eo{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Eo.D((0,k.z$)())&&ki("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),pc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,k.hl)())return!1;if(Eo.N())return!0;const e=(0,k.z$)(),t=Eo.D(e),i=0<t&&t<10,r=Eo.k(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.$)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new Gd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new ke(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ke(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Gd(e,h))},o.onupgradeneeded=c=>{Be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.F(c.target.result,o.transaction,c.oldVersion,t.version).next(()=>{Be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,_e.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{o.db=yield o.O(e);const p=Oy.open(o.db,e,c?"readonly":"readwrite",i),y=r(p).next(C=>(p.V(),C)).catch(C=>(p.abort(C),se.reject(C))).toPromise();return y.catch(()=>{}),yield p.v,y}catch(p){const y=p,C="FirebaseError"!==y.name&&h<3;if(Be("SimpleDb","Transaction failed with error:",y.message,"Retrying:",C),o.close(),!C)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Zk{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return pc(this.q.delete())}}class Gd extends ke{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $l(n){return"IndexedDbTransactionError"===n.name}class nD{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Be("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),pc(i)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),pc(this.store.add(e))}get(e){return pc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),pc(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),pc(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(c,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new se((o,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new se((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(e,t){Be("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Z=!1;const r=this.cursor(i);return this.H(r,(o,c,h)=>h.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new se((i,r)=>{t.onerror=o=>{const c=Py(o.target.error);r(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}H(e,t){const i=[];return new se((r,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const p=new Zk(h),y=t(h.primaryKey,h.value,p);if(y instanceof se){const C=y.catch(I=>(p.done(),se.reject(I)));i.push(C)}p.isDone?r():null===p.G?h.continue():h.continue(p.G)}}).next(()=>se.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Z?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function pc(n){return new se((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Py(i.target.error);t(r)}})}let Cw=!1;function Py(n){const e=Eo.D((0,k.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Cw||(Cw=!0,setTimeout(()=>{throw i},0)),i}}return n}class ky{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Be("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{Be("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){$l(i)?Be("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Gl(i)}yield t.nt(6e4)}))}}class Fy{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,o=!0;return se.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return Be("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(h=>{r-=h,i.add(c)});o=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,o)).next(h=>(Be("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,o)=>{const c=bM(o);ww(c,i)>0&&(i=c)}),new qs(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Is=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class CM{constructor(e,t,i,r,o,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class gc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new gc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}function TM(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Tw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Mg(n){return null==n}function xg(n){return 0===n&&1/n==-1/0}function rD(n){return"number"==typeof n&&Number.isInteger(n)&&!xg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Hk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw r instanceof DOMException?new Hk("Invalid base64 string: "+r):r}}(e);return new fr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new fr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fr.EMPTY_BYTE_STRING=new fr("");const Gk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $d(n){if(Dt(!!n),"string"==typeof n){let e=0;const t=Gk.exec(n);if(Dt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wi(n.seconds),nanos:wi(n.nanos)}}function wi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function za(n){return"string"==typeof n?fr.fromBase64String(n):fr.fromUint8Array(n)}function Ew(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function sD(n){const e=n.mapValue.fields.__previous_value__;return Ew(e)?sD(e):e}function bf(n){const e=$d(n.mapValue.fields.__local_write_time__.timestampValue);return new jn(e.seconds,e.nanos)}const Ss={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rg={nullValue:"NULL_VALUE"};function ql(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ew(n)?4:uD(n)?9007199254740991:10:ft()}function Do(n,e){if(n===e)return!0;const t=ql(n);if(t!==ql(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bf(n).isEqual(bf(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=$d(i.timestampValue),c=$d(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,za(n.bytesValue).isEqual(za(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return wi(i.geoPointValue.latitude)===wi(r.geoPointValue.latitude)&&wi(i.geoPointValue.longitude)===wi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return wi(i.integerValue)===wi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=wi(i.doubleValue),c=wi(r.doubleValue);return o===c?xg(o)===xg(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return _f(n.arrayValue.values||[],e.arrayValue.values||[],Do);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(TM(o)!==TM(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===c[h]||!Do(o[h],c[h])))return!1;return!0}(n,e);default:return ft()}var r}function Og(n,e){return void 0!==(n.values||[]).find(t=>Do(t,e))}function Ka(n,e){if(n===e)return 0;const t=ql(n),i=ql(e);if(t!==i)return Ht(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(r,o){const c=wi(r.integerValue||r.doubleValue),h=wi(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return Uy(n.timestampValue,e.timestampValue);case 4:return Uy(bf(n),bf(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(r,o){const c=za(r),h=za(o);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const c=r.split("/"),h=o.split("/");for(let p=0;p<c.length&&p<h.length;p++){const y=Ht(c[p],h[p]);if(0!==y)return y}return Ht(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const c=Ht(wi(r.latitude),wi(o.latitude));return 0!==c?c:Ht(wi(r.longitude),wi(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const c=r.values||[],h=o.values||[];for(let p=0;p<c.length&&p<h.length;++p){const y=Ka(c[p],h[p]);if(y)return y}return Ht(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===Ss.mapValue&&o===Ss.mapValue)return 0;if(r===Ss.mapValue)return 1;if(o===Ss.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),p=o.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let C=0;C<h.length&&C<y.length;++C){const I=Ht(h[C],y[C]);if(0!==I)return I;const M=Ka(c[h[C]],p[y[C]]);if(0!==M)return M}return Ht(h.length,y.length)}(n.mapValue,e.mapValue);default:throw ft()}}function Uy(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=$d(n),i=$d(e),r=Ht(t.seconds,i.seconds);return 0!==r?r:Ht(t.nanos,i.nanos)}function Wl(n){return oD(n)}function oD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=$d(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?za(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=oD(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${oD(i.fields[h])}`;return o+"}"}(n.mapValue):ft();var e}function wf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function aD(n){return!!n&&"integerValue"in n}function By(n){return!!n&&"arrayValue"in n}function Dw(n){return!!n&&"nullValue"in n}function lD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vy(n){return!!n&&"mapValue"in n}function Pg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vf(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Pg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function cD(n){return"nullValue"in n?Rg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?wf(gc.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function dD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?wf(gc.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ss:ft()}function Iw(n,e){const t=Ka(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hD(n,e){const t=Ka(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class mc{constructor(e,t){this.position=e,this.inclusive=t}}function Sw(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],c=n.position[r];if(i=o.field.isKeyField()?et.comparator(et.fromName(c.referenceValue),t.key):Ka(c,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Zy(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Do(n.position[t],e.position[t]))return!1;return!0}class EM{}class sn extends EM{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new $k(e,t,i):"array-contains"===t?new AM(e,i):"in"===t?new NM(e,i):"not-in"===t?new zk(e,i):"array-contains-any"===t?new Kk(e,i):new sn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new qk(e,i):new Wk(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ka(t,this.value)):null!==t&&ql(this.value)===ql(t)&&this.matchesComparison(Ka(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Dn extends EM{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new Dn(e,t)}matches(e){return Cf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Cf(n){return"and"===n.op}function Aw(n){return"or"===n.op}function fD(n){return DM(n)&&Cf(n)}function DM(n){for(const e of n.filters)if(e instanceof Dn)return!1;return!0}function Nw(n){if(n instanceof sn)return n.field.canonicalString()+n.op.toString()+Wl(n.value);if(fD(n))return n.filters.map(e=>Nw(e)).join(",");{const e=n.filters.map(t=>Nw(t)).join(",");return`${n.op}(${e})`}}function pD(n,e){return n instanceof sn?(t=n,(i=e)instanceof sn&&t.op===i.op&&t.field.isEqual(i.field)&&Do(t.value,i.value)):n instanceof Dn?function(t,i){return i instanceof Dn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,c)=>r&&pD(o,i.filters[c]),!0)}(n,e):void ft();var t,i}function gD(n,e){const t=n.filters.concat(e);return Dn.create(t,n.op)}function IM(n){return n instanceof sn?`${(e=n).field.canonicalString()} ${e.op} ${Wl(e.value)}`:n instanceof Dn?function(e){return e.op.toString()+" {"+e.getFilters().map(IM).join(" ,")+"}"}(n):"Filter";var e}class $k extends sn{constructor(e,t,i){super(e,t,i),this.key=et.fromName(i.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class qk extends sn{constructor(e,t){super(e,"in",t),this.keys=SM(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Wk extends sn{constructor(e,t){super(e,"not-in",t),this.keys=SM(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function SM(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>et.fromName(i.referenceValue))}class AM extends sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return By(t)&&Og(t.arrayValue,this.value)}}class NM extends sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Og(this.value.arrayValue,t)}}class zk extends sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Og(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Og(this.value.arrayValue,t)}}class Kk extends sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!By(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Og(this.value.arrayValue,i))}}class kg{constructor(e,t="asc"){this.field=e,this.dir=t}}function MM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Fi{constructor(e,t){this.comparator=e,this.root=t||l.EMPTY}insert(e,t){return new Fi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,l.BLACK,null,null))}remove(e){return new Fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,l.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new a(this.root,e,this.comparator,!1)}getReverseIterator(){return new a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new a(this.root,e,this.comparator,!0)}}class a{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class l{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??l.RED,this.left=r??l.EMPTY,this.right=o??l.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new l(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return l.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return l.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,l.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,l.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}l.EMPTY=null,l.RED=!0,l.BLACK=!1,l.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,e,t,i,r){return this}insert(n,e,t){return new l(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class u{constructor(e){this.comparator=e,this.data=new Fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new d(this.data.getIterator())}getIteratorFrom(e){return new d(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof u)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new u(this.comparator);return t.data=e,t}}class d{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function f(n){return n.hasNext()?n.getNext():void 0}class m{constructor(e){this.fields=e,e.sort(fi.comparator)}static empty(){return new m([])}unionWith(e){let t=new u(fi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new m(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _f(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class v{constructor(e){this.value=e}static empty(){return new v({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pg(t)}setAll(e){let t=fi.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=Pg(c):r.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());Vy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Do(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Vy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){vf(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new v(Pg(this.value))}}function T(n){const e=[];return vf(n.fields,(t,i)=>{const r=new fi([t]);if(Vy(i)){const o=T(i.mapValue).fields;if(0===o.length)e.push(r);else for(const c of o)e.push(r.child(c))}else e.push(r)}),new m(e)}class E{constructor(e,t,i,r,o,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new E(e,0,St.min(),St.min(),St.min(),v.empty(),0)}static newFoundDocument(e,t,i,r){return new E(e,1,t,St.min(),i,r,0)}static newNoDocument(e,t){return new E(e,2,t,St.min(),St.min(),v.empty(),0)}static newUnknownDocument(e,t){return new E(e,3,t,St.min(),St.min(),v.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(St.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=v.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=v.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof E&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new E(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class A{constructor(e,t=null,i=[],r=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this._t=null}}function R(n,e=null,t=[],i=[],r=null,o=null,c=null){return new A(n,e,t,i,r,o,c)}function L(n){const e=nt(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Nw(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Mg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Wl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Wl(i)).join(",")),e._t=t}return e._t}function q(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!MM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Zy(n.startAt,e.startAt)&&Zy(n.endAt,e.endAt)}function ee(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ye(n,e){return n.filters.filter(t=>t instanceof sn&&t.field.isEqual(e))}function He(n,e,t){let i=Rg,r=!0;for(const o of ye(n,e)){let c=Rg,h=!0;switch(o.op){case"<":case"<=":c=cD(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=Rg}Iw({value:i,inclusive:r},{value:c,inclusive:h})<0&&(i=c,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];Iw({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function Ye(n,e,t){let i=Ss,r=!0;for(const o of ye(n,e)){let c=Ss,h=!0;switch(o.op){case">=":case">":c=dD(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=Ss}hD({value:i,inclusive:r},{value:c,inclusive:h})>0&&(i=c,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];hD({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class ot{constructor(e,t=null,i=[],r=[],o=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=p,this.wt=null,this.gt=null}}function At(n,e,t,i,r,o,c,h){return new ot(n,e,t,i,r,o,c,h)}function xe(n){return new ot(n)}function kt(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function vn(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Bn(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function zl(n){return null!==n.collectionGroup}function Kl(n){const e=nt(n);if(null===e.wt){e.wt=[];const t=Bn(e),i=vn(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new kg(t)),e.wt.push(new kg(fi.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new kg(fi.keyField(),o))}}}return e.wt}function Dr(n){const e=nt(n);if(!e.gt)if("F"===e.limitType)e.gt=R(e.path,e.collectionGroup,Kl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Kl(e))t.push(new kg(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new mc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new mc(e.startAt.position,e.startAt.inclusive):null;e.gt=R(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.gt}function Fg(n,e){e.getFirstInequalityField(),Bn(n);const t=n.filters.concat([e]);return new ot(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Tf(n,e,t){return new ot(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qd(n,e){return q(Dr(n),Dr(e))&&n.limitType===e.limitType}function Hy(n){return`${L(Dr(n))}|lt:${n.limitType}`}function Lg(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>IM(i)).join(", ")}]`),Mg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Wl(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Wl(i)).join(",")),`Target(${t})`}(Dr(n))}; limitType=${n.limitType})`}function Wd(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):et.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Kl(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,c){const h=Sw(r,o,c);return r.inclusive?h<=0:h<0}(t.startAt,Kl(t),i)||t.endAt&&!function(r,o,c){const h=Sw(r,o,c);return r.inclusive?h>=0:h>0}(t.endAt,Kl(t),i)));var t,i}function jy(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Yk(n){return(e,t)=>{let i=!1;for(const r of Kl(n)){const o=pH(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function pH(n,e,t){const i=n.field.isKeyField()?et.comparator(e.key,t.key):function(r,o,c){const h=o.data.field(r),p=c.data.field(r);return null!==h&&null!==p?Ka(h,p):ft()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ft()}}function Qk(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xg(e)?"-0":e}}function Jk(n){return{integerValue:""+n}}function Xk(n,e){return rD(e)?Jk(e):Qk(n,e)}class mD{constructor(){this._=void 0}}function gH(n,e,t){return n instanceof Gy?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Ug?tF(n,e):n instanceof Bg?nF(n,e):function(i,r){const o=eF(i,r),c=iF(o)+iF(i.It);return aD(o)&&aD(i.It)?Jk(c):Qk(i.Tt,c)}(n,e)}function mH(n,e,t){return n instanceof Ug?tF(n,e):n instanceof Bg?nF(n,e):t}function eF(n,e){return n instanceof $y?aD(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Gy extends mD{}class Ug extends mD{constructor(e){super(),this.elements=e}}function tF(n,e){const t=rF(e);for(const i of n.elements)t.some(r=>Do(r,i))||t.push(i);return{arrayValue:{values:t}}}class Bg extends mD{constructor(e){super(),this.elements=e}}function nF(n,e){let t=rF(e);for(const i of n.elements)t=t.filter(r=>!Do(r,i));return{arrayValue:{values:t}}}class $y extends mD{constructor(e,t){super(),this.Tt=e,this.It=t}}function iF(n){return wi(n.integerValue||n.doubleValue)}function rF(n){return By(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Mw{constructor(e,t){this.field=e,this.transform=t}}class yH{constructor(e,t){this.version=e,this.transformResults=t}}class Ci{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _D(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class yD{}function sF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Wy(n.key,Ci.none()):new qy(n.key,n.data,Ci.none());{const t=n.data,i=v.empty();let r=new u(fi.comparator);for(let o of e.fields)if(!r.has(o)){let c=t.field(o);null===c&&o.length>1&&(o=o.popLast(),c=t.field(o)),null===c?i.delete(o):i.set(o,c),r=r.add(o)}return new zd(n.key,i,new m(r.toArray()),Ci.none())}}function vH(n,e,t){n instanceof qy?function(i,r,o){const c=i.value.clone(),h=lF(i.fieldTransforms,r,o.transformResults);c.setAll(h),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof zd?function(i,r,o){if(!_D(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=lF(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(aF(i)),h.setAll(c),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xw(n,e,t,i){return n instanceof qy?function(r,o,c,h){if(!_D(r.precondition,o))return c;const p=r.value.clone(),y=uF(r.fieldTransforms,h,o);return p.setAll(y),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof zd?function(r,o,c,h){if(!_D(r.precondition,o))return c;const p=uF(r.fieldTransforms,h,o),y=o.data;return y.setAll(aF(r)),y.setAll(p),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(c=t,_D(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function bH(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=eF(i.transform,r||null);null!=o&&(null===t&&(t=v.empty()),t.set(i.field,o))}return t||null}function oF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&_f(t,i,(r,o)=>function _H(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Ug&&i instanceof Ug||t instanceof Bg&&i instanceof Bg?_f(t.elements,i.elements,Do):t instanceof $y&&i instanceof $y?Do(t.It,i.It):t instanceof Gy&&i instanceof Gy);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class qy extends yD{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class zd extends yD{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function lF(n,e,t){const i=new Map;Dt(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],c=o.transform,h=e.data.field(o.field);i.set(o.field,mH(c,h,t[r]))}return i}function uF(n,e,t){const i=new Map;for(const r of n){const o=r.transform,c=t.data.field(r.field);i.set(r.field,gH(o,c,e))}return i}class Wy extends yD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xM extends yD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wH{constructor(e){this.count=e}}var pr,Tn;function cF(n){switch(n){default:return ft();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function dF(n){if(void 0===n)return ki("GRPC error has no .code"),ue.UNKNOWN;switch(n){case pr.OK:return ue.OK;case pr.CANCELLED:return ue.CANCELLED;case pr.UNKNOWN:return ue.UNKNOWN;case pr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case pr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case pr.INTERNAL:return ue.INTERNAL;case pr.UNAVAILABLE:return ue.UNAVAILABLE;case pr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case pr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case pr.NOT_FOUND:return ue.NOT_FOUND;case pr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case pr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case pr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case pr.ABORTED:return ue.ABORTED;case pr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case pr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case pr.DATA_LOSS:return ue.DATA_LOSS;default:return ft()}}(Tn=pr||(pr={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";class Ef{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vf(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return Tw(this.inner)}size(){return this.innerSize}}const CH=new Fi(et.comparator);function Io(){return CH}const hF=new Fi(et.comparator);function Rw(...n){let e=hF;for(const t of n)e=e.insert(t.key,t);return e}function fF(n){let e=hF;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function _c(){return Ow()}function pF(){return Ow()}function Ow(){return new Ef(n=>n.toString(),(n,e)=>n.isEqual(e))}const TH=new Fi(et.comparator),EH=new u(et.comparator);function Xt(...n){let e=EH;for(const t of n)e=e.add(t);return e}const DH=new u(Ht);function vD(){return DH}class Pw{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,kw.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Pw(St.min(),r,vD(),Io(),Xt())}}class kw{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new kw(i,t,Xt(),Xt(),Xt())}}class bD{constructor(e,t,i,r){this.Et=e,this.removedTargetIds=t,this.key=i,this.At=r}}class gF{constructor(e,t){this.targetId=e,this.Rt=t}}class mF{constructor(e,t,i=fr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class _F{constructor(){this.Pt=0,this.vt=vF(),this.bt=fr.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=Xt(),t=Xt(),i=Xt();return this.vt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ft()}}),new kw(this.bt,this.Vt,e,t,i)}kt(){this.St=!1,this.vt=vF()}$t(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class IH{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=Io(),this.Kt=yF(),this.Gt=new u(Ht)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const i=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&i.xt(e.resumeToken);break;case 1:i.Ft(),i.Dt||i.kt(),i.xt(e.resumeToken);break;case 2:i.Ft(),i.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(i.Bt(),i.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),i.xt(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((i,r)=>{this.Jt(r)&&t(r)})}Zt(e){const t=e.targetId,i=e.Rt.count,r=this.Xt(t);if(r){const o=r.target;if(ee(o))if(0===i){const c=new et(o.path);this.zt(t,c,E.newNoDocument(c,St.min()))}else Dt(1===i);else this.te(t)!==i&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((o,c)=>{const h=this.Xt(c);if(h){if(o.current&&ee(h.target)){const p=new et(h.target.path);null!==this.Ut.get(p)||this.ne(c,p)||this.zt(c,p,E.newNoDocument(p,e))}o.Ct&&(t.set(c,o.Nt()),o.kt())}});let i=Xt();this.Kt.forEach((o,c)=>{let h=!0;c.forEachWhile(p=>{const y=this.Xt(p);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.Ut.forEach((o,c)=>c.setReadTime(e));const r=new Pw(e,t,this.Gt,this.Ut,i);return this.Ut=Io(),this.Kt=yF(),this.Gt=new u(Ht),r}jt(e,t){if(!this.Jt(e))return;const i=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,i){if(!this.Jt(e))return;const r=this.Ht(e);this.ne(e,t)?r.$t(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let t=this.qt.get(e);return t||(t=new _F,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new u(Ht),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new _F),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function yF(){return new Fi(et.comparator)}function vF(){return new Fi(et.comparator)}const SH={asc:"ASCENDING",desc:"DESCENDING"},AH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NH={and:"AND",or:"OR"};class MH{constructor(e,t){this.databaseId=e,this.yt=t}}function zy(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bF(n,e){return n.yt?e.toBase64():e.toUint8Array()}function xH(n,e){return zy(n,e.toTimestamp())}function nr(n){return Dt(!!n),St.fromTimestamp(function(e){const t=$d(e);return new jn(t.seconds,t.nanos)}(n))}function RM(n,e){return(t=n,new _n(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wF(n){const e=_n.fromString(n);return Dt(MF(e)),e}function Fw(n,e){return RM(n.databaseId,e.path)}function yc(n,e){const t=wF(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(TF(t))}function OM(n,e){return RM(n.databaseId,e)}function CF(n){const e=wF(n);return 4===e.length?_n.emptyPath():TF(e)}function Lw(n){return new _n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TF(n){return Dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function EF(n,e,t){return{name:Fw(n,e),fields:t.value.mapValue.fields}}function DF(n,e,t){const i=yc(n,e.name),r=nr(e.updateTime),o=e.createTime?nr(e.createTime):St.min(),c=new v({mapValue:{fields:e.fields}}),h=E.newFoundDocument(i,r,o,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Uw(n,e){let t;if(e instanceof qy)t={update:EF(n,e.key,e.value)};else if(e instanceof Wy)t={delete:Fw(n,e.key)};else if(e instanceof zd)t={update:EF(n,e.key,e.data),updateMask:BH(e.fieldMask)};else{if(!(e instanceof xM))return ft();t={verify:Fw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof Gy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ug)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Bg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof $y)return{fieldPath:o.field.canonicalString(),increment:c.It};throw ft()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:xH(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ft()),t;var r}function PM(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Ci.updateTime(nr(r.updateTime)):void 0!==r.exists?Ci.exists(r.exists):Ci.none():Ci.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,c){let h=null;"setToServerValue"in c?(Dt("REQUEST_TIME"===c.setToServerValue),h=new Gy):"appendMissingElements"in c?h=new Ug(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Bg(c.removeAllFromArray.values||[]):"increment"in c?h=new $y(o,c.increment):ft();const p=fi.fromServerFormat(c.fieldPath);return new Mw(p,h)}(n,r)):[];var r;if(e.update){const r=yc(n,e.update.name),o=new v({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new m((e.updateMask.fieldPaths||[]).map(y=>fi.fromServerFormat(y)));return new zd(r,o,c,t,i)}return new qy(r,o,t,i)}if(e.delete){const r=yc(n,e.delete);return new Wy(r,t)}if(e.verify){const r=yc(n,e.verify);return new xM(r,t)}return ft()}function IF(n,e){return{documents:[OM(n,e.path)]}}function kM(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=OM(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=OM(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return NF(Dn.create(p,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(p){if(0!==p.length)return p.map(y=>{return{field:Df((C=y).field),direction:FH(C.dir)};var C})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=(y=e.limit,n.yt||Mg(y)?y:{value:y});var y,h,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function SF(n){let e=CF(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Dt(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let o=[];t.where&&(o=function(C){const I=AF(C);return I instanceof Dn&&fD(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(C=>{return new kg(Ky((I=C).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;t.limit&&(h=function(C){let I;return I="object"==typeof C?C.value:C,Mg(I)?null:I}(t.limit));let p=null;var C;t.startAt&&(p=new mc((C=t.startAt).values||[],!!C.before));let y=null;return t.endAt&&(y=function(C){return new mc(C.values||[],!C.before)}(t.endAt)),At(e,r,c,o,h,"F",p,y)}function AF(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ky(e.unaryFilter.field);return sn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Ky(e.unaryFilter.field);return sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ky(e.unaryFilter.field);return sn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ky(e.unaryFilter.field);return sn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(n):void 0!==n.fieldFilter?sn.create(Ky((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Dn.create(e.compositeFilter.filters.map(t=>AF(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ft()}}(e.compositeFilter.op))}(n):ft();var e}function FH(n){return SH[n]}function LH(n){return AH[n]}function UH(n){return NH[n]}function Df(n){return{fieldPath:n.canonicalString()}}function Ky(n){return fi.fromServerFormat(n.fieldPath)}function NF(n){return n instanceof sn?function(e){if("=="===e.op){if(lD(e.value))return{unaryFilter:{field:Df(e.field),op:"IS_NAN"}};if(Dw(e.value))return{unaryFilter:{field:Df(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lD(e.value))return{unaryFilter:{field:Df(e.field),op:"IS_NOT_NAN"}};if(Dw(e.value))return{unaryFilter:{field:Df(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Df(e.field),op:LH(e.op),value:e.value}}}(n):n instanceof Dn?function(e){const t=e.getFilters().map(i=>NF(i));return 1===t.length?t[0]:{compositeFilter:{op:UH(e.op),filters:t}}}(n):ft()}function BH(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function MF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ws(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xF(e)),e=VH(n.get(t),e);return xF(e)}function VH(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function xF(n){return n+"\x01\x01"}function vc(n){const e=n.length;if(Dt(e>=2),2===e)return Dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),_n.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const c=n.indexOf("\x01",o);switch((c<0||c>t)&&ft(),n.charAt(c+1)){case"\x01":const h=n.substring(o,c);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:ft()}o=c+2}return new _n(i)}const RF=["userId","batchId"];function wD(n,e){return[n,Ws(e)]}function OF(n,e,t){return[n,Ws(e),t]}const ZH={},HH=["prefixPath","collectionGroup","readTime","documentId"],jH=["prefixPath","collectionGroup","documentId"],GH=["collectionGroup","readTime","prefixPath","documentId"],$H=["canonicalId","targetId"],qH=["targetId","path"],WH=["path","targetId"],zH=["collectionId","parent"],KH=["indexId","uid"],YH=["uid","sequenceNumber"],QH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],JH=["indexId","uid","orderedDocumentKey"],XH=["userId","collectionPath","documentId"],ej=["userId","collectionPath","largestBatchId"],tj=["userId","collectionGroup","largestBatchId"],PF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nj=[...PF,"documentOverlays"],kF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FF=kF,ij=[...FF,"indexConfiguration","indexState","indexEntries"];class FM extends eD{constructor(e,t){super(),this.re=e,this.currentSequenceNumber=t}}function Hr(n,e){const t=nt(n);return Eo.M(t.re,e)}class LM{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&vH(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=xw(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=xw(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=pF();return this.mutations.forEach(r=>{const o=e.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(r.key)?null:h;const p=sF(c,h);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(St.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xt())}isEqual(e){return this.batchId===e.batchId&&_f(this.mutations,e.mutations,(t,i)=>oF(t,i))&&_f(this.baseMutations,e.baseMutations,(t,i)=>oF(t,i))}}class UM{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Dt(e.mutations.length===i.length);let r=TH;const o=e.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new UM(e,t,i,r)}}class BM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class If{constructor(e,t,i,r,o=St.min(),c=St.min(),h=fr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(e){return new If(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new If(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new If(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class LF{constructor(e){this.oe=e}}function UF(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:CD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Fw(r=n.oe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:zy(r,o.version.toTimestamp()),createTime:zy(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Vg(e.version)};else{if(!e.isUnknownDocument())return ft();i.unknownDocument={path:t.path.toArray(),version:Vg(e.version)}}var r,o;return i}function CD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Vg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Zg(n){const e=new jn(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function Hg(n,e){const t=(e.baseMutations||[]).map(o=>PM(n.oe,o));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(c.updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o)}const i=e.mutations.map(o=>PM(n.oe,o)),r=jn.fromMillis(e.localWriteTimeMs);return new LM(e.batchId,r,t,i)}function Bw(n){const e=Zg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Zg(n.lastLimboFreeSnapshotVersion):St.min();let i;var r;return void 0!==n.query.documents?(Dt(1===(r=n.query).documents.length),i=Dr(xe(CF(r.documents[0])))):i=Dr(SF(n.query)),new If(i,n.targetId,0,n.lastListenSequenceNumber,e,t,fr.fromBase64String(n.resumeToken))}function BF(n,e){const t=Vg(e.snapshotVersion),i=Vg(e.lastLimboFreeSnapshotVersion);let r;r=ee(e.target)?IF(n.oe,e.target):kM(n.oe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:L(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function VM(n){const e=SF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Tf(e,e.limit,"L"):e}function ZM(n,e){return new BM(e.largestBatchId,PM(n.oe,e.overlayMutation))}function VF(n,e){const t=e.path.lastSegment();return[n,Ws(e.path.popLast()),t]}function ZF(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Vg(i.readTime),documentKey:Ws(i.documentKey.path),largestBatchId:i.largestBatchId}}class sj{getBundleMetadata(e,t){return HF(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Zg(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return HF(e).put({bundleId:(i=t).id,createTime:Vg(nr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return jF(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:VM(r.bundledQuery),readTime:Zg(r.readTime)};var r})}saveNamedQuery(e,t){return jF(e).put({name:(i=t).name,readTime:Vg(nr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function HF(n){return Hr(n,"bundles")}function jF(n){return Hr(n,"namedQueries")}class TD{constructor(e,t){this.Tt=e,this.userId=t}static ue(e,t){return new TD(e,t.uid||"")}getOverlay(e,t){return Vw(e).get(VF(this.userId,t)).next(i=>i?ZM(this.Tt,i):null)}getOverlays(e,t){const i=_c();return se.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,c)=>{const h=new BM(t,c);r.push(this.ce(e,h))}),se.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Ws(c.getCollectionPath())));const o=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(Vw(e).Y("collectionPathOverlayIndex",h))}),se.waitFor(o)}getOverlaysForCollection(e,t,i){const r=_c(),o=Ws(t),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Vw(e).W("collectionPathOverlayIndex",c).next(h=>{for(const p of h){const y=ZM(this.Tt,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=_c();let c;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vw(e).X({index:"collectionGroupOverlayIndex",range:h},(p,y,C)=>{const I=ZM(this.Tt,y);o.size()<r||I.largestBatchId===c?(o.set(I.getKey(),I),c=I.largestBatchId):C.done()}).next(()=>o)}ce(e,t){return Vw(e).put(function(i,r,o){const[c,h,p]=VF(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Uw(i.oe,o.mutation)}}(this.Tt,this.userId,t))}}function Vw(n){return Hr(n,"documentOverlays")}class jg{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(wi(e.integerValue));else if("doubleValue"in e){const i=wi(e.doubleValue);isNaN(i)?this.fe(t,13):(this.fe(t,15),xg(i)?t.de(0):t.de(i))}else if("timestampValue"in e){const i=e.timestampValue;this.fe(t,20),"string"==typeof i?t._e(i):(t._e(`${i.seconds||""}`),t.de(i.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(za(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?uD(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):ft()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const i=e.fields||{};this.fe(t,55);for(const r of Object.keys(i))this.we(r,t),this.he(i[r],t)}Ie(e,t){const i=e.values||[];this.fe(t,50);for(const r of i)this.he(r,t)}ye(e,t){this.fe(t,37),et.fromName(e).path.forEach(i=>{this.fe(t,60),this.Te(i,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}function oj(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function GF(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=oj(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}jg.Ee=new jg;class aj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Re(i.value),i=t.next();this.Pe()}ve(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.be(i.value),i=t.next();this.Ve()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{const r=t.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.Pe()}De(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=t.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Ve()}Ce(e){const t=this.xe(e),i=GF(t);this.Ne(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}ke(e){const t=this.xe(e),i=GF(t);this.Ne(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}$e(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Re(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}be(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Pe(){this.Me(0),this.Me(1)}Ve(){this.Fe(0),this.Fe(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}Fe(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class lj{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.$e()}}class uj{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Oe()}}class Zw{constructor(){this.Le=new aj,this.qe=new lj(this.Le),this.Ue=new uj(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return 0===e?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class Gg{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ge(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Gg(this.indexId,this.documentKey,this.arrayValue,i)}}function Sf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=$F(n.arrayValue,e.arrayValue),0!==t?t:(t=$F(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function $F(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class cj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const t of e.filters){const i=t;i.isInequality()?this.ze=i:this.je.push(i)}}We(e){Dt(e.collectionGroup===this.collectionId);const t=vw(e);if(void 0!==t&&!this.He(t))return!1;const i=jl(e);let r=0,o=0;for(;r<i.length&&this.He(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.ze){const c=i[r];if(!this.Je(this.ze,c)||!this.Ye(this.Qe[o++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(o>=this.Qe.length||!this.Ye(this.Qe[o++],c))return!1}return!0}He(e){for(const t of this.je)if(this.Je(t,e))return!0;return!1}Je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ye(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function qF(n){var e,t;if(Dt(n instanceof sn||n instanceof Dn),n instanceof sn){if(n instanceof NM){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>sn.create(n.field,"==",o)))||[];return Dn.create(r,"or")}return n}const i=n.filters.map(r=>qF(r));return Dn.create(i,n.op)}function dj(n){if(0===n.getFilters().length)return[];const e=GM(qF(n));return Dt(WF(e)),HM(e)||jM(e)?[e]:e.getFilters()}function HM(n){return n instanceof sn}function jM(n){return n instanceof Dn&&fD(n)}function WF(n){return HM(n)||jM(n)||function(e){if(e instanceof Dn&&Aw(e)){for(const t of e.getFilters())if(!HM(t)&&!jM(t))return!1;return!0}return!1}(n)}function GM(n){if(Dt(n instanceof sn||n instanceof Dn),n instanceof sn)return n;if(1===n.filters.length)return GM(n.filters[0]);const e=n.filters.map(i=>GM(i));let t=Dn.create(e,n.op);return t=ED(t),WF(t)?t:(Dt(t instanceof Dn),Dt(Cf(t)),Dt(t.filters.length>1),t.filters.reduce((i,r)=>$M(i,r)))}function $M(n,e){let t;return Dt(n instanceof sn||n instanceof Dn),Dt(e instanceof sn||e instanceof Dn),t=n instanceof sn?e instanceof sn?Dn.create([n,e],"and"):zF(n,e):e instanceof sn?zF(e,n):function(i,r){if(Dt(i.filters.length>0&&r.filters.length>0),Cf(i)&&Cf(r))return gD(i,r.getFilters());const o=Aw(i)?i:r,c=Aw(i)?r:i,h=o.filters.map(p=>$M(p,c));return Dn.create(h,"or")}(n,e),ED(t)}function zF(n,e){if(Cf(e))return gD(e,n.getFilters());{const t=e.filters.map(i=>$M(n,i));return Dn.create(t,"or")}}function ED(n){if(Dt(n instanceof sn||n instanceof Dn),n instanceof sn)return n;const e=n.getFilters();if(1===e.length)return ED(e[0]);if(DM(n))return n;const t=e.map(r=>ED(r)),i=[];return t.forEach(r=>{r instanceof sn?i.push(r):r instanceof Dn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Dn.create(i,n.op)}class hj{constructor(){this.Ze=new qM}addToCollectionParentIndex(e,t){return this.Ze.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(qs.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class qM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new u(_n.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new u(_n.comparator)).toArray()}}const DD=new Uint8Array(0);class fj{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new qM,this.tn=new Ef(i=>L(i),(i,r)=>q(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const o={collectionId:i,parent:Ws(r)};return KF(e).put(o)}return se.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[YE(t),""],!1,!0);return KF(e).W(r).next(o=>{for(const c of o){if(c.collectionId!==t)break;i.push(vc(c.parent))}return i})}addFieldIndex(e,t){const i=ID(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete r.indexId;const o=i.add(r);if(t.indexState){const c=jw(e);return o.next(h=>{c.put(ZF(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=ID(e),r=jw(e),o=Hw(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Hw(e);let r=!0;const o=new Map;return se.forEach(this.en(t),c=>this.nn(e,c).next(h=>{r&&(r=!!h),o.set(c,h)})).next(()=>{if(r){let c=Xt();const h=[];return se.forEach(o,(p,y)=>{var C;Be("IndexedDbIndexManager",`Using index ${C=p,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(Le=>`${Le.fieldPath}:${Le.kind}`).join(",")}`} to execute ${L(t)}`);const I=function(Le,Ue){const We=vw(Ue);if(void 0===We)return null;for(const Xe of ye(Le,We.fieldPath))switch(Xe.op){case"array-contains-any":return Xe.value.arrayValue.values||[];case"array-contains":return[Xe.value]}return null}(y,p),M=function(Le,Ue){const We=new Map;for(const Xe of jl(Ue))for(const jt of ye(Le,Xe.fieldPath))switch(jt.op){case"==":case"in":We.set(Xe.fieldPath.canonicalString(),jt.value);break;case"not-in":case"!=":return We.set(Xe.fieldPath.canonicalString(),jt.value),Array.from(We.values())}return null}(y,p),O=function(Le,Ue){const We=[];let Xe=!0;for(const jt of jl(Ue)){const Yt=0===jt.kind?He(Le,jt.fieldPath,Le.startAt):Ye(Le,jt.fieldPath,Le.startAt);We.push(Yt.value),Xe&&(Xe=Yt.inclusive)}return new mc(We,Xe)}(y,p),B=function(Le,Ue){const We=[];let Xe=!0;for(const jt of jl(Ue)){const Yt=0===jt.kind?Ye(Le,jt.fieldPath,Le.endAt):He(Le,jt.fieldPath,Le.endAt);We.push(Yt.value),Xe&&(Xe=Yt.inclusive)}return new mc(We,Xe)}(y,p),W=this.sn(p,y,O),J=this.sn(p,y,B),Ie=this.rn(p,y,M),Fe=this.on(p.indexId,I,W,O.inclusive,J,B.inclusive,Ie);return se.forEach(Fe,Le=>i.J(Le,t.limit).next(Ue=>{Ue.forEach(We=>{const Xe=et.fromSegments(We.documentKey);c.has(Xe)||(c=c.add(Xe),h.push(Xe))})}))}).next(()=>h)}return se.resolve(null)})}en(e){let t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:dj(Dn.create(e.filters,"and")).map(i=>R(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,t),t)}on(e,t,i,r,o,c,h){const p=(null!=t?t.length:1)*Math.max(i.length,o.length),y=p/(null!=t?t.length:1),C=[];for(let I=0;I<p;++I){const M=t?this.un(t[I/y]):DD,O=this.cn(e,M,i[I%y],r),B=this.an(e,M,o[I%y],c),W=h.map(J=>this.cn(e,M,J,!0));C.push(...this.createRange(O,B,W))}return C}cn(e,t,i,r){const o=new Gg(e,et.empty(),t,i);return r?o:o.Ge()}an(e,t,i,r){const o=new Gg(e,et.empty(),t,i);return r?o.Ge():o}nn(e,t){const i=new cj(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let c=null;for(const h of o)i.We(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let i=2;const r=this.en(t);return se.forEach(r,o=>this.nn(e,o).next(c=>{c?0!==i&&c.fields.length<function(h){let p=new u(fi.comparator),y=!1;for(const C of h.filters)for(const I of C.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?y=!0:p=p.add(I.field));for(const C of h.orderBy)C.field.isKeyField()||(p=p.add(C.field));return p.size+(y?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}hn(e,t){const i=new Zw;for(const r of jl(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const c=i.Ke(r.kind);jg.Ee.ae(o,c)}return i.Be()}un(e){const t=new Zw;return jg.Ee.ae(e,t.Ke(0)),t.Be()}ln(e,t){const i=new Zw;return jg.Ee.ae(wf(this.databaseId,t),i.Ke(function(r){const o=jl(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Be()}rn(e,t,i){if(null===i)return[];let r=[];r.push(new Zw);let o=0;for(const c of jl(e)){const h=i[o++];for(const p of r)if(this.fn(t,c.fieldPath)&&By(h))r=this.dn(r,c,h);else{const y=p.Ke(c.kind);jg.Ee.ae(h,y)}}return this._n(r)}sn(e,t,i){return this.rn(e,t,i.position)}_n(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Be();return t}dn(e,t,i){const r=[...e],o=[];for(const c of i.arrayValue.values||[])for(const h of r){const p=new Zw;p.seed(h.Be()),jg.Ee.ae(c,p.Ke(t.kind)),o.push(p)}return o}fn(e,t){return!!e.filters.find(i=>i instanceof sn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=ID(e),r=jw(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const c=[];return se.forEach(o,h=>r.get([h.indexId,this.uid]).next(p=>{c.push(function(y,C){const I=C?new $s(C.sequenceNumber,new qs(Zg(C.readTime),new et(vc(C.documentKey)),C.largestBatchId)):$s.empty(),M=y.fields.map(([O,B])=>new Ng(fi.fromServerFormat(O),B));return new Ag(y.indexId,y.collectionGroup,M,I)}(h,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Ht(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=ID(e),o=jw(e);return this.wn(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>se.forEach(h,p=>o.put(ZF(p.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return se.forEach(t,(r,o)=>{const c=i.get(r.collectionGroup);return(c?se.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),se.forEach(h,p=>this.mn(e,r,p).next(y=>{const C=this.gn(o,p);return y.isEqual(C)?se.resolve():this.yn(e,o,p,y,C)}))))})}pn(e,t,i,r){return Hw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(i,t.key),documentKey:t.key.path.toArray()})}In(e,t,i,r){return Hw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(i,t.key),t.key.path.toArray()])}mn(e,t,i){const r=Hw(e);let o=new u(Sf);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.ln(i,t)])},(c,h)=>{o=o.add(new Gg(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}gn(e,t){let i=new u(Sf);const r=this.hn(t,e);if(null==r)return i;const o=vw(t);if(null!=o){const c=e.data.field(o.fieldPath);if(By(c))for(const h of c.arrayValue.values||[])i=i.add(new Gg(t.indexId,e.key,this.un(h),r))}else i=i.add(new Gg(t.indexId,e.key,DD,r));return i}yn(e,t,i,r,o){Be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,p,y,C,I){const M=h.getIterator(),O=p.getIterator();let B=f(M),W=f(O);for(;B||W;){let J=!1,Ie=!1;if(B&&W){const Fe=y(B,W);Fe<0?Ie=!0:Fe>0&&(J=!0)}else null!=B?Ie=!0:J=!0;J?(C(W),W=f(O)):Ie?(I(B),B=f(M)):(B=f(M),W=f(O))}}(r,o,Sf,h=>{c.push(this.pn(e,t,i,h))},h=>{c.push(this.In(e,t,i,h))}),se.waitFor(c)}wn(e){let t=1;return jw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,h)=>Sf(c,h)).filter((c,h,p)=>!h||0!==Sf(c,p[h-1]));const r=[];r.push(e);for(const c of i){const h=Sf(c,e),p=Sf(c,t);if(0===h)r[0]=e.Ge();else if(h>0&&p<0)r.push(c),r.push(c.Ge());else if(p>0)break}r.push(t);const o=[];for(let c=0;c<r.length;c+=2){if(this.Tn(r[c],r[c+1]))return[];o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,DD,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,DD,[]]))}return o}Tn(e,t){return Sf(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(YF)}getMinOffset(e,t){return se.mapArray(this.en(t),i=>this.nn(e,i).next(r=>r||ft())).next(YF)}}function KF(n){return Hr(n,"collectionParents")}function Hw(n){return Hr(n,"indexEntries")}function ID(n){return Hr(n,"indexConfiguration")}function jw(n){return Hr(n,"indexState")}function YF(n){Dt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;ww(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new qs(e.readTime,e.documentKey,t)}const QF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class So{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new So(e,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function JF(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(t.batchId);let h=0;const p=i.X({range:c},(C,I,M)=>(h++,M.delete()));o.push(p.next(()=>{Dt(1===h)}));const y=[];for(const C of t.mutations){const I=OF(e,C.key.path,t.batchId);o.push(r.delete(I)),y.push(C.key)}return se.waitFor(o).next(()=>y)}function SD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ft();e=n.noDocument}return JSON.stringify(e).length}So.DEFAULT_COLLECTION_PERCENTILE=10,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,So.DEFAULT=new So(41943040,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),So.DISABLED=new So(-1,0,0);class AD{constructor(e,t,i,r){this.userId=e,this.Tt=t,this.indexManager=i,this.referenceDelegate=r,this.En={}}static ue(e,t,i,r){Dt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new AD(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Af(e).X({index:"userMutationsIndex",range:i},(r,o,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=Yy(e),c=Af(e);return c.add({}).next(h=>{Dt("number"==typeof h);const p=new LM(h,t,i,r),y=function(M,O,B){const W=B.baseMutations.map(Ie=>Uw(M.oe,Ie)),J=B.mutations.map(Ie=>Uw(M.oe,Ie));return{userId:O,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:W,mutations:J}}(this.Tt,this.userId,p),C=[];let I=new u((M,O)=>Ht(M.canonicalString(),O.canonicalString()));for(const M of r){const O=OF(this.userId,M.key.path,h);I=I.add(M.key.path.popLast()),C.push(c.put(y)),C.push(o.put(O,ZH))}return I.forEach(M=>{C.push(this.indexManager.addToCollectionParentIndex(e,M))}),e.addOnCommittedListener(()=>{this.En[h]=p.keys()}),se.waitFor(C).next(()=>p)})}lookupMutationBatch(e,t){return Af(e).get(t).next(i=>i?(Dt(i.userId===this.userId),Hg(this.Tt,i)):null)}An(e,t){return this.En[t]?se.resolve(this.En[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.En[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Af(e).X({index:"userMutationsIndex",range:r},(c,h,p)=>{h.userId===this.userId&&(Dt(h.batchId>=i),o=Hg(this.Tt,h)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Af(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Af(e).W("userMutationsIndex",t).next(i=>i.map(r=>Hg(this.Tt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=wD(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return Yy(e).X({range:r},(c,h,p)=>{const[y,C,I]=c,M=vc(C);if(y===this.userId&&t.path.isEqual(M))return Af(e).get(I).next(O=>{if(!O)throw ft();Dt(O.userId===this.userId),o.push(Hg(this.Tt,O))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new u(Ht);const r=[];return t.forEach(o=>{const c=wD(this.userId,o.path),h=IDBKeyRange.lowerBound(c),p=Yy(e).X({range:h},(y,C,I)=>{const[M,O,B]=y,W=vc(O);M===this.userId&&o.path.isEqual(W)?i=i.add(B):I.done()});r.push(p)}),se.waitFor(r).next(()=>this.Rn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=wD(this.userId,i),c=IDBKeyRange.lowerBound(o);let h=new u(Ht);return Yy(e).X({range:c},(p,y,C)=>{const[I,M,O]=p,B=vc(M);I===this.userId&&i.isPrefixOf(B)?B.length===r&&(h=h.add(O)):C.done()}).next(()=>this.Rn(e,h))}Rn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Af(e).get(o).next(c=>{if(null===c)throw ft();Dt(c.userId===this.userId),i.push(Hg(this.Tt,c))}))}),se.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return JF(e.re,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Pn(t.batchId)}),se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Pn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Yy(e).X({range:i},(o,c,h)=>{if(o[0]===this.userId){const p=vc(o[1]);r.push(p)}else h.done()}).next(()=>{Dt(0===r.length)})})}containsKey(e,t){return XF(e,this.userId,t)}vn(e){return eL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function XF(n,e,t){const i=wD(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return Yy(n).X({range:o,Z:!0},(h,p,y)=>{const[C,I,M]=h;C===e&&I===r&&(c=!0),y.done()}).next(()=>c)}function Af(n){return Hr(n,"mutations")}function Yy(n){return Hr(n,"documentMutations")}function eL(n){return Hr(n,"mutationQueues")}class $g{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new $g(0)}static Sn(){return new $g(-1)}}class pj{constructor(e,t){this.referenceDelegate=e,this.Tt=t}allocateTargetId(e){return this.Dn(e).next(t=>{const i=new $g(t.highestTargetId);return t.highestTargetId=i.next(),this.Cn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(t=>St.fromTimestamp(new jn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Dn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Cn(e,r)))}addTargetData(e,t){return this.xn(e,t).next(()=>this.Dn(e).next(i=>(i.targetCount+=1,this.Nn(t,i),this.Cn(e,i))))}updateTargetData(e,t){return this.xn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Qy(e).delete(t.targetId)).next(()=>this.Dn(e)).next(i=>(Dt(i.targetCount>0),i.targetCount-=1,this.Cn(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Qy(e).X((c,h)=>{const p=Bw(h);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,o.push(this.removeTargetData(e,p)))}).next(()=>se.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Qy(e).X((i,r)=>{const o=Bw(r);t(o)})}Dn(e){return tL(e).get("targetGlobalKey").next(t=>(Dt(null!==t),t))}Cn(e,t){return tL(e).put("targetGlobalKey",t)}xn(e,t){return Qy(e).put(BF(this.Tt,t))}Nn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Dn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=L(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Qy(e).X({range:r,index:"queryTargetsIndex"},(c,h,p)=>{const y=Bw(h);q(t,y.target)&&(o=y,p.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Nf(e);return t.forEach(c=>{const h=Ws(c.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,c))}),se.waitFor(r)}removeMatchingKeys(e,t,i){const r=Nf(e);return se.forEach(t,o=>{const c=Ws(o.path);return se.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Nf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Nf(e);let o=Xt();return r.X({range:i,Z:!0},(c,h,p)=>{const y=vc(c[1]),C=new et(y);o=o.add(C)}).next(()=>o)}containsKey(e,t){const i=Ws(t.path),r=IDBKeyRange.bound([i],[YE(i)],!1,!0);let o=0;return Nf(e).X({index:"documentTargetsIndex",Z:!0,range:r},([c,h],p,y)=>{0!==c&&(o++,y.done())}).next(()=>o>0)}ie(e,t){return Qy(e).get(t).next(i=>i?Bw(i):null)}}function Qy(n){return Hr(n,"targets")}function tL(n){return Hr(n,"targetGlobal")}function Nf(n){return Hr(n,"targetDocuments")}function nL([n,e],[t,i]){const r=Ht(n,t);return 0===r?Ht(e,i):r}class gj{constructor(e){this.kn=e,this.buffer=new u(nL),this.$n=0}Mn(){return++this.$n}On(e){const t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();nL(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mj{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Fn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}get started(){return null!==this.Fn}Bn(e){var t=this;Be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.Fn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){$l(i)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Gl(i)}yield t.Bn(3e5)}))}}class _j{constructor(e,t){this.Ln=e,this.params=t}calculateTargetCount(e,t){return this.Ln.qn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return se.resolve(Is.at);const i=new gj(t);return this.Ln.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.Ln.Un(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Ln.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Ln.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(QF)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QF):this.Kn(e,t))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,t){let i,r,o,c,h,p,y;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,c=Date.now(),this.nthSequenceNumber(e,r))).next(I=>(i=I,h=Date.now(),this.removeTargets(e,i,t))).next(I=>(o=I,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(y=Date.now(),Ry()<=bo.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-C}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${o} targets in `+(p-h)+`ms\n\tRemoved ${I} documents in `+(y-p)+`ms\nTotal Duration: ${y-C}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:I})))}}class yj{constructor(e,t){this.db=e,this.garbageCollector=new _j(this,t)}qn(e){const t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Gn(e){let t=0;return this.Un(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Un(e,t){return this.Qn(e,(i,r)=>t(r))}addReference(e,t,i){return ND(e,i)}removeReference(e,t,i){return ND(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return ND(e,t)}jn(e,t){return function(i,r){let o=!1;return eL(i).tt(c=>XF(i,c,r).next(h=>(h&&(o=!0),se.resolve(!h)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Qn(e,(c,h)=>{if(h<=t){const p=this.jn(e,c).next(y=>{if(!y)return o++,i.getEntry(e,c).next(()=>(i.removeEntry(c,St.min()),Nf(e).delete([0,Ws(c.path)])))});r.push(p)}}).next(()=>se.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return ND(e,t)}Qn(e,t){const i=Nf(e);let r,o=Is.at;return i.X({index:"documentTargetsIndex"},([c,h],{path:p,sequenceNumber:y})=>{0===c?(o!==Is.at&&t(new et(vc(r)),o),o=y,r=p):o=Is.at}).next(()=>{o!==Is.at&&t(new et(vc(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ND(n,e){return Nf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ws(e.path),sequenceNumber:i}));var i}class iL{constructor(){this.changes=new Ef(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,E.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vj{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return qg(e).put(i)}removeEntry(e,t,i){return qg(e).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],CD(o),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.zn(e,i)))}getEntry(e,t){let i=E.newInvalidDocument(t);return qg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Gw(t))},(r,o)=>{i=this.Wn(t,o)}).next(()=>i)}Hn(e,t){let i={size:0,document:E.newInvalidDocument(t)};return qg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Gw(t))},(r,o)=>{i={document:this.Wn(t,o),size:SD(o)}}).next(()=>i)}getEntries(e,t){let i=Io();return this.Jn(e,t,(r,o)=>{const c=this.Wn(r,o);i=i.insert(r,c)}).next(()=>i)}Yn(e,t){let i=Io(),r=new Fi(et.comparator);return this.Jn(e,t,(o,c)=>{const h=this.Wn(o,c);i=i.insert(o,h),r=r.insert(o,SD(c))}).next(()=>({documents:i,Zn:r}))}Jn(e,t,i){if(t.isEmpty())return se.resolve();let r=new u(aL);t.forEach(p=>r=r.add(p));const o=IDBKeyRange.bound(Gw(r.first()),Gw(r.last())),c=r.getIterator();let h=c.getNext();return qg(e).X({index:"documentKeyIndex",range:o},(p,y,C)=>{const I=et.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&aL(h,I)<0;)i(h,null),h=c.getNext();h&&h.isEqual(I)&&(i(h,y),h=c.hasNext()?c.getNext():null),h?C.j(Gw(h)):C.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,c=[o.popLast().toArray(),o.lastSegment(),CD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qg(e).W(IDBKeyRange.bound(c,h,!0)).next(p=>{let y=Io();for(const C of p){const I=this.Wn(et.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);I.isFoundDocument()&&(Wd(t,I)||r.has(I.key))&&(y=y.insert(I.key,I))}return y})}getAllFromCollectionGroup(e,t,i,r){let o=Io();const c=oL(t,i),h=oL(t,qs.max());return qg(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(p,y,C)=>{const I=this.Wn(et.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(I.key,I),o.size===r&&C.done()}).next(()=>o)}newChangeBuffer(e){return new bj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return sL(e).get("remoteDocumentGlobalKey").next(t=>(Dt(!!t),t))}zn(e,t){return sL(e).put("remoteDocumentGlobalKey",t)}Wn(e,t){if(t){const i=function rj(n,e){let t;if(e.document)t=DF(n.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=et.fromSegments(e.noDocument.path),r=Zg(e.noDocument.readTime);t=E.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ft();{const i=et.fromSegments(e.unknownDocument.path),r=Zg(e.unknownDocument.version);t=E.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new jn(i[0],i[1]);return St.fromTimestamp(r)}(e.readTime)),t}(this.Tt,t);if(!i.isNoDocument()||!i.version.isEqual(St.min()))return i}return E.newInvalidDocument(e)}}function rL(n){return new vj(n)}class bj extends iL{constructor(e,t){super(),this.Xn=e,this.trackRemovals=t,this.ts=new Ef(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new u((o,c)=>Ht(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const h=this.ts.get(o);if(t.push(this.Xn.removeEntry(e,o,h.readTime)),c.isValidDocument()){const p=UF(this.Xn.Tt,c);r=r.add(o.path.popLast()),i+=SD(p)-h.size,t.push(this.Xn.addEntry(e,o,p))}else if(i-=h.size,this.trackRemovals){const p=UF(this.Xn.Tt,c.convertToNoDocument(St.min()));t.push(this.Xn.addEntry(e,o,p))}}),r.forEach(o=>{t.push(this.Xn.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Xn.updateMetadata(e,i)),se.waitFor(t)}getFromCache(e,t){return this.Xn.Hn(e,t).next(i=>(this.ts.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Xn.Yn(e,t).next(({documents:i,Zn:r})=>(r.forEach((o,c)=>{this.ts.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function sL(n){return Hr(n,"remoteDocumentGlobal")}function qg(n){return Hr(n,"remoteDocumentsV14")}function Gw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oL(n,e){const t=e.documentKey.path.toArray();return[n,CD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function aL(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Ht(t[o],i[o]),r)return r;return r=Ht(t.length,i.length),r||(r=Ht(t[t.length-2],i[i.length-2]),r||Ht(t[t.length-1],i[i.length-1]))}class wj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lL{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&xw(i.mutation,r,m.empty(),jn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Xt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Xt()){const r=_c();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let c=Rw();return o.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=_c();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Xt()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,r){let o=Io();const c=Ow(),h=Ow();return t.forEach((p,y)=>{const C=i.get(y.key);r.has(y.key)&&(void 0===C||C.mutation instanceof zd)?o=o.insert(y.key,y):void 0!==C?(c.set(y.key,C.mutation.getFieldMask()),xw(C.mutation,y,C.mutation.getFieldMask(),jn.now())):c.set(y.key,m.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((y,C)=>c.set(y,C)),t.forEach((y,C)=>{var I;return h.set(y,new wj(C,null!==(I=c.get(y))&&void 0!==I?I:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Ow();let r=new Fi((c,h)=>c-h),o=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const y=t.get(p);if(null===y)return;let C=i.get(p)||m.empty();C=h.applyToLocalView(y,C),i.set(p,C);const I=(r.get(h.batchId)||Xt()).add(p);r=r.insert(h.batchId,I)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,C=p.value,I=pF();C.forEach(M=>{if(!o.has(M)){const O=sF(t.get(M),i.get(M));null!==O&&I.set(M,O),o=o.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,I))}return se.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return et.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):zl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):se.resolve(_c());let h=-1,p=o;return c.next(y=>se.forEach(y,(C,I)=>(h<I.largestBatchId&&(h=I.largestBatchId),o.get(C)?se.resolve():this.remoteDocumentCache.getEntry(e,C).next(M=>{p=p.insert(C,M)}))).next(()=>this.populateOverlays(e,y,o)).next(()=>this.computeViews(e,p,y,Xt())).next(C=>({batchId:h,changes:fF(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(i=>{let r=Rw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=Rw();return this.indexManager.getCollectionParents(e,r).next(c=>se.forEach(c,h=>{const p=(y=t,C=h.child(r),new ot(C,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,C;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(y=>{y.forEach((C,I)=>{o=o.insert(C,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((h,p)=>{const y=p.getKey();null===o.get(y)&&(o=o.insert(y,E.newInvalidDocument(y)))});let c=Rw();return o.forEach((h,p)=>{const y=r.get(h);void 0!==y&&xw(y.mutation,p,m.empty(),jn.now()),Wd(t,p)&&(c=c.insert(h,p))}),c})}}class Cj{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return se.resolve(this.es.get(t))}saveBundleMetadata(e,t){var i;return this.es.set(t.id,{id:(i=t).id,version:i.version,createTime:nr(i.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(i=t).name,query:VM(i.bundledQuery),readTime:nr(i.readTime)}),se.resolve();var i}}class Tj{constructor(){this.overlays=new Fi(et.comparator),this.ss=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=_c();return se.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.ce(e,t,o)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ss.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ss.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=_c(),o=t.length+1,c=new et(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===o&&p.largestBatchId>i&&r.set(p.getKey(),p)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new Fi((y,C)=>y-C);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let C=o.get(y.largestBatchId);null===C&&(C=_c(),o=o.insert(y.largestBatchId,C)),C.set(y.getKey(),y)}}const h=_c(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,C)=>h.set(y,C)),!(h.size()>=r)););return se.resolve(h)}ce(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.ss.get(r.largestBatchId).delete(i.key);this.ss.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new BM(t,i));let o=this.ss.get(t);void 0===o&&(o=Xt(),this.ss.set(t,o)),this.ss.set(t,o.add(i.key))}}class WM{constructor(){this.rs=new u(jr.os),this.us=new u(jr.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const i=new jr(e,t);this.rs=this.rs.add(i),this.us=this.us.add(i)}hs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ls(new jr(e,t))}fs(e,t){e.forEach(i=>this.removeReference(i,t))}ds(e){const t=new et(new _n([])),i=new jr(t,e),r=new jr(t,e+1),o=[];return this.us.forEachInRange([i,r],c=>{this.ls(c),o.push(c.key)}),o}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new et(new _n([])),i=new jr(t,e),r=new jr(t,e+1);let o=Xt();return this.us.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new jr(e,0),i=this.rs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class jr{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return et.comparator(e.key,t.key)||Ht(e.gs,t.gs)}static cs(e,t){return Ht(e.gs,t.gs)||et.comparator(e.key,t.key)}}class Ej{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new u(jr.os)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.ys;this.ys++;const c=new LM(o,t,i,r);this.mutationQueue.push(c);for(const h of r)this.ps=this.ps.add(new jr(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ts(t+1),o=r<0?0:r;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new jr(t,0),r=new jr(t,Number.POSITIVE_INFINITY),o=[];return this.ps.forEachInRange([i,r],c=>{const h=this.Is(c.gs);o.push(h)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new u(Ht);return t.forEach(r=>{const o=new jr(r,0),c=new jr(r,Number.POSITIVE_INFINITY);this.ps.forEachInRange([o,c],h=>{i=i.add(h.gs)})}),se.resolve(this.Es(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;et.isDocumentKey(o)||(o=o.child(""));const c=new jr(new et(o),0);let h=new u(Ht);return this.ps.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(p.gs)),!0)},c),se.resolve(this.Es(h))}Es(e){const t=[];return e.forEach(i=>{const r=this.Is(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Dt(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ps;return se.forEach(t.mutations,r=>{const o=new jr(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ps=i})}Pn(e){}containsKey(e,t){const i=new jr(t,0),r=this.ps.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return se.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Dj{constructor(e){this.Rs=e,this.docs=new Fi(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,c=this.Rs(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():E.newInvalidDocument(t))}getEntries(e,t){let i=Io();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():E.newInvalidDocument(r))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Io();const c=t.path,h=new et(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:y,value:{document:C}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||ww(bM(C),i)<=0||(r.has(C.key)||Wd(t,C))&&(o=o.insert(C.key,C.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,t,i,r){ft()}Ps(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Ij(this)}getSize(e){return se.resolve(this.size)}}class Ij extends iL{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Xn.addEntry(e,r)):this.Xn.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class Sj{constructor(e){this.persistence=e,this.vs=new Ef(t=>L(t),q),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.bs=0,this.Vs=new WM,this.targetCount=0,this.Ss=$g.Vn()}forEachTarget(e,t){return this.vs.forEach((i,r)=>t(r)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),se.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new $g(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.xn(t),se.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.vs.forEach((c,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.vs.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),se.waitFor(o).next(()=>r)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.vs.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.Vs.hs(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.Vs.fs(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(c=>{o.push(r.markPotentiallyOrphaned(e,c))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Vs.ws(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.Vs.containsKey(t))}}class uL{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new Is(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new Sj(this),this.indexManager=new hj,this.remoteDocumentCache=new Dj(i=>this.referenceDelegate.ks(i)),this.Tt=new LF(t),this.$s=new Cj(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Tj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ds[e.toKey()];return i||(i=new Ej(t,this.referenceDelegate),this.Ds[e.toKey()]=i),i}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,t,i){Be("MemoryPersistence","Starting transaction:",e);const r=new Aj(this.Cs.next());return this.referenceDelegate.Ms(),i(r).next(o=>this.referenceDelegate.Os(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Fs(e,t){return se.or(Object.values(this.Ds).map(i=>()=>i.containsKey(e,t)))}}class Aj extends eD{constructor(e){super(),this.currentSequenceNumber=e}}class MD{constructor(e){this.persistence=e,this.Bs=new WM,this.Ls=null}static qs(e){return new MD(e)}get Us(){if(this.Ls)return this.Ls;throw ft()}addReference(e,t,i){return this.Bs.addReference(i,t),this.Us.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Bs.removeReference(i,t),this.Us.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),se.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(r=>this.Us.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Us.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Ms(){this.Ls=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Us,i=>{const r=et.fromPath(i);return this.Ks(e,r).next(o=>{o||t.removeEntry(r,St.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(i=>{i?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return se.or([()=>se.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Fs(e,t)])}}class Nj{constructor(e){this.Tt=e}F(e,t,i,r){const o=new Oy("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RF,{unique:!0}),h.createObjectStore("documentMutations"),cL(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=se.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),cL(e)),c=c.next(()=>function(h){const p=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,p){return p.store("mutations").W().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RF,{unique:!0});const C=p.store("mutations"),I=y.map(M=>C.put(M));return se.waitFor(I)})}(e,o))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Gs(o))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(o)))),i<7&&r>=7&&(c=c.next(()=>this.js(o))),i<8&&r>=8&&(c=c.next(()=>this.zs(e,o))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.Ws(o))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:XH});p.createIndex("collectionPathOverlayIndex",ej,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",tj,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:HH});p.createIndex("documentKeyIndex",jH),p.createIndex("collectionGroupIndex",GH)}(e)).next(()=>this.Hs(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.Js(e,o))),i<15&&r>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:KH}).createIndex("sequenceNumberIndex",YH,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:QH}).createIndex("documentKeyIndex",JH,{unique:!1})}(e))),c}Qs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=SD(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Gs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>se.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(h=>se.forEach(h,p=>{Dt(p.userId===o.userId);const y=Hg(this.Tt,p);return JF(e,o.userId,y).next(()=>{})}))}))}js(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((c,h)=>{const p=new _n(c),y=[0,Ws(p)];o.push(t.get(y).next(C=>C?se.resolve():t.put({targetId:0,path:Ws(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>se.waitFor(o))})}zs(e,t){e.createObjectStore("collectionParents",{keyPath:zH});const i=t.store("collectionParents"),r=new qM,o=c=>{if(r.add(c)){const h=c.lastSegment(),p=c.popLast();return i.put({collectionId:h,parent:Ws(p)})}};return t.store("remoteDocuments").X({Z:!0},(c,h)=>{const p=new _n(c);return o(p.popLast())}).next(()=>t.store("documentMutations").X({Z:!0},([c,h,p],y)=>{const C=vc(h);return o(C.popLast())}))}Ws(e){const t=e.store("targets");return t.X((i,r)=>{const o=Bw(r),c=BF(this.Tt,o);return t.put(c)})}Hs(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,c)=>{const h=t.store("remoteDocumentsV14"),p=(y=c,y.document?new et(_n.fromString(y.document.name).popFirst(5)):y.noDocument?et.fromSegments(y.noDocument.path):y.unknownDocument?et.fromSegments(y.unknownDocument.path):ft()).path.toArray();var y;const C={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(C))}).next(()=>se.waitFor(r))}Js(e,t){const i=t.store("mutations"),r=rL(this.Tt),o=new uL(MD.qs,this.Tt.oe);return i.W().next(c=>{const h=new Map;return c.forEach(p=>{var y;let C=null!==(y=h.get(p.userId))&&void 0!==y?y:Xt();Hg(this.Tt,p).keys().forEach(I=>C=C.add(I)),h.set(p.userId,C)}),se.forEach(h,(p,y)=>{const C=new $i(y),I=TD.ue(this.Tt,C),M=o.getIndexManager(C),O=AD.ue(C,this.Tt,M,o.referenceDelegate);return new lL(r,O,I,M).recalculateAndSaveOverlaysForDocumentKeys(new FM(t,Is.at),p).next()})})}}function cL(n){n.createObjectStore("targetDocuments",{keyPath:qH}).createIndex("documentTargetsIndex",WH,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$H,{unique:!0}),n.createObjectStore("targetGlobal")}const zM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class KM{constructor(e,t,i,r,o,c,h,p,y,C,I=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ys=o,this.window=c,this.document=h,this.Zs=y,this.Xs=C,this.ti=I,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=M=>Promise.resolve(),!KM.C())throw new ke(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yj(this,r),this.oi=t+"main",this.Tt=new LF(p),this.ui=new Eo(this.oi,this.ti,new Nj(this.Tt)),this.Ns=new pj(this.referenceDelegate,this.Tt),this.remoteDocumentCache=rL(this.Tt),this.$s=new sj,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===C&&ki("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(ue.FAILED_PRECONDITION,zM);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new Is(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){var t=this;return this.ri=function(){var i=(0,_e.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(function(){var t=(0,_e.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>xD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(t=>{t||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(t=>this.isPrimary&&!t?this.mi(e).next(()=>!1):!!t&&this.gi(e).next(()=>!0))).catch(e=>{if($l(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return $w(e).get("owner").next(t=>se.resolve(this.yi(t)))}pi(e){return xD(e).delete(this.clientId)}Ii(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.Ti(e.ii,18e5)){e.ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Hr(i,"clientMetadata");return r.W().next(o=>{const c=e.Ei(o,18e5),h=o.filter(p=>-1===c.indexOf(p));return se.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e.ci)for(const i of t)e.ci.removeItem(e.Ai(i.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?se.resolve(!0):$w(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new ke(ue.FAILED_PRECONDITION,zM);return!1}}return!(!this.networkEnabled||!this.inForeground)||xD(e).W().next(i=>void 0===this.Ei(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.xs=!1,e.Pi(),e.si&&(e.si.cancel(),e.si=null),e.vi(),e.bi(),yield e.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new FM(t,Is.at);return e.mi(i).next(()=>e.pi(i))}),e.ui.close(),e.Vi()})()}Ei(e,t){return e.filter(i=>this.Ti(i.updateTimeMs,t)&&!this.Ri(i.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>xD(e).W().next(t=>this.Ei(t,18e5).map(i=>i.clientId)))}get started(){return this.xs}getMutationQueue(e,t){return AD.ue(e,this.Tt,t,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fj(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return TD.ue(this.Tt,e)}getBundleCache(){return this.$s}runTransaction(e,t,i){Be("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(c=this.ti)?ij:14===c?FF:13===c?kF:12===c?nj:11===c?PF:void ft();var c;let h;return this.ui.runTransaction(e,r,o,p=>(h=new FM(p,this.Cs?this.Cs.next():Is.at),"readwrite-primary"===t?this._i(h).next(y=>!!y||this.wi(h)).next(y=>{if(!y)throw ki(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new ke(ue.FAILED_PRECONDITION,XE);return i(h)}).next(y=>this.gi(h).next(()=>y)):this.Di(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Di(e){return $w(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)&&!this.yi(t)&&!(this.Xs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ke(ue.FAILED_PRECONDITION,zM)})}gi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $w(e).put("owner",t)}static C(){return Eo.C()}mi(e){const t=$w(e);return t.get("owner").next(i=>this.yi(i)?(Be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}Ti(e,t){const i=Date.now();return!(e<i-t||e>i&&(ki(`Detected an update time that is in the future: ${e} > ${i}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=()=>{this.Pi();const t=/(?:Version|Mobile)\/1[456]/;(0,k.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}bi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var t;try{const i=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Be("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ki("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Pi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){ki("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $w(n){return Hr(n,"owner")}function xD(n){return Hr(n,"clientMetadata")}function YM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class QM{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Ci=i,this.xi=r}static Ni(e,t){let i=Xt(),r=Xt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new QM(e,t.fromCache,i,r)}}class dL{constructor(){this.ki=!1}initialize(e,t){this.$i=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Mi(e,t).next(o=>o||this.Oi(e,t,r,i)).next(o=>o||this.Fi(e,t))}Mi(e,t){if(kt(t))return se.resolve(null);let i=Dr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Tf(t,null,"F"),i=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const c=Xt(...o);return this.$i.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.Bi(t,h);return this.Li(t,y,c,p.readTime)?this.Mi(e,Tf(t,null,"F")):this.qi(e,y,t,p)}))})))}Oi(e,t,i,r){return kt(t)||r.isEqual(St.min())?this.Fi(e,t):this.$i.getDocuments(e,i).next(o=>{const c=this.Bi(t,o);return this.Li(t,c,i,r)?this.Fi(e,t):(Ry()<=bo.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lg(t)),this.qi(e,c,t,JE(r,-1)))})}Bi(e,t){let i=new u(Yk(e));return t.forEach((r,o)=>{Wd(e,o)&&(i=i.add(o))}),i}Li(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Fi(e,t){return Ry()<=bo.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Lg(t)),this.$i.getDocumentsMatchingQuery(e,t,qs.min())}qi(e,t,i,r){return this.$i.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}class Mj{constructor(e,t,i,r){this.persistence=e,this.Ui=t,this.Tt=r,this.Ki=new Fi(Ht),this.Gi=new Ef(o=>L(o),q),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(i)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lL(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function hL(n,e,t,i){return new Mj(n,e,t,i)}function fL(n,e){return JM.apply(this,arguments)}function JM(){return JM=(0,_e.Z)(function*(n,e){const t=nt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.zi(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let p=Xt();for(const y of r){c.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}for(const y of o){h.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Wi:y,removedBatchIds:c,addedBatchIds:h}))})})}),JM.apply(this,arguments)}function xj(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ji.newChangeBuffer({trackRemovals:!0});return function(c,h,p,y){const C=p.batch,I=C.keys();let M=se.resolve();return I.forEach(O=>{M=M.next(()=>y.getEntry(h,O)).next(B=>{const W=p.docVersions.get(O);Dt(null!==W),B.version.compareTo(W)<0&&(C.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),y.addEntry(B)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(h,C))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Xt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function pL(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function Rj(n,e){const t=nt(n),i=e.snapshotVersion;let r=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.ji.newChangeBuffer({trackRemovals:!0});r=t.Ki;const h=[];e.targetChanges.forEach((C,I)=>{const M=r.get(I);if(!M)return;h.push(t.Ns.removeMatchingKeys(o,C.removedDocuments,I).next(()=>t.Ns.addMatchingKeys(o,C.addedDocuments,I)));let O=M.withSequenceNumber(o.currentSequenceNumber);var B,W,J;e.targetMismatches.has(I)?O=O.withResumeToken(fr.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):C.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(C.resumeToken,i)),r=r.insert(I,O),W=O,J=C,(0===(B=M).resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0)&&h.push(t.Ns.updateTargetData(o,O))});let p=Io(),y=Xt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,C))}),h.push(gL(o,c,e.documentUpdates).next(C=>{p=C.Hi,y=C.Ji})),!i.isEqual(St.min())){const C=t.Ns.getLastRemoteSnapshotVersion(o).next(I=>t.Ns.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(C)}return se.waitFor(h).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,y)).next(()=>p)}).then(o=>(t.Ki=r,o))}function gL(n,e,t){let i=Xt(),r=Xt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let c=Io();return t.forEach((h,p)=>{const y=o.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),p.isNoDocument()&&p.version.isEqual(St.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):Be("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{Hi:c,Ji:r}})}function Oj(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Jy(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ns.getTargetData(i,e).next(o=>o?(r=o,se.resolve(r)):t.Ns.allocateTargetId(i).next(c=>(r=new If(e,c,0,i.currentSequenceNumber),t.Ns.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ki.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(i.targetId,i),t.Gi.set(e,i.targetId)),i})}function Xy(n,e,t){return XM.apply(this,arguments)}function XM(){return XM=(0,_e.Z)(function*(n,e,t){const i=nt(n),r=i.Ki.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!$l(c))throw c;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ki=i.Ki.remove(e),i.Gi.delete(r.target)}),XM.apply(this,arguments)}function RD(n,e,t){const i=nt(n);let r=St.min(),o=Xt();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,p,y){const C=nt(h),I=C.Gi.get(y);return void 0!==I?se.resolve(C.Ki.get(I)):C.Ns.getTargetData(p,y)}(i,c,Dr(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Ns.getMatchingKeysForTargetId(c,h.targetId).next(p=>{o=p})}).next(()=>i.Ui.getDocumentsMatchingQuery(c,e,t?r:St.min(),t?o:Xt())).next(h=>(yL(i,jy(e),h),{documents:h,Yi:o})))}function mL(n,e){const t=nt(n),i=nt(t.Ns),r=t.Ki.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.ie(o,e).next(c=>c?c.target:null))}function _L(n,e){const t=nt(n),i=t.Qi.get(e)||St.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ji.getAllFromCollectionGroup(r,e,JE(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(yL(t,e,r),r))}function yL(n,e,t){let i=n.Qi.get(e)||St.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Qi.set(e,i)}function ex(){return ex=(0,_e.Z)(function*(n,e,t,i){const r=nt(n);let o=Xt(),c=Io();for(const y of t){const C=e.Zi(y.metadata.name);y.document&&(o=o.add(C));const I=e.Xi(y);I.setReadTime(e.tr(y.metadata.readTime)),c=c.insert(C,I)}const h=r.ji.newChangeBuffer({trackRemovals:!0}),p=yield Jy(r,(y=i,Dr(xe(_n.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>gL(y,h,c).next(C=>(h.apply(y),C)).next(C=>r.Ns.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.Ns.addMatchingKeys(y,o,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,C.Hi,C.Ji)).next(()=>C.Hi)))}),ex.apply(this,arguments)}function kj(n,e){return tx.apply(this,arguments)}function tx(){return tx=(0,_e.Z)(function*(n,e,t=Xt()){const i=yield Jy(n,Dr(VM(e.bundledQuery))),r=nt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=nr(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.$s.saveNamedQuery(o,e);const h=i.withResumeToken(fr.EMPTY_BYTE_STRING,c);return r.Ki=r.Ki.insert(h.targetId,h),r.Ns.updateTargetData(o,h).next(()=>r.Ns.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Ns.addMatchingKeys(o,t,i.targetId)).next(()=>r.$s.saveNamedQuery(o,e))})}),tx.apply(this,arguments)}function vL(n,e){return`firestore_clients_${n}_${e}`}function bL(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function nx(n,e){return`firestore_targets_${n}_${e}`}class OD{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static er(e,t,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new ke(r.error.code,r.error.message))),c?new OD(e,t,r.state,o):(ki("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static er(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ke(i.error.code,i.error.message))),o?new qw(e,i.state,r):(ki("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class PD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static er(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=vD();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=rD(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new PD(e,o):(ki("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ix{constructor(e,t){this.clientId=e,this.onlineState=t}static er(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ix(t.clientId,t.onlineState):(ki("SharedClientState",`Failed to parse online state: ${e}`),null)}}class rx{constructor(){this.activeTargetIds=vD()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sx{constructor(e,t,i,r,o){this.window=e,this.Ys=t,this.persistenceKey=i,this.rr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new Fi(Ht),this.started=!1,this.hr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.lr=vL(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new rx),this._r=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Si();for(const r of t){if(r===e.rr)continue;const o=e.getItem(vL(e.persistenceKey,r));if(o){const c=PD.er(r,o);c&&(e.ar=e.ar.insert(c.clientId,c))}}e.pr();const i=e.storage.getItem(e.gr);if(i){const r=e.Ir(i);r&&e.Tr(r)}for(const r of e.hr)e.cr(r);e.hr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,t,i){this.Ar(e,t,i),this.Rr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(nx(this.persistenceKey,e));if(i){const r=qw.er(e,i);r&&(t=r.state)}}return this.Pr.sr(e),this.pr(),t}removeLocalQueryTarget(e){this.Pr.ir(e),this.pr()}isLocalQueryTarget(e){return this.Pr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nx(this.persistenceKey,e))}updateQueryState(e,t,i){this.vr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Rr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Be("SharedClientState","READ",e,t),t}setItem(e,t){Be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Be("SharedClientState","EVENT",i.key,i.newValue),i.key===this.lr)return void ki("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==i.key)if(t._r.test(i.key)){if(null==i.newValue){const r=t.Sr(i.key);return t.Dr(r,null)}{const r=t.Cr(i.key,i.newValue);if(r)return t.Dr(r.clientId,r)}}else if(t.wr.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(t.mr.test(i.key)){if(null!==i.newValue){const r=t.$r(i.key,i.newValue);if(r)return t.Mr(r)}}else if(i.key===t.gr){if(null!==i.newValue){const r=t.Ir(i.newValue);if(r)return t.Tr(r)}}else if(i.key===t.dr){const r=function(o){let c=Is.at;if(null!=o)try{const h=JSON.parse(o);Dt("number"==typeof h),c=h}catch(h){ki("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==Is.at&&t.sequenceNumberHandler(r)}else if(i.key===t.yr){const r=t.Or(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Fr(o)))}}else t.hr.push(i)}))}}get Pr(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.Pr.nr())}Ar(e,t,i){const r=new OD(this.currentUser,e,t,i),o=bL(this.persistenceKey,this.currentUser,e);this.setItem(o,r.nr())}Rr(e){const t=bL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:e}))}vr(e,t,i){const r=nx(this.persistenceKey,e),o=new qw(e,t,i);this.setItem(r,o.nr())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}Sr(e){const t=this._r.exec(e);return t?t[1]:null}Cr(e,t){const i=this.Sr(e);return PD.er(i,t)}Nr(e,t){const i=this.wr.exec(e),r=Number(i[1]);return OD.er(new $i(void 0!==i[2]?i[2]:null),r,t)}$r(e,t){const i=this.mr.exec(e),r=Number(i[1]);return qw.er(r,t)}Ir(e){return ix.er(e)}Or(e){return JSON.parse(e)}kr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Br(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,t){const i=t?this.ar.insert(e,t):this.ar.remove(e),r=this.Er(this.ar),o=this.Er(i),c=[],h=[];return o.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{o.has(p)||h.push(p)}),this.syncEngine.qr(c,h).then(()=>{this.ar=i})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let t=vD();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class wL{constructor(){this.Ur=new rx,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,i){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new rx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fj{Gr(e){}shutdown(){}}class CL{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kD=null;function ox(){return null===kD?kD=268435456+Math.round(2147483648*Math.random()):kD++,"0x"+kD.toString(16)}const Lj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Uj{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}const As="WebChannelConnection";class Bj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,i,r,o){const c=ox(),h=this.fo(e,t);Be("RestConnection",`Sending RPC '${e}' ${c}:`,h,i);const p={};return this._o(p,r,o),this.wo(e,h,p,i).then(y=>(Be("RestConnection",`Received RPC '${e}' ${c}: `,y),y),y=>{throw jd("RestConnection",`RPC '${e}' ${c} failed with error: `,y,"url: ",h,"request:",i),y})}mo(e,t,i,r,o,c){return this.lo(e,t,i,r,o)}_o(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}fo(e,t){return`${this.co}/v1/${t}:${Lj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,i,r){const o=ox();return new Promise((c,h)=>{const p=new $E;p.setWithCredentials(!0),p.listenOnce(My.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case GE.NO_ERROR:const C=p.getResponseJson();Be(As,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(C)),c(C);break;case GE.TIMEOUT:Be(As,`RPC '${e}' ${o} timed out`),h(new ke(ue.DEADLINE_EXCEEDED,"Request time out"));break;case GE.HTTP_ERROR:const I=p.getStatus();if(Be(As,`RPC '${e}' ${o} failed with status:`,I,"response text:",p.getResponseText()),I>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const O=M?.error;if(O&&O.status&&O.message){const B=function(W){const J=W.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(J)>=0?J:ue.UNKNOWN}(O.status);h(new ke(B,O.message))}else h(new ke(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ke(ue.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Be(As,`RPC '${e}' ${o} completed.`)}});const y=JSON.stringify(r);Be(As,`RPC '${e}' ${o} sending request:`,r),p.send(t,"POST",y,i,15)})}yo(e,t,i){const r=ox(),o=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Pk(),h=kk(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new xy({})),this._o(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const y=o.join("");Be(As,`Creating RPC '${e}' stream ${r}: ${y}`,p);const C=c.createWebChannel(y,p);let I=!1,M=!1;const O=new Uj({Yr:W=>{M?Be(As,`Not sending because RPC '${e}' stream ${r} is closed:`,W):(I||(Be(As,`Opening RPC '${e}' stream ${r} transport.`),C.open(),I=!0),Be(As,`RPC '${e}' stream ${r} sending:`,W),C.send(W))},Zr:()=>C.close()}),B=(W,J,Ie)=>{W.listen(J,Fe=>{try{Ie(Fe)}catch(Le){setTimeout(()=>{throw Le},0)}})};return B(C,Sg.EventType.OPEN,()=>{M||Be(As,`RPC '${e}' stream ${r} transport opened.`)}),B(C,Sg.EventType.CLOSE,()=>{M||(M=!0,Be(As,`RPC '${e}' stream ${r} transport closed`),O.oo())}),B(C,Sg.EventType.ERROR,W=>{M||(M=!0,jd(As,`RPC '${e}' stream ${r} transport errored:`,W),O.oo(new ke(ue.UNAVAILABLE,"The operation could not be completed")))}),B(C,Sg.EventType.MESSAGE,W=>{var J;if(!M){const Ie=W.data[0];Dt(!!Ie);const Fe=Ie,Le=Fe.error||(null===(J=Fe[0])||void 0===J?void 0:J.error);if(Le){Be(As,`RPC '${e}' stream ${r} received error:`,Le);const Ue=Le.status;let We=function(jt){const Yt=pr[jt];if(void 0!==Yt)return dF(Yt)}(Ue),Xe=Le.message;void 0===We&&(We=ue.INTERNAL,Xe="Unknown error status: "+Ue+" with message "+Le.message),M=!0,O.oo(new ke(We,Xe)),C.close()}else Be(As,`RPC '${e}' stream ${r} received:`,Ie),O.uo(Ie)}}),B(h,Fk.STAT_EVENT,W=>{W.stat===_w.PROXY?Be(As,`RPC '${e}' stream ${r} detected buffering proxy`):W.stat===_w.NOPROXY&&Be(As,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{O.ro()},0),O}}function TL(){return typeof window<"u"?window:null}function FD(){return typeof document<"u"?document:null}function Ww(n){return new MH(n,!0)}class ax{constructor(e,t,i=1e3,r=1.5,o=6e4){this.Ys=e,this.timerId=t,this.po=i,this.Io=r,this.To=o,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.bo()),i=Math.max(0,Date.now()-this.Ro),r=Math.max(0,t-i);r>0&&Be("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,r,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class EL{constructor(e,t,i,r,o,c,h,p){this.Ys=e,this.So=i,this.Do=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new ax(e,t)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,_e.Z)(function*(){e.$o()&&(yield e.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,_e.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var i=this;return(0,_e.Z)(function*(){i.Uo(),i.Ko(),i.ko.cancel(),i.Co++,4!==e?i.ko.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(ki(t.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),i.ko.Po()):t&&t.code===ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Go(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Co===t&&this.jo(i,r)},i=>{e(()=>{const r=new ke(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.zo(r)})})}jo(e,t){const i=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{i(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(r=>{i(()=>this.zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.ko.vo((0,_e.Z)(function*(){e.state=0,e.start()}))}zo(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vj extends EL{constructor(e,t,i,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.Tt=o}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function OH(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:ft(),r=e.targetChange.targetIds||[],o=function(p,y){return p.yt?(Dt(void 0===y||"string"==typeof y),fr.fromBase64String(y||"")):(Dt(void 0===y||y instanceof Uint8Array),fr.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const y=void 0===p.code?ue.UNKNOWN:dF(p.code);return new ke(y,p.message||"")}(c);t=new mF(i,r,o,h||null)}else if("documentChange"in e){const i=e.documentChange,r=yc(n,i.document.name),o=nr(i.document.updateTime),c=i.document.createTime?nr(i.document.createTime):St.min(),h=new v({mapValue:{fields:i.document.fields}}),p=E.newFoundDocument(r,o,c,h);t=new bD(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=yc(n,i.document),o=i.readTime?nr(i.readTime):St.min(),c=E.newNoDocument(r,o);t=new bD([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=yc(n,i.document);t=new bD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ft();{const i=e.filter,o=new wH(i.count||0);t=new gF(i.targetId,o)}}var p;return t}(this.Tt,e),i=function(r){if(!("targetChange"in r))return St.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?St.min():o.readTime?nr(o.readTime):St.min()}(e);return this.listener.Ho(t,i)}Jo(e){const t={};t.database=Lw(this.Tt),t.addTarget=function(r,o){let c;const h=o.target;return c=ee(h)?{documents:IF(r,h)}:{query:kM(r,h)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=bF(r,o.resumeToken):o.snapshotVersion.compareTo(St.min())>0&&(c.readTime=zy(r,o.snapshotVersion.toTimestamp())),c}(this.Tt,e);const i=function kH(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.qo(t)}Yo(e){const t={};t.database=Lw(this.Tt),t.removeTarget=e,this.qo(t)}}class Zj extends EL{constructor(e,t,i,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.Tt=o,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(Dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function PH(n,e){return n&&n.length>0?(Dt(void 0!==e),n.map(t=>function(i,r){let o=nr(i.updateTime?i.updateTime:r);return o.isEqual(St.min())&&(o=nr(r)),new yH(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=nr(e.commitTime);return this.listener.eu(i,t)}return Dt(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Lw(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Uw(this.Tt,i))};this.qo(t)}}class Hj extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.Tt=r,this.iu=!1}ru(){if(this.iu)throw new ke(ue.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.lo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(ue.UNKNOWN,r.toString())})}mo(e,t,i,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.mo(e,t,i,o,c,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(ue.UNKNOWN,o.toString())})}terminate(){this.iu=!0}}class Gj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(ki(t),this.cu=!1):Be("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class $j{constructor(e,t,i,r,o){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=o,this.yu.Gr(h=>{i.enqueueAndForget((0,_e.Z)(function*(){var p;Kd(c)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,_e.Z)(function*(y){const C=nt(y);C.mu.add(4),yield ev(C),C.pu.set("Unknown"),C.mu.delete(4),yield zw(C)}),function(y){return p.apply(this,arguments)})(c))}))}),this.pu=new Gj(i,r)}}function zw(n){return ux.apply(this,arguments)}function ux(){return ux=(0,_e.Z)(function*(n){if(Kd(n))for(const e of n.gu)yield e(!0)}),ux.apply(this,arguments)}function ev(n){return cx.apply(this,arguments)}function cx(){return cx=(0,_e.Z)(function*(n){for(const e of n.gu)yield e(!1)}),cx.apply(this,arguments)}function LD(n,e){const t=nt(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),fx(t)?hx(t):nv(t).Mo()&&dx(t,e))}function Kw(n,e){const t=nt(n),i=nv(t);t.wu.delete(e),i.Mo()&&DL(t,e),0===t.wu.size&&(i.Mo()?i.Bo():Kd(t)&&t.pu.set("Unknown"))}function dx(n,e){n.Iu.Ot(e.targetId),nv(n).Jo(e)}function DL(n,e){n.Iu.Ot(e),nv(n).Yo(e)}function hx(n){n.Iu=new IH({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),nv(n).start(),n.pu.au()}function fx(n){return Kd(n)&&!nv(n).$o()&&n.wu.size>0}function Kd(n){return 0===nt(n).mu.size}function IL(n){n.Iu=void 0}function qj(n){return px.apply(this,arguments)}function px(){return px=(0,_e.Z)(function*(n){n.wu.forEach((e,t)=>{dx(n,e)})}),px.apply(this,arguments)}function Wj(n,e){return gx.apply(this,arguments)}function gx(){return gx=(0,_e.Z)(function*(n,e){IL(n),fx(n)?(n.pu.fu(e),hx(n)):n.pu.set("Unknown")}),gx.apply(this,arguments)}function zj(n,e,t){return mx.apply(this,arguments)}function mx(){return mx=(0,_e.Z)(function*(n,e,t){if(n.pu.set("Online"),e instanceof mF&&2===e.state&&e.cause)try{yield(i=(0,_e.Z)(function*(r,o){const c=o.cause;for(const h of o.targetIds)r.wu.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.wu.delete(h),r.Iu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield UD(n,i)}else if(e instanceof bD?n.Iu.Qt(e):e instanceof gF?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(St.min()))try{const i=yield pL(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const c=r.Iu.ee(o);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.wu.get(p);y&&r.wu.set(p,y.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach(h=>{const p=r.wu.get(h);if(!p)return;r.wu.set(h,p.withResumeToken(fr.EMPTY_BYTE_STRING,p.snapshotVersion)),DL(r,h);const y=new If(p.target,h,1,p.sequenceNumber);dx(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){Be("RemoteStore","Failed to raise snapshot:",i),yield UD(n,i)}var i}),mx.apply(this,arguments)}function UD(n,e,t){return _x.apply(this,arguments)}function _x(){return _x=(0,_e.Z)(function*(n,e,t){if(!$l(e))throw e;n.mu.add(1),yield ev(n),n.pu.set("Offline"),t||(t=()=>pL(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield zw(n)}))}),_x.apply(this,arguments)}function SL(n,e){return e().catch(t=>UD(n,t,e))}function tv(n){return yx.apply(this,arguments)}function yx(){return yx=(0,_e.Z)(function*(n){const e=nt(n),t=Mf(e);let i=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;Kj(e);)try{const r=yield Oj(e.localStore,i);if(null===r){0===e._u.length&&t.Bo();break}i=r.batchId,Yj(e,r)}catch(r){yield UD(e,r)}AL(e)&&NL(e)}),yx.apply(this,arguments)}function Kj(n){return Kd(n)&&n._u.length<10}function Yj(n,e){n._u.push(e);const t=Mf(n);t.Mo()&&t.Xo&&t.tu(e.mutations)}function AL(n){return Kd(n)&&!Mf(n).$o()&&n._u.length>0}function NL(n){Mf(n).start()}function Qj(n){return vx.apply(this,arguments)}function vx(){return vx=(0,_e.Z)(function*(n){Mf(n).su()}),vx.apply(this,arguments)}function Jj(n){return bx.apply(this,arguments)}function bx(){return bx=(0,_e.Z)(function*(n){const e=Mf(n);for(const t of n._u)e.tu(t.mutations)}),bx.apply(this,arguments)}function Xj(n,e,t){return wx.apply(this,arguments)}function wx(){return wx=(0,_e.Z)(function*(n,e,t){const i=n._u.shift(),r=UM.from(i,e,t);yield SL(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield tv(n)}),wx.apply(this,arguments)}function e6(n,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,_e.Z)(function*(n,e){var t;e&&Mf(n).Xo&&(yield(t=(0,_e.Z)(function*(i,r){if(cF(o=r.code)&&o!==ue.ABORTED){const c=i._u.shift();Mf(i).Fo(),yield SL(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield tv(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),AL(n)&&NL(n)}),Cx.apply(this,arguments)}function ML(n,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,_e.Z)(function*(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const i=Kd(t);t.mu.add(3),yield ev(t),i&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield zw(t)}),Tx.apply(this,arguments)}function Ex(n,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,_e.Z)(function*(n,e){const t=nt(n);e?(t.mu.delete(2),yield zw(t)):e||(t.mu.add(2),yield ev(t),t.pu.set("Unknown"))}),Dx.apply(this,arguments)}function nv(n){return n.Tu||(n.Tu=function(e,t,i){const r=nt(e);return r.ru(),new Vj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(n.datastore,n.asyncQueue,{Xr:qj.bind(null,n),no:Wj.bind(null,n),Ho:zj.bind(null,n)}),n.gu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Tu.Fo(),fx(n)?hx(n):n.pu.set("Unknown")):(yield n.Tu.stop(),IL(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}function Mf(n){return n.Eu||(n.Eu=function(e,t,i){const r=nt(e);return r.ru(),new Zj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(n.datastore,n.asyncQueue,{Xr:Qj.bind(null,n),no:e6.bind(null,n),nu:Jj.bind(null,n),eu:Xj.bind(null,n)}),n.gu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Eu.Fo(),yield tv(n)):(yield n.Eu.stop(),n._u.length>0&&(Be("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(t){return e.apply(this,arguments)}}())),n.Eu}class Ix{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,o){const c=Date.now()+i,h=new Ix(e,t,c,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iv(n,e){if(ki("AsyncQueue",`${e}: ${n}`),$l(n))return new ke(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class rv{constructor(e){this.comparator=e?(t,i)=>e(t,i)||et.comparator(t.key,i.key):(t,i)=>et.comparator(t.key,i.key),this.keyedMap=Rw(),this.sortedSet=new Fi(this.comparator)}static emptySet(e){return new rv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new rv;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class xL{constructor(){this.Au=new Fi(et.comparator)}track(e){const t=e.doc.key,i=this.Au.get(t);i?0!==e.type&&3===i.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==i.type?this.Au=this.Au.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Au=this.Au.remove(t):1===e.type&&2===i.type?this.Au=this.Au.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):ft():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,i)=>{e.push(i)}),e}}class sv{constructor(e,t,i,r,o,c,h,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,r,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new sv(e,t,rv.emptySet(t),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class t6{constructor(){this.Pu=void 0,this.listeners=[]}}class n6{constructor(){this.queries=new Ef(e=>Hy(e),qd),this.onlineState="Unknown",this.vu=new Set}}function Sx(n,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,_e.Z)(function*(n,e){const t=nt(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new t6),r)try{o.Pu=yield t.onListen(i)}catch(c){const h=iv(c,`Initialization of query '${Lg(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.listeners.push(e),e.bu(t.onlineState),o.Pu&&e.Vu(o.Pu)&&xx(t)}),Ax.apply(this,arguments)}function Nx(n,e){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,_e.Z)(function*(n,e){const t=nt(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Mx.apply(this,arguments)}function i6(n,e){const t=nt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const h of c.listeners)h.Vu(r)&&(i=!0);c.Pu=r}}i&&xx(t)}function r6(n,e,t){const i=nt(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function xx(n){n.vu.forEach(e=>{e.next()})}class Rx{constructor(e,t,i){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=i||{}}Vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new sv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.$u||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=sv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class s6{constructor(e,t){this.Mu=e,this.byteLength=t}Ou(){return"metadata"in this.Mu}}class RL{constructor(e){this.Tt=e}Zi(e){return yc(this.Tt,e)}Xi(e){return e.metadata.exists?DF(this.Tt,e.document,!1):E.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return nr(e)}}class o6{constructor(e,t,i){this.Fu=e,this.localStore=t,this.Tt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=OL(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;const i=_n.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Lu(e){const t=new Map,i=new RL(this.Tt);for(const r of e)if(r.metadata.queries){const o=i.Zi(r.metadata.name);for(const c of r.metadata.queries){const h=(t.get(c)||Xt()).add(o);t.set(c,h)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function Pj(n,e,t,i){return ex.apply(this,arguments)}(e.localStore,new RL(e.Tt),e.documents,e.Fu.id),i=e.Lu(e.documents);for(const r of e.queries)yield kj(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,qu:e.collectionGroups,Uu:t}})()}}function OL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class PL{constructor(e){this.key=e}}class kL{constructor(e){this.key=e}}class FL{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Xt(),this.mutatedKeys=Xt(),this.ju=Yk(e),this.zu=new rv(this.ju)}get Wu(){return this.Ku}Hu(e,t){const i=t?t.Ju:new xL,r=t?t.zu:this.zu;let o=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,I)=>{const M=r.get(C),O=Wd(this.query,I)?I:null,B=!!M&&this.mutatedKeys.has(M.key),W=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let J=!1;M&&O?M.data.isEqual(O.data)?B!==W&&(i.track({type:3,doc:O}),J=!0):this.Yu(M,O)||(i.track({type:2,doc:O}),J=!0,(p&&this.ju(O,p)>0||y&&this.ju(O,y)<0)&&(h=!0)):!M&&O?(i.track({type:0,doc:O}),J=!0):M&&!O&&(i.track({type:1,doc:M}),J=!0,(p||y)&&(h=!0)),J&&(O?(c=c.add(O),o=W?o.add(C):o.delete(C)):(c=c.delete(C),o=o.delete(C)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const C="F"===this.query.limitType?c.last():c.first();c=c.delete(C.key),o=o.delete(C.key),i.track({type:1,doc:C})}return{zu:c,Ju:i,Li:h,mutatedKeys:o}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const o=e.Ju.Ru();o.sort((y,C)=>function(I,M){const O=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return O(I)-O(M)}(y.type,C.type)||this.ju(y.doc,C.doc)),this.Zu(i);const c=t?this.Xu():[],h=0===this.Qu.size&&this.current?1:0,p=h!==this.Gu;return this.Gu=h,0!==o.length||p?{snapshot:new sv(this.query,e.zu,r,o,e.mutatedKeys,0===h,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),tc:c}:{tc:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new xL,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Xt(),this.zu.forEach(i=>{this.ec(i.key)&&(this.Qu=this.Qu.add(i.key))});const t=[];return e.forEach(i=>{this.Qu.has(i)||t.push(new kL(i))}),this.Qu.forEach(i=>{e.has(i)||t.push(new PL(i))}),t}nc(e){this.Ku=e.Yi,this.Qu=Xt();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return sv.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class a6{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class l6{constructor(e){this.key=e,this.ic=!1}}class u6{constructor(e,t,i,r,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.rc={},this.oc=new Ef(h=>Hy(h),qd),this.uc=new Map,this.cc=new Set,this.ac=new Fi(et.comparator),this.hc=new Map,this.lc=new WM,this.fc={},this.dc=new Map,this._c=$g.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function c6(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,_e.Z)(function*(n,e){const t=nR(n);let i,r;const o=t.oc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.sc();else{const c=yield Jy(t.localStore,Dr(e));t.isPrimaryClient&&LD(t.remoteStore,c);const h=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield Px(t,e,i,"current"===h,c.resumeToken)}return r}),Ox.apply(this,arguments)}function Px(n,e,t,i,r){return kx.apply(this,arguments)}function kx(){return kx=(0,_e.Z)(function*(n,e,t,i,r){n.mc=(I,M,O)=>{return(B=(0,_e.Z)(function*(W,J,Ie,Fe){let Le=J.view.Hu(Ie);Le.Li&&(Le=yield RD(W.localStore,J.query,!1).then(({documents:Xe})=>J.view.Hu(Xe,Le)));const Ue=Fe&&Fe.targetChanges.get(J.targetId),We=J.view.applyChanges(Le,W.isPrimaryClient,Ue);return $x(W,J.targetId,We.tc),We.snapshot}),function(W,J,Ie,Fe){return B.apply(this,arguments)})(n,I,M,O);var B};const o=yield RD(n.localStore,e,!0),c=new FL(e,o.Yi),h=c.Hu(o.documents),p=kw.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),y=c.applyChanges(h,n.isPrimaryClient,p);$x(n,t,y.tc);const C=new a6(e,t,c);return n.oc.set(e,C),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),y.snapshot}),kx.apply(this,arguments)}function d6(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,_e.Z)(function*(n,e){const t=nt(n),i=t.oc.get(e),r=t.uc.get(i.targetId);if(r.length>1)return t.uc.set(i.targetId,r.filter(o=>!qd(o,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Xy(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Kw(t.remoteStore,i.targetId),ov(t,i.targetId)}).catch(Gl))):(ov(t,i.targetId),yield Xy(t.localStore,i.targetId,!0))}),Fx.apply(this,arguments)}function Lx(){return Lx=(0,_e.Z)(function*(n,e,t){const i=iR(n);try{const r=yield function(o,c){const h=nt(o),p=jn.now(),y=c.reduce((M,O)=>M.add(O.key),Xt());let C,I;return h.persistence.runTransaction("Locally write mutations","readwrite",M=>{let O=Io(),B=Xt();return h.ji.getEntries(M,y).next(W=>{O=W,O.forEach((J,Ie)=>{Ie.isValidDocument()||(B=B.add(J))})}).next(()=>h.localDocuments.getOverlayedDocuments(M,O)).next(W=>{C=W;const J=[];for(const Ie of c){const Fe=bH(Ie,C.get(Ie.key).overlayedDocument);null!=Fe&&J.push(new zd(Ie.key,Fe,T(Fe.value.mapValue),Ci.exists(!0)))}return h.mutationQueue.addMutationBatch(M,p,J,c)}).next(W=>{I=W;const J=W.applyToLocalDocumentSet(C,B);return h.documentOverlayCache.saveOverlays(M,W.batchId,J)})}).then(()=>({batchId:I.batchId,changes:fF(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,h){let p=o.fc[o.currentUser.toKey()];p||(p=new Fi(Ht)),p=p.insert(c,h),o.fc[o.currentUser.toKey()]=p}(i,r.batchId,t),yield Yd(i,r.changes),yield tv(i.remoteStore)}catch(r){const o=iv(r,"Failed to persist write");t.reject(o)}}),Lx.apply(this,arguments)}function LL(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,_e.Z)(function*(n,e){const t=nt(n);try{const i=yield Rj(t.localStore,e);e.targetChanges.forEach((r,o)=>{const c=t.hc.get(o);c&&(Dt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.ic=!0:r.modifiedDocuments.size>0?Dt(c.ic):r.removedDocuments.size>0&&(Dt(c.ic),c.ic=!1))}),yield Yd(t,i,e)}catch(i){yield Gl(i)}}),Ux.apply(this,arguments)}function UL(n,e,t){const i=nt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.oc.forEach((o,c)=>{const h=c.view.bu(e);h.snapshot&&r.push(h.snapshot)}),function(o,c){const h=nt(o);h.onlineState=c;let p=!1;h.queries.forEach((y,C)=>{for(const I of C.listeners)I.bu(c)&&(p=!0)}),p&&xx(h)}(i.eventManager,e),r.length&&i.rc.Ho(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function f6(n,e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,_e.Z)(function*(n,e,t){const i=nt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.hc.get(e),o=r&&r.key;if(o){let c=new Fi(et.comparator);c=c.insert(o,E.newNoDocument(o,St.min()));const h=Xt().add(o),p=new Pw(St.min(),new Map,new u(Ht),c,h);yield LL(i,p),i.ac=i.ac.remove(o),i.hc.delete(e),qx(i)}else yield Xy(i.localStore,e,!1).then(()=>ov(i,e,t)).catch(Gl)}),Bx.apply(this,arguments)}function p6(n,e){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,_e.Z)(function*(n,e){const t=nt(n),i=e.batch.batchId;try{const r=yield xj(t.localStore,e);Gx(t,i,null),jx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Yd(t,r)}catch(r){yield Gl(r)}}),Vx.apply(this,arguments)}function g6(n,e,t){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,_e.Z)(function*(n,e,t){const i=nt(n);try{const r=yield function(o,c){const h=nt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,c).next(C=>(Dt(null!==C),y=C.keys(),h.mutationQueue.removeMutationBatch(p,C))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(i.localStore,e);Gx(i,e,t),jx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Yd(i,r)}catch(r){yield Gl(r)}}),Zx.apply(this,arguments)}function Hx(){return Hx=(0,_e.Z)(function*(n,e){const t=nt(n);Kd(t.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=nt(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.dc.get(i)||[];r.push(e),t.dc.set(i,r)}catch(i){const r=iv(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Hx.apply(this,arguments)}function jx(n,e){(n.dc.get(e)||[]).forEach(t=>{t.resolve()}),n.dc.delete(e)}function Gx(n,e,t){const i=nt(n);let r=i.fc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.fc[i.currentUser.toKey()]=r}}function ov(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.uc.get(e))n.oc.delete(i),t&&n.rc.gc(i,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(i=>{n.lc.containsKey(i)||BL(n,i)})}function BL(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(Kw(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),qx(n))}function $x(n,e,t){for(const i of t)i instanceof PL?(n.lc.addReference(i.key,e),_6(n,i)):i instanceof kL?(Be("SyncEngine","Document no longer in limbo: "+i.key),n.lc.removeReference(i.key,e),n.lc.containsKey(i.key)||BL(n,i.key)):ft()}function _6(n,e){const t=e.key,i=t.path.canonicalString();n.ac.get(t)||n.cc.has(i)||(Be("SyncEngine","New document in limbo: "+t),n.cc.add(i),qx(n))}function qx(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new et(_n.fromString(e)),i=n._c.next();n.hc.set(i,new l6(t)),n.ac=n.ac.insert(t,i),LD(n.remoteStore,new If(Dr(xe(t.path)),i,2,Is.at))}}function Yd(n,e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,_e.Z)(function*(n,e,t){const i=nt(n),r=[],o=[],c=[];var h;i.oc.isEmpty()||(i.oc.forEach((h,p)=>{c.push(i.mc(p,e,t).then(y=>{if((y||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const C=QM.Ni(p.targetId,y);o.push(C)}}))}),yield Promise.all(c),i.rc.Ho(r),yield(h=(0,_e.Z)(function*(p,y){const C=nt(p);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>se.forEach(y,M=>se.forEach(M.Ci,O=>C.persistence.referenceDelegate.addReference(I,M.targetId,O)).next(()=>se.forEach(M.xi,O=>C.persistence.referenceDelegate.removeReference(I,M.targetId,O)))))}catch(I){if(!$l(I))throw I;Be("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const M=I.targetId;if(!I.fromCache){const O=C.Ki.get(M),W=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);C.Ki=C.Ki.insert(M,W)}}}),function(p,y){return h.apply(this,arguments)})(i.localStore,o))}),Wx.apply(this,arguments)}function y6(n,e){return zx.apply(this,arguments)}function zx(){return zx=(0,_e.Z)(function*(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const i=yield fL(t.localStore,e);t.currentUser=e,(r=t).dc.forEach(c=>{c.forEach(h=>{h.reject(new ke(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.dc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Yd(t,i.Wi)}var r}),zx.apply(this,arguments)}function v6(n,e){const t=nt(n),i=t.hc.get(e);if(i&&i.ic)return Xt().add(i.key);{let r=Xt();const o=t.uc.get(e);if(!o)return r;for(const c of o){const h=t.oc.get(c);r=r.unionWith(h.view.Wu)}return r}}function b6(n,e){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,_e.Z)(function*(n,e){const t=nt(n),i=yield RD(t.localStore,e.query,!0),r=e.view.nc(i);return t.isPrimaryClient&&$x(t,e.targetId,r.tc),r}),Kx.apply(this,arguments)}function w6(n,e){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,_e.Z)(function*(n,e){const t=nt(n);return _L(t.localStore,e).then(i=>Yd(t,i))}),Yx.apply(this,arguments)}function C6(n,e,t,i){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,_e.Z)(function*(n,e,t,i){const r=nt(n),o=yield function(c,h){const p=nt(c),y=nt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",C=>y.An(C,h).next(I=>I?p.localDocuments.getDocuments(C,I):se.resolve(null)))}(r.localStore,e);var h;null!==o?("pending"===t?yield tv(r.remoteStore):"acknowledged"===t||"rejected"===t?(Gx(r,e,i||null),jx(r,e),h=e,nt(nt(r.localStore).mutationQueue).Pn(h)):ft(),yield Yd(r,o)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)}),Qx.apply(this,arguments)}function Jx(){return Jx=(0,_e.Z)(function*(n,e){const t=nt(n);if(nR(t),iR(t),!0===e&&!0!==t.wc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield VL(t,i.toArray());t.wc=!0,yield Ex(t.remoteStore,!0);for(const o of r)LD(t.remoteStore,o)}else if(!1===e&&!1!==t.wc){const i=[];let r=Promise.resolve();t.uc.forEach((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(ov(t,c),Xy(t.localStore,c,!0))),Kw(t.remoteStore,c)}),yield r,yield VL(t,i),function(o){const c=nt(o);c.hc.forEach((h,p)=>{Kw(c.remoteStore,p)}),c.lc._s(),c.hc=new Map,c.ac=new Fi(et.comparator)}(t),t.wc=!1,yield Ex(t.remoteStore,!1)}}),Jx.apply(this,arguments)}function VL(n,e,t){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,_e.Z)(function*(n,e,t){const i=nt(n),r=[],o=[];for(const c of e){let h;const p=i.uc.get(c);if(p&&0!==p.length){h=yield Jy(i.localStore,Dr(p[0]));for(const y of p){const C=i.oc.get(y),I=yield b6(i,C);I.snapshot&&o.push(I.snapshot)}}else{const y=yield mL(i.localStore,c);h=yield Jy(i.localStore,y),yield Px(i,ZL(y),c,!1,h.resumeToken)}r.push(h)}return i.rc.Ho(o),r}),Xx.apply(this,arguments)}function ZL(n){return At(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function E6(n){const e=nt(n);return nt(nt(e.localStore).persistence).Si()}function D6(n,e,t,i){return eR.apply(this,arguments)}function eR(){return eR=(0,_e.Z)(function*(n,e,t,i){const r=nt(n);if(r.wc)return void Be("SyncEngine","Ignoring unexpected query state notification.");const o=r.uc.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const c=yield _L(r.localStore,jy(o[0])),h=Pw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,fr.EMPTY_BYTE_STRING);yield Yd(r,c,h);break}case"rejected":yield Xy(r.localStore,e,!0),ov(r,e,i);break;default:ft()}}),eR.apply(this,arguments)}function I6(n,e,t){return tR.apply(this,arguments)}function tR(){return tR=(0,_e.Z)(function*(n,e,t){const i=nR(n);if(i.wc){for(const r of e){if(i.uc.has(r)){Be("SyncEngine","Adding an already active target "+r);continue}const o=yield mL(i.localStore,r),c=yield Jy(i.localStore,o);yield Px(i,ZL(o),c.targetId,!1,c.resumeToken),LD(i.remoteStore,c)}for(const r of t)i.uc.has(r)&&(yield Xy(i.localStore,r,!1).then(()=>{Kw(i.remoteStore,r),ov(i,r)}).catch(Gl))}}),tR.apply(this,arguments)}function nR(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f6.bind(null,e),e.rc.Ho=i6.bind(null,e.eventManager),e.rc.gc=r6.bind(null,e.eventManager),e}function iR(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g6.bind(null,e),e}class HL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.Tt=Ww(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return hL(this.persistence,new dL,e.initialUser,this.Tt)}Tc(e){return new uL(MD.qs,this.Tt)}Ic(e){return new wL}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jL extends HL{constructor(e,t,i){super(),this.Pc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield t().call(i,e),yield i.Pc.initialize(i,e),yield iR(i.Pc.syncEngine),yield tv(i.Pc.remoteStore),yield i.persistence.di(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(e){return hL(this.persistence,new dL,e.initialUser,this.Tt)}Ac(e,t){return new mj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Rc(e,t){const i=new Fy(t,this.persistence);return new ky(e.asyncQueue,i)}Tc(e){const t=YM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?So.withCacheSize(this.cacheSizeBytes):So.DEFAULT;return new KM(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,TL(),FD(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new wL}}class A6 extends jL{constructor(e,t){super(e,t,!1),this.Pc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield t().call(i,e);const r=i.Pc.syncEngine;i.sharedClientState instanceof sx&&(i.sharedClientState.syncEngine={Br:C6.bind(null,r),Lr:D6.bind(null,r),qr:I6.bind(null,r),Si:E6.bind(null,r),Fr:w6.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.di(function(){var o=(0,_e.Z)(function*(c){yield function T6(n,e){return Jx.apply(this,arguments)}(i.Pc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}Ic(e){const t=TL();if(!sx.C(t))throw new ke(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=YM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sx(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class rR{initialize(e,t){var i=this;return(0,_e.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>UL(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=y6.bind(null,i.syncEngine),yield Ex(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new n6}createDatastore(e){const t=Ww(e.databaseInfo.databaseId),i=new Bj(e.databaseInfo);return new Hj(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=h=>UL(this.syncEngine,h,0),c=CL.C()?new CL:new Fj,new $j(t,i,r,o,c);var t,i,r,o,c}createSyncEngine(e,t){return function(i,r,o,c,h,p,y){const C=new u6(i,r,o,c,h,p);return y&&(C.wc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const i=nt(t);Be("RemoteStore","RemoteStore shutting down."),i.mu.add(5),yield ev(i),i.yu.shutdown(),i.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function GL(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class BD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class N6{constructor(e,t){this.Vc=e,this.Tt=t,this.metadata=new tr,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Mu)}`))},i=>this.metadata.reject(i))}close(){return this.Vc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}yc(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Dc()})()}Dc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Cc();if(null===t)return null;const i=e.Sc.decode(t),r=Number(i);isNaN(r)&&e.xc(`length string (${i}) is not valid number`);const o=yield e.Nc(r);return new s6(JSON.parse(o),t.length+r)})()}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Cc(){var e=this;return(0,_e.Z)(function*(){for(;e.kc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.kc();t<0&&e.xc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Nc(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.xc("Reached the end of bundle when more is expected.");const i=t.Sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Vc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class M6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ke(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,_e.Z)(function*(o,c){const h=nt(o),p=Lw(h.Tt)+"/documents",y={documents:c.map(O=>Fw(h.Tt,O))},C=yield h.mo("BatchGetDocuments",p,y,c.length),I=new Map;C.forEach(O=>{const B=function RH(n,e){return"found"in e?function(t,i){Dt(!!i.found);const r=yc(t,i.found.name),o=nr(i.found.updateTime),c=i.found.createTime?nr(i.found.createTime):St.min(),h=new v({mapValue:{fields:i.found.fields}});return E.newFoundDocument(r,o,c,h)}(n,e):"missing"in e?function(t,i){Dt(!!i.missing),Dt(!!i.readTime);const r=yc(t,i.missing),o=nr(i.readTime);return E.newNoDocument(r,o)}(n,e):ft()}(h.Tt,O);I.set(B.key.toString(),B)});const M=[];return c.forEach(O=>{const B=I.get(O.toString());Dt(!!B),M.push(B)}),M}),function(o,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Wy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=et.fromPath(r);e.mutations.push(new xM(o,e.precondition(o)))}),yield(i=(0,_e.Z)(function*(r,o){const c=nt(r),h=Lw(c.Tt)+"/documents",p={writes:o.map(y=>Uw(c.Tt,y))};yield c.lo("Commit",h,p)}),function(r,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ft();t=St.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ke(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(St.min())?Ci.exists(!1):Ci.updateTime(t):Ci.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new ke(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ci.updateTime(t)}return Ci.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class x6{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Mc=i.maxAttempts,this.ko=new ax(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Oc()}Oc(){var e=this;this.ko.vo((0,_e.Z)(function*(){const t=new M6(e.datastore),i=e.Fc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.Bc(o)}))}).catch(r=>{e.Bc(r)})}))}Fc(e){try{const t=this.updateFunction(e);return!Mg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!cF(t)}return!1}}class R6{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=$i.UNAUTHENTICATED,this.clientId=KE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,_e.Z)(function*(h){Be("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Be("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=iv(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function $L(n,e){return sR.apply(this,arguments)}function sR(){return sR=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,_e.Z)(function*(o){i.isEqual(o)||(yield fL(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),sR.apply(this,arguments)}function qL(n,e){return oR.apply(this,arguments)}function oR(){return oR=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield aR(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>ML(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>ML(e.remoteStore,o)),n.onlineComponents=e}),oR.apply(this,arguments)}function aR(n){return lR.apply(this,arguments)}function lR(){return lR=(0,_e.Z)(function*(n){return n.offlineComponents||(Be("FirestoreClient","Using default OfflineComponentProvider"),yield $L(n,new HL)),n.offlineComponents}),lR.apply(this,arguments)}function VD(n){return uR.apply(this,arguments)}function uR(){return uR=(0,_e.Z)(function*(n){return n.onlineComponents||(Be("FirestoreClient","Using default OnlineComponentProvider"),yield qL(n,new rR)),n.onlineComponents}),uR.apply(this,arguments)}function WL(n){return aR(n).then(e=>e.persistence)}function ZD(n){return aR(n).then(e=>e.localStore)}function cR(n){return VD(n).then(e=>e.remoteStore)}function dR(n){return VD(n).then(e=>e.syncEngine)}function av(n){return hR.apply(this,arguments)}function hR(){return hR=(0,_e.Z)(function*(n){const e=yield VD(n),t=e.eventManager;return t.onListen=c6.bind(null,e.syncEngine),t.onUnlisten=d6.bind(null,e.syncEngine),t}),hR.apply(this,arguments)}function KL(n,e,t={}){const i=new tr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,o,c,h,p){const y=new BD({next:I=>{o.enqueueAndForget(()=>Nx(r,C));const M=I.docs.has(c);!M&&I.fromCache?p.reject(new ke(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&I.fromCache&&h&&"server"===h.source?p.reject(new ke(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),C=new Rx(xe(c.path),y,{includeMetadataChanges:!0,$u:!0});return Sx(r,C)}(yield av(n),n.asyncQueue,e,t,i)})),i.promise}function YL(n,e,t={}){const i=new tr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,o,c,h,p){const y=new BD({next:I=>{o.enqueueAndForget(()=>Nx(r,C)),I.fromCache&&"server"===h.source?p.reject(new ke(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),C=new Rx(c,y,{includeMetadataChanges:!0,$u:!0});return Sx(r,C)}(yield av(n),n.asyncQueue,e,t,i)})),i.promise}const QL=new Map;function fR(n,e,t){if(!t)throw new ke(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JL(n,e,t,i){if(!0===e&&!0===i)throw new ke(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function XL(n){if(!et.isDocumentKey(n))throw new ke(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function e2(n){if(et.isDocumentKey(n))throw new ke(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function HD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ft()}function yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=HD(n);throw new ke(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function t2(n,e){if(e<=0)throw new ke(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class n2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,JL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yw{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new vM;switch(t.type){case"gapi":return new aa(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ke(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=QL.get(e);t&&(Be("ComponentProvider","Removing Datastore"),QL.delete(e),t.terminate())}(this),Promise.resolve()}}class pi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pi(this.firestore,e,this._key)}}class ss{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class bc extends ss{constructor(e,t,i){super(e,t,xe(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pi(this.firestore,null,new et(e))}withConverter(e){return new bc(this.firestore,e,this._path)}}function s2(n,e,...t){if(n=(0,k.m9)(n),fR("collection","path",e),n instanceof Yw){const i=_n.fromString(e,...t);return e2(i),new bc(n,null,i)}{if(!(n instanceof pi||n instanceof bc))throw new ke(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_n.fromString(e,...t));return e2(i),new bc(n.firestore,null,i)}}function jD(n,e,...t){if(n=(0,k.m9)(n),1===arguments.length&&(e=KE.R()),fR("doc","path",e),n instanceof Yw){const i=_n.fromString(e,...t);return XL(i),new pi(n,null,new et(i))}{if(!(n instanceof pi||n instanceof bc))throw new ke(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_n.fromString(e,...t));return XL(i),new pi(n.firestore,n instanceof bc?n.converter:null,new et(i))}}function o2(n,e){return n=(0,k.m9)(n),e=(0,k.m9)(e),(n instanceof pi||n instanceof bc)&&(e instanceof pi||e instanceof bc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function pR(n,e){return n=(0,k.m9)(n),e=(0,k.m9)(e),n instanceof ss&&e instanceof ss&&n.firestore===e.firestore&&qd(n._query,e._query)&&n.converter===e.converter}class Z6{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new ax(this,"async_queue_retry"),this.Hc=()=>{const t=FD();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=FD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=FD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new tr;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!$l(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(i=>{throw this.Qc=i,this.jc=!1,ki("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.jc=!1,i))));return this.qc=t,t}enqueueAfterDelay(e,t,i){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const r=Ix.createAndSchedule(this,e,t,i,o=>this.Xc(o));return this.Gc.push(r),r}Jc(){this.Qc&&ft()}verifyOperationInProgress(){}ta(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function gR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class H6{constructor(){this._progressObserver={},this._taskCompletionResolver=new tr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class gi extends Yw{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Z6,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||a2(this),this._firestoreClient.terminate()}}function ir(n){return n._firestoreClient||a2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function a2(n){var e;const t=n._freezeSettings(),i=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new CM(n._databaseId,o,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new R6(n._authCredentials,n._appCheckCredentials,n._queue,i)}function l2(n,e,t){const i=new tr;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield $L(n,t),yield qL(n,e),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(c=o).name?c.code===ue.FAILED_PRECONDITION||c.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;jd("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var c})).then(()=>i.promise)}function u2(n){if(n._initialized||n._terminated)throw new ke(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wc(fr.fromBase64String(e))}catch(t){throw new ke(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wc(fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wg{constructor(e){this._methodName=e}}class GD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const X6=/^__.*__$/;class eG{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new zd(e,this.data,this.fieldMask,t,this.fieldTransforms):new qy(e,this.data,t,this.fieldTransforms)}}class c2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new zd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function d2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class $D{constructor(e,t,i,r,o,c){this.settings=e,this.databaseId=t,this.Tt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ia(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new $D(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:i,ca:!1});return r.aa(e),r}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:i,ca:!1});return r.ia(),r}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return zD(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(d2(this.ra)&&X6.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class tG{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=i||Ww(e)}wa(e,t,i,r=!1){return new $D({ra:e,methodName:t,_a:i,path:fi.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function zg(n){const e=n._freezeSettings(),t=Ww(n._databaseId);return new tG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qD(n,e,t,i,r,o={}){const c=n.wa(o.merge||o.mergeFields?2:0,e,t,r);vR("Data must be an object, but it was:",c,i);const h=p2(i,c);let p,y;if(o.merge)p=new m(c.fieldMask),y=c.fieldTransforms;else if(o.mergeFields){const C=[];for(const I of o.mergeFields){const M=Xw(e,I,t);if(!c.contains(M))throw new ke(ue.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);m2(C,M)||C.push(M)}p=new m(C),y=c.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=c.fieldTransforms;return new eG(new v(h),p,y)}class Jw extends Wg{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jw}}function h2(n,e,t){return new $D({ra:3,_a:e.settings._a,methodName:n._methodName,ca:t},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class mR extends Wg{_toFieldTransform(e){return new Mw(e.path,new Gy)}isEqual(e){return e instanceof mR}}class nG extends Wg{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=h2(this,e,!0),i=this.ma.map(o=>Kg(o,t)),r=new Ug(i);return new Mw(e.path,r)}isEqual(e){return this===e}}class iG extends Wg{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=h2(this,e,!0),i=this.ma.map(o=>Kg(o,t)),r=new Bg(i);return new Mw(e.path,r)}isEqual(e){return this===e}}class rG extends Wg{constructor(e,t){super(e),this.ga=t}_toFieldTransform(e){const t=new $y(e.Tt,Xk(e.Tt,this.ga));return new Mw(e.path,t)}isEqual(e){return this===e}}function _R(n,e,t,i){const r=n.wa(1,e,t);vR("Data must be an object, but it was:",r,i);const o=[],c=v.empty();vf(i,(p,y)=>{const C=WD(e,p,t);y=(0,k.m9)(y);const I=r.ha(C);if(y instanceof Jw)o.push(C);else{const M=Kg(y,I);null!=M&&(o.push(C),c.set(C,M))}});const h=new m(o);return new c2(c,h,r.fieldTransforms)}function yR(n,e,t,i,r,o){const c=n.wa(1,e,t),h=[Xw(e,i,t)],p=[r];if(o.length%2!=0)throw new ke(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<o.length;M+=2)h.push(Xw(e,o[M])),p.push(o[M+1]);const y=[],C=v.empty();for(let M=h.length-1;M>=0;--M)if(!m2(y,h[M])){const O=h[M];let B=p[M];B=(0,k.m9)(B);const W=c.ha(O);if(B instanceof Jw)y.push(O);else{const J=Kg(B,W);null!=J&&(y.push(O),C.set(O,J))}}const I=new m(y);return new c2(C,I,c.fieldTransforms)}function f2(n,e,t,i=!1){return Kg(t,n.wa(i?4:3,e))}function Kg(n,e){if(g2(n=(0,k.m9)(n)))return vR("Unsupported field value:",e,n),p2(n,e);if(n instanceof Wg)return function(t,i){if(!d2(i.ra))throw i.fa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const c of t){let h=Kg(c,i.la(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,k.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xk(i.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=jn.fromDate(t);return{timestampValue:zy(i.Tt,r)}}if(t instanceof jn){const r=new jn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:zy(i.Tt,r)}}if(t instanceof GD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof wc)return{bytesValue:bF(i.Tt,t._byteString)};if(t instanceof pi){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i.fa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:RM(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.fa(`Unsupported field value: ${HD(t)}`)}(n,e)}function p2(n,e){const t={};return Tw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vf(n,(i,r)=>{const o=Kg(r,e.ua(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function g2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof jn||n instanceof GD||n instanceof wc||n instanceof pi||n instanceof Wg)}function vR(n,e,t){if(!g2(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=HD(t);throw e.fa("an object"===i?n+" a custom object":n+" "+i)}var i}function Xw(n,e,t){if((e=(0,k.m9)(e))instanceof Qd)return e._internalPath;if("string"==typeof e)return WD(n,e);throw zD("Field path arguments must be of type string or ",n,!1,void 0,t)}const sG=new RegExp("[~\\*/\\[\\]]");function WD(n,e,t){if(e.search(sG)>=0)throw zD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qd(...e.split("."))._internalPath}catch{throw zD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zD(n,e,t,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new ke(ue.INVALID_ARGUMENT,h+n+p)}function m2(n,e){return n.some(t=>t.isEqual(e))}class eC{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(KD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oG extends eC{data(){return super.data()}}function KD(n,e){return"string"==typeof e?WD(n,e):e instanceof Qd?e._internalPath:e._delegate._internalPath}function _2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bR{}class tC extends bR{}function xf(n,e,...t){let i=[];e instanceof bR&&i.push(e),i=i.concat(t),function(r){const o=r.filter(h=>h instanceof lv).length,c=r.filter(h=>h instanceof nC).length;if(o>1||o>0&&c>0)throw new ke(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class nC extends tC{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new nC(e,t,i)}_apply(e){const t=this._parse(e);return w2(e._query,t),new ss(e.firestore,e.converter,Fg(e._query,t))}_parse(e){const t=zg(e.firestore);return function(r,o,c,h,p,y,C){let I;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new ke(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){b2(C,y);const M=[];for(const O of C)M.push(v2(h,r,O));I={arrayValue:{values:M}}}else I=v2(h,r,C)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||b2(C,y),I=f2(c,"where",C,"in"===y||"not-in"===y);return sn.create(p,y,I)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class lv extends bR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Dn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const c=r.getFlattenedFilters();for(const h of c)w2(o,h),o=Fg(o,h)}(e._query,t),new ss(e.firestore,e.converter,Fg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class wR extends tC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new wR(e,t)}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new ke(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new kg(r,o);return function(h,p){if(null===vn(h)){const y=Bn(h);null!==y&&C2(0,y,p.field)}}(i,c),c}(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new ot(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class YD extends tC{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new YD(e,t,i)}_apply(e){return new ss(e.firestore,e.converter,Tf(e._query,this._limit,this._limitType))}}class QD extends tC{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new QD(e,t,i)}_apply(e){const t=y2(e,this.type,this._docOrFields,this._inclusive);return new ss(e.firestore,e.converter,(r=t,new ot((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class JD extends tC{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new JD(e,t,i)}_apply(e){const t=y2(e,this.type,this._docOrFields,this._inclusive);return new ss(e.firestore,e.converter,(r=t,new ot((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function y2(n,e,t,i){if(t[0]=(0,k.m9)(t[0]),t[0]instanceof eC)return function(r,o,c,h,p){if(!h)throw new ke(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const C of Kl(r))if(C.field.isKeyField())y.push(wf(o,h.key));else{const I=h.data.field(C.field);if(Ew(I))throw new ke(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const M=C.field.canonicalString();throw new ke(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}y.push(I)}return new mc(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=zg(n.firestore);return function(o,c,h,p,y,C){const I=o.explicitOrderBy;if(y.length>I.length)throw new ke(ue.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let O=0;O<y.length;O++){const B=y[O];if(I[O].field.isKeyField()){if("string"!=typeof B)throw new ke(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof B}`);if(!zl(o)&&-1!==B.indexOf("/"))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${B}' contains a slash.`);const W=o.path.child(_n.fromString(B));if(!et.isDocumentKey(W))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${W}' is not because it contains an odd number of segments.`);const J=new et(W);M.push(wf(c,J))}else{const W=f2(h,p,B);M.push(W)}}return new mc(M,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function v2(n,e,t){if("string"==typeof(t=(0,k.m9)(t))){if(""===t)throw new ke(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zl(e)&&-1!==t.indexOf("/"))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(_n.fromString(t));if(!et.isDocumentKey(i))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return wf(n,new et(i))}if(t instanceof pi)return wf(n,t._key);throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${HD(t)}.`)}function b2(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function w2(n,e){if(e.isInequality()){const i=Bn(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=vn(n);null!==o&&C2(0,r,o)}const t=function(i,r){for(const o of i)for(const c of o.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ke(ue.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function C2(n,e,t){if(!t.isEqual(e))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class CR{convertValue(e,t="none"){switch(ql(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ft()}}convertObject(e,t){const i={};return vf(e.fields,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new GD(wi(e.latitude),wi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=sD(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(bf(e));default:return null}}convertTimestamp(e){const t=$d(e);return new jn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=_n.fromString(e);Dt(MF(i));const r=new gc(i.get(1),i.get(3)),o=new et(i.popFirst(5));return r.isEqual(t)||ki(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function XD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class gG extends CR{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pi(this.firestore,null,t)}}class Yg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jd extends eC{constructor(e,t,i,r,o,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(KD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class iC extends Jd{data(e={}){return super.data(e)}}class Rf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new iC(this._firestore,this._userDataWriter,i.key,i,new Yg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new iC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Yg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new iC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Yg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==c.type&&(p=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),y=o.indexOf(c.doc.key)),{type:_G(c.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _G(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function E2(n,e){return n instanceof Jd&&e instanceof Jd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Rf&&e instanceof Rf&&n._firestore===e._firestore&&pR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Of extends CR{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pi(this.firestore,null,t)}}function D2(n,e,t){n=yn(n,pi);const i=yn(n.firestore,gi),r=XD(n.converter,e,t);return uv(i,[qD(zg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Ci.none())])}function I2(n,e,t,...i){n=yn(n,pi);const r=yn(n.firestore,gi),o=zg(r);let c;return c="string"==typeof(e=(0,k.m9)(e))||e instanceof Qd?yR(o,"updateDoc",n._key,e,t,i):_R(o,"updateDoc",n._key,e),uv(r,[c.toMutation(n._key,Ci.exists(!0))])}function S2(n,...e){var t,i,r;n=(0,k.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||gR(e[c])||(o=e[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges};if(gR(e[c])){const I=e[c];e[c]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[c+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),e[c+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let p,y,C;if(n instanceof pi)y=yn(n.firestore,gi),C=xe(n._key.path),p={next:I=>{e[c]&&e[c](TR(y,n,I))},error:e[c+1],complete:e[c+2]};else{const I=yn(n,ss);y=yn(I.firestore,gi),C=I._query;const M=new Of(y);p={next:O=>{e[c]&&e[c](new Rf(y,M,I,O))},error:e[c+1],complete:e[c+2]},_2(n._query)}return function(I,M,O,B){const W=new BD(B),J=new Rx(M,W,O);return I.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Sx(yield av(I),J)})),()=>{W.bc(),I.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Nx(yield av(I),J)}))}}(ir(y),C,h,p)}function uv(n,e){return function(t,i){const r=new tr;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function h6(n,e,t){return Lx.apply(this,arguments)}(yield dR(t),i,r)})),r.promise}(ir(n),e)}function TR(n,e,t){const i=t.docs.get(e._key),r=new Of(n);return new Jd(n,r,e._key,i,new Yg(t.hasPendingWrites,t.fromCache),e.converter)}const AG={maxAttempts:5};class A2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zg(e)}set(e,t,i){this._verifyNotCommitted();const r=Pf(e,this._firestore),o=XD(r.converter,t,i),c=qD(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Ci.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=Pf(e,this._firestore);let c;return c="string"==typeof(t=(0,k.m9)(t))||t instanceof Qd?yR(this._dataReader,"WriteBatch.update",o._key,t,i,r):_R(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,Ci.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Pf(e,this._firestore);return this._mutations=this._mutations.concat(new Wy(t._key,Ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pf(n,e){if((n=(0,k.m9)(n)).firestore!==e)throw new ke(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class NG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=zg(e)}get(e){const t=Pf(e,this._firestore),i=new gG(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ft();const o=r[0];if(o.isFoundDocument())return new eC(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new eC(this._firestore,i,t._key,null,t.converter);throw ft()})}set(e,t,i){const r=Pf(e,this._firestore),o=XD(r.converter,t,i),c=qD(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const o=Pf(e,this._firestore);let c;return c="string"==typeof(t=(0,k.m9)(t))||t instanceof Qd?yR(this._dataReader,"Transaction.update",o._key,t,i,r):_R(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,c),this}delete(e){const t=Pf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Pf(e,this._firestore),i=new Of(this._firestore);return super.get(e).then(r=>new Jd(this._firestore,i,t._key,r._document,new Yg(!1,!1),t.converter))}}function ER(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function M2(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function x2(){if(!function jk(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Hd=Cr.SDK_VERSION,(0,Cr._registerComponent)(new na.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),c=new gi(new WE(t.getProvider("auth-internal")),new yw(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ke(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(h.options.projectId,p)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Cr.registerVersion)(_M,"3.9.0",n),(0,Cr.registerVersion)(_M,"3.9.0","esm2017")}();class rC{constructor(e){this._delegate=e}static fromBase64String(e){return x2(),new rC(wc.fromBase64String(e))}static fromUint8Array(e){return M2(),new rC(wc.fromUint8Array(e))}toBase64(){return x2(),this._delegate.toBase64()}toUint8Array(){return M2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function DR(n){return function UG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class BG{enableIndexedDbPersistence(e,t){return function G6(n,e){u2(n=yn(n,gi));const t=ir(n),i=n._freezeSettings(),r=new rR;return l2(t,r,new jL(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function $6(n){u2(n=yn(n,gi));const e=ir(n),t=n._freezeSettings(),i=new rR;return l2(e,i,new A6(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function q6(n){if(n._initialized&&!n._terminated)throw new ke(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new tr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(i){if(!Eo.C())return Promise.resolve();const r=i+"main";yield Eo.delete(r)}),function(i){return t.apply(this,arguments)})(YM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class R2{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof gc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&jd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function r2(n,e,t,i={}){var r;const o=(n=yn(n,Yw))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&jd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=$i.MOCK_USER;else{c=(0,k.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new ke(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new $i(p)}n._authCredentials=new qE(new yM(c,h))}}(this._delegate,e,t,i)}enableNetwork(){return function z6(n){return function O6(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield WL(n),t=yield cR(n);return e.setNetworkEnabled(!0),function(i){const r=nt(i);return r.mu.delete(0),zw(r)}(t)}))}(ir(n=yn(n,gi)))}(this._delegate)}disableNetwork(){return function K6(n){return function P6(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield WL(n),t=yield cR(n);return e.setNetworkEnabled(!1),(i=(0,_e.Z)(function*(r){const o=nt(r);o.mu.add(0),yield ev(o),o.pu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(ir(n=yn(n,gi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,JL("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function W6(n){return function(e){const t=new tr;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function m6(n,e){return Hx.apply(this,arguments)}(yield dR(e),t)})),t.promise}(ir(n=yn(n,gi)))}(this._delegate)}onSnapshotsInSync(e){return function IG(n,e){return function L6(n,e){const t=new BD(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield av(n),r=t,nt(i).vu.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield av(n),r=t,void nt(i).vu.delete(r);var i,r}))}}(ir(n=yn(n,gi)),gR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cv(this,s2(this._delegate,e))}catch(t){throw zs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ya(this,jD(this._delegate,e))}catch(t){throw zs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ks(this,function V6(n,e){if(n=yn(n,Yw),fR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ss(n,null,(t=e,new ot(_n.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw zs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function MG(n,e,t){n=yn(n,gi);const i=Object.assign(Object.assign({},AG),t);return function(r){if(r.maxAttempts<1)throw new ke(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,c){const h=new tr;return r.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const p=yield function zL(n){return VD(n).then(e=>e.datastore)}(r);new x6(r.asyncQueue,p,c,o,h).run()})),h.promise}(ir(n),r=>e(new NG(n,r)),i)}(this._delegate,t=>e(new O2(this,t)))}batch(){return ir(this._delegate),new P2(new A2(this._delegate,e=>uv(this._delegate,e)))}loadBundle(e){return function Y6(n,e){const t=ir(n=yn(n,gi)),i=new H6;return function U6(n,e,t,i){const r=function(o,c){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,p=function(p,y){if(p instanceof Uint8Array)return GL(p,y);if(p instanceof ArrayBuffer)return GL(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new N6(p,c);var p}(t,Ww(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function S6(n,e,t){const i=nt(n);var r;(r=(0,_e.Z)(function*(o,c,h){try{const p=yield c.getMetadata();if(yield function(M,O){const B=nt(M),W=nr(O.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",J=>B.$s.getBundleMetadata(J,O.id)).then(J=>!!J&&J.createTime.compareTo(W)>=0)}(o.localStore,p))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(M=p).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);h._updateProgress(OL(p));const y=new o6(p,o.localStore,c.Tt);let C=yield c.yc();for(;C;){const M=yield y.Bu(C);M&&h._updateProgress(M),C=yield c.yc()}const I=yield y.complete();return yield Yd(o,I.Uu,void 0),yield function(M,O){const B=nt(M);return B.persistence.runTransaction("Save bundle","readwrite",W=>B.$s.saveBundleMetadata(W,O))}(o.localStore,p),h._completeWith(I.progress),Promise.resolve(I.qu)}catch(p){return jd("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var M}),function(o,c,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield dR(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Q6(n,e){return function B6(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,i){const r=nt(t);return r.persistence.runTransaction("Get named query","readonly",o=>r.$s.getNamedQuery(o,i))}(yield ZD(n),e)}))}(ir(n=yn(n,gi)),e).then(t=>t?new ss(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ks(this,t):null)}}class eI extends CR{constructor(e){super(),this.firestore=e}convertBytes(e){return new rC(new wc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ya.forKey(t,this.firestore,null)}}class O2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eI(e)}get(e){const t=Jg(e);return this._delegate.get(t).then(i=>new sC(this._firestore,new Jd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Jg(e);return i?(ER("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Jg(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Jg(e);return this._delegate.delete(t),this}}class P2{constructor(e){this._delegate=e}set(e,t,i){const r=Jg(e);return i?(ER("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=Jg(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=Jg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new iC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new oC(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Qg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new Qg(e,new eI(e),t),r.set(t,o)),o}}Qg.INSTANCES=new WeakMap;class Ya{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ya(t,new pi(t._delegate,i,new et(e)))}static forKey(e,t,i){return new Ya(t,new pi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new cv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cv(this.firestore,s2(this._delegate,e))}catch(t){throw zs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,k.m9)(e))instanceof pi&&o2(this._delegate,e)}set(e,t){t=ER("DocumentReference.set",t);try{return t?D2(this._delegate,e,t):D2(this._delegate,e)}catch(i){throw zs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?I2(this._delegate,e):I2(this._delegate,e,t,...i)}catch(r){throw zs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function EG(n){return uv(yn(n.firestore,gi),[new Wy(n._key,Ci.none())])}(this._delegate)}onSnapshot(...e){const t=k2(e),i=F2(e,r=>new sC(this.firestore,new Jd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return S2(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function vG(n){n=yn(n,pi);const e=yn(n.firestore,gi),t=ir(e),i=new Of(e);return function k6(n,e){const t=new tr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,o,c){try{const h=yield function(p,y){const C=nt(p);return C.persistence.runTransaction("read document","readonly",I=>C.localDocuments.getDocument(I,y))}(r,o);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new ke(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=iv(h,`Failed to get document '${o} from cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield ZD(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Jd(e,i,n._key,r,new Yg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function bG(n){n=yn(n,pi);const e=yn(n.firestore,gi);return KL(ir(e),n._key,{source:"server"}).then(t=>TR(e,n,t))}(this._delegate):function yG(n){n=yn(n,pi);const e=yn(n.firestore,gi);return KL(ir(e),n._key).then(t=>TR(e,n,t))}(this._delegate),t.then(i=>new sC(this.firestore,new Jd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ya(this.firestore,this._delegate.withConverter(e?Qg.getInstance(this.firestore,e):null))}}function zs(n,e,t){return n.message=n.message.replace(e,t),n}function k2(n){for(const e of n)if("object"==typeof e&&!DR(e))return e;return{}}function F2(n,e){var t,i;let r;return r=DR(n[0])?n[0]:DR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class sC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return E2(this._delegate,e._delegate)}}class oC extends sC{data(e){const t=this._delegate.data(e);return function Uk(n,e){n||ft()}(void 0!==t),t}}class Ks{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eI(e)}where(e,t,i){try{return new Ks(this.firestore,xf(this._delegate,function aG(n,e,t){const i=e,r=KD("where",n);return nC._create(r,i,t)}(e,t,i)))}catch(r){throw zs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ks(this.firestore,xf(this._delegate,function lG(n,e="asc"){const t=e,i=KD("orderBy",n);return wR._create(i,t)}(e,t)))}catch(i){throw zs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ks(this.firestore,xf(this._delegate,function uG(n){return t2("limit",n),YD._create("limit",n,"F")}(e)))}catch(t){throw zs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ks(this.firestore,xf(this._delegate,function cG(n){return t2("limitToLast",n),YD._create("limitToLast",n,"L")}(e)))}catch(t){throw zs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ks(this.firestore,xf(this._delegate,function dG(...n){return QD._create("startAt",n,!0)}(...e)))}catch(t){throw zs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ks(this.firestore,xf(this._delegate,function hG(...n){return QD._create("startAfter",n,!1)}(...e)))}catch(t){throw zs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ks(this.firestore,xf(this._delegate,function fG(...n){return JD._create("endBefore",n,!1)}(...e)))}catch(t){throw zs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ks(this.firestore,xf(this._delegate,function pG(...n){return JD._create("endAt",n,!0)}(...e)))}catch(t){throw zs(t,"endAt()","Query.endAt()")}}isEqual(e){return pR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function CG(n){n=yn(n,ss);const e=yn(n.firestore,gi),t=ir(e),i=new Of(e);return function F6(n,e){const t=new tr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,o,c){try{const h=yield RD(r,o,!0),p=new FL(o,h.Yi),y=p.Hu(h.documents),C=p.applyChanges(y,!1);c.resolve(C.snapshot)}catch(h){const p=iv(h,`Failed to execute query '${o} against cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield ZD(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Rf(e,i,n,r))}(this._delegate):"server"===e?.source?function TG(n){n=yn(n,ss);const e=yn(n.firestore,gi),t=ir(e),i=new Of(e);return YL(t,n._query,{source:"server"}).then(r=>new Rf(e,i,n,r))}(this._delegate):function wG(n){n=yn(n,ss);const e=yn(n.firestore,gi),t=ir(e),i=new Of(e);return _2(n._query),YL(t,n._query).then(r=>new Rf(e,i,n,r))}(this._delegate),t.then(i=>new IR(this.firestore,new Rf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=k2(e),i=F2(e,r=>new IR(this.firestore,new Rf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return S2(this._delegate,t,i)}withConverter(e){return new Ks(this.firestore,this._delegate.withConverter(e?Qg.getInstance(this.firestore,e):null))}}class ZG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new oC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ks(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new oC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ZG(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new oC(this._firestore,i))})}isEqual(e){return E2(this._delegate,e._delegate)}}class cv extends Ks{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ya(this.firestore,e):null}doc(e){try{return new Ya(this.firestore,void 0===e?jD(this._delegate):jD(this._delegate,e))}catch(t){throw zs(t,"doc()","CollectionReference.doc()")}}add(e){return function DG(n,e){const t=yn(n.firestore,gi),i=jD(n),r=XD(n.converter,e);return uv(t,[qD(zg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ci.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Ya(this.firestore,t))}isEqual(e){return o2(this._delegate,e._delegate)}withConverter(e){return new cv(this.firestore,this._delegate.withConverter(e?Qg.getInstance(this.firestore,e):null))}}function Jg(n){return yn(n,pi)}class SR{constructor(...e){this._delegate=new Qd(...e)}static documentId(){return new SR(fi.keyField().canonicalString())}isEqual(e){return(e=(0,k.m9)(e))instanceof Qd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function RG(){return new mR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Xg(e)}static delete(){const e=function xG(){return new Jw("deleteField")}();return e._methodName="FieldValue.delete",new Xg(e)}static arrayUnion(...e){const t=function OG(...n){return new nG("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xg(t)}static arrayRemove(...e){const t=function PG(...n){return new iG("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xg(t)}static increment(e){const t=function kG(n){return new rG("increment",n)}(e);return t._methodName="FieldValue.increment",new Xg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const HG={Firestore:R2,GeoPoint:GD,Timestamp:jn,Blob:rC,Transaction:O2,WriteBatch:P2,DocumentReference:Ya,DocumentSnapshot:sC,Query:Ks,QueryDocumentSnapshot:oC,QuerySnapshot:IR,CollectionReference:cv,FieldPath:SR,FieldValue:Xg,setLogLevel:function VG(n){!function Lk(n){hc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function GG(n){(function jG(n,e){n.INTERNAL.registerComponent(new na.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},HG)))})(n,(e,t)=>new R2(e,t,new BG)),n.registerVersion("@firebase/firestore-compat","0.3.5")}(Fp.Z);var tI=U(6451),nI=U(5363),$G=U(6063);class qG extends gn.x{constructor(e=1/0,t=1/0,i=$G.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;t||(i.push(e),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!e.closed;c+=i?1:2)e.next(o[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=t.now();let h=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)h=p;h&&i.splice(0,h+1)}}}var L2=U(3099);function U2(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,L2.B)({connector:()=>new qG(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function B2(n,e){return(0,br.m)(e)?On(()=>n,e):On(()=>n)}var AR=U(9468);const NR=new s.OlP("angularfire2.auth.use-emulator"),MR=new s.OlP("angularfire2.auth.settings"),xR=new s.OlP("angularfire2.auth.tenant-id"),RR=new s.OlP("angularfire2.auth.langugage-code"),OR=new s.OlP("angularfire2.auth.use-device-language"),PR=new s.OlP("angularfire.auth.persistence"),kR=(n,e,t,i,r,o,c,h)=>(0,bi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,o&&p.useDeviceLanguage(),c)for(const[y,C]of Object.entries(c))p.settings[y]=C;return h&&p.setPersistence(h),p},[t,i,r,o,c,h]);let iI=(()=>{class n{constructor(t,i,r,o,c,h,p,y,C,I,M,O){const B=new gn.x,W=dt(void 0).pipe((0,nI.Q)(c.outsideAngular),On(()=>o.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,8971)))),(0,Ke.U)(()=>(0,bi.on)(t,o,i)),(0,Ke.U)(J=>kR(J,o,h,y,C,I,p,M)),U2({bufferSize:1,refCount:!1}));if(Hi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=dt(null);else{W.pipe(ne()).subscribe();const Ie=W.pipe(On(Ue=>Ue.getRedirectResult().then(We=>We,()=>null)),mn.iC,U2({bufferSize:1,refCount:!1})),Fe=W.pipe(On(Ue=>new Un.y(We=>({unsubscribe:o.runOutsideAngular(()=>Ue.onAuthStateChanged(Xe=>We.next(Xe),Xe=>We.error(Xe),()=>We.complete()))})))),Le=W.pipe(On(Ue=>new Un.y(We=>({unsubscribe:o.runOutsideAngular(()=>Ue.onIdTokenChanged(Xe=>We.next(Xe),Xe=>We.error(Xe),()=>We.complete()))}))));this.authState=Ie.pipe(B2(Fe),(0,AR.R)(c.outsideAngular),(0,nI.Q)(c.insideAngular)),this.user=Ie.pipe(B2(Le),(0,AR.R)(c.outsideAngular),(0,nI.Q)(c.insideAngular)),this.idToken=this.user.pipe(On(Ue=>Ue?(0,fn.D)(Ue.getIdToken()):dt(null))),this.idTokenResult=this.user.pipe(On(Ue=>Ue?(0,fn.D)(Ue.getIdTokenResult()):dt(null))),this.credential=(0,tI.T)(Ie,B,this.authState.pipe(D(Ue=>!Ue))).pipe((0,Ke.U)(Ue=>Ue?.user?Ue:null),(0,AR.R)(c.outsideAngular),(0,nI.Q)(c.insideAngular))}return(0,bi.pX)(this,W,o,{spy:{apply:(J,Ie,Fe)=>{(J.startsWith("signIn")||J.startsWith("createUser"))&&Fe.then(Le=>B.next(Le))}}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(bi.Dh),s.LFG(bi.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(mn.HU),s.LFG(NR,8),s.LFG(MR,8),s.LFG(xR,8),s.LFG(RR,8),s.LFG(OR,8),s.LFG(PR,8),s.LFG(Od,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),zG=(()=>{class n{constructor(){W_.Z.registerVersion("angularfire",mn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[iI]}),n})();function V2(n,e){return function KG(n,e=Gh.z){return new Un.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function FR(n,e){return V2(n,e).pipe((0,Ke.U)(t=>({payload:t,type:"query"})))}function rI(n,e){return FR(n,e).pipe(zo(void 0),Sb(),(0,Ke.U)(([t,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const p=r.find(C=>C.doc.ref.isEqual(c.ref)),y=t?.payload.docs.find(C=>C.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),o}))}function Z2(n,e,t){return rI(n,t).pipe(Bt((i,r)=>function QG(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function JG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return LR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return LR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return LR(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),rc(),(0,Ke.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function LR(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function H2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class j2{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=rI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ke.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(zo(void 0),Sb(),D(([i,r])=>r.length>0||!i),(0,Ke.U)(([i,r])=>r),mn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Bt((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=H2(e);return Z2(this.query,t,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(e={}){return FR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),mn.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(mn.iC)}add(e){return this.ref.add(e)}doc(e){return new G2(this.ref.doc(e),this.afs)}}class G2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=$2(i,t);return new j2(r,o,this.afs)}snapshotChanges(){return function YG(n,e){return V2(n,e).pipe(zo(void 0),Sb(),(0,Ke.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ke.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fn.D)(this.ref.get(e)).pipe(mn.iC)}}class XG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?rI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),D(t=>t.length>0),mn.iC):rI(this.query,this.afs.schedulers.outsideAngular).pipe(mn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Bt((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=H2(e);return Z2(this.query,t,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(e={}){return FR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),mn.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(mn.iC)}}const e$=new s.OlP("angularfire2.enableFirestorePersistence"),t$=new s.OlP("angularfire2.firestore.persistenceSettings"),n$=new s.OlP("angularfire2.firestore.settings"),i$=new s.OlP("angularfire2.firestore.use-emulator");function $2(n,e=(t=>t)){return{query:e(n),ref:n}}let r$=(()=>{class n{constructor(t,i,r,o,c,h,p,y,C,I,M,O,B,W,J,Ie,Fe){this.schedulers=p;const Le=(0,bi.on)(t,h,i),Ue=C;I&&kR(Le,h,M,B,W,J,O,Ie),[this.firestore,this.persistenceEnabled$]=(0,bi.cc)(`${Le.name}.firestore`,"AngularFirestore",Le.name,()=>{const We=h.runOutsideAngular(()=>Le.firestore());if(o&&We.settings(o),Ue&&We.useEmulator(...Ue),r&&!Hi(c)){const Xe=()=>{try{return(0,fn.D)(We.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(jt){return typeof console<"u"&&console.warn(jt),dt(!1)}};return[We,h.runOutsideAngular(Xe)]}return[We,dt(!1)]},[o,Ue,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:c}=$2(r,i),h=this.schedulers.ngZone.run(()=>o);return new j2(h,c,this)}collectionGroup(t,i){const r=i||(c=>c),o=this.firestore.collectionGroup(t);return new XG(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new G2(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(bi.Dh),s.LFG(bi.xv,8),s.LFG(e$,8),s.LFG(n$,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(mn.HU),s.LFG(t$,8),s.LFG(i$,8),s.LFG(iI,8),s.LFG(NR,8),s.LFG(MR,8),s.LFG(xR,8),s.LFG(RR,8),s.LFG(OR,8),s.LFG(PR,8),s.LFG(Od,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),dv=(()=>{class n{constructor(t,i,r){this.http=t,this.storage=i,this.db=r,this.baseUri="https://prominent-backend.vercel.app/api/v1",this.editDataBehaviour=new en(null),this.filesArray=[],this.filterVallue=new en("null"),this.productDetailsBehaviour=new gn.x,this.productData=new en(null),this.producDataForHome=new en(null),this.headers=(new Ts).set("Content-Type","application/json")}getTeacherById(t){return this.http.get(`${this.baseUri}/teacher/get-teacher-by-id/${t}`).pipe(Je(this.errorMgmt))}addTeacher(t){return this.http.post(`${this.baseUri}/teacher/add-teacher`,t).pipe(Je(this.errorMgmt))}getTeacher(){return this.http.get(`${this.baseUri}/teacher/get-teacher`)}deleteTeacher(t){const i=new Ts;return this.http.delete(`${this.baseUri}/teacher/deleteteacher/${t}`,{headers:i}).pipe(Je(this.errorMgmt))}updateTeacher(t,i){return this.http.put(`${this.baseUri}/teacher/updateteacher/${t}`,i,{headers:this.headers}).pipe(Je(this.errorMgmt))}addBanner(t){return this.http.post(`${this.baseUri}/banner/add-banner`,t).pipe(Je(this.errorMgmt))}getBanner(){return this.http.get(`${this.baseUri}/banner/get-banner`)}deleteBanner(t){const i=new Ts;return this.http.delete(`${this.baseUri}/banner/deletebanner/${t}`,{headers:i}).pipe(Je(this.errorMgmt))}errorMgmt(t){let i="";return i=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(i),ur(i)}addResult(t){return this.http.post(`${this.baseUri}/result/add-result`,t).pipe(Je(this.errorMgmt))}getResult(){return this.http.get(`${this.baseUri}/result/get-result`)}deleteResult(t){const i=new Ts;return this.http.delete(`${this.baseUri}/result/deleteResult/${t}`,{headers:i}).pipe(Je(this.errorMgmt))}addGallery(t){return this.http.post(`${this.baseUri}/gallery/add-gallery`,t).pipe(Je(this.errorMgmt))}getGallery(){return this.http.get(`${this.baseUri}/gallery/get-gallery`)}deleteGallery(t){const i=new Ts;return this.http.delete(`${this.baseUri}/gallery/deletegallery/${t}`,{headers:i}).pipe(Je(this.errorMgmt))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(F1),s.LFG(Ib),s.LFG(r$))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function s$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._UZ(4,"img",5),s.qZA(),s.TgZ(5,"td")(6,"i",6),s.NdJ("click",function(){const o=s.CHM(t).$implicit,c=s.oxw(2);return s.KtG(c.deleteBanner(o))}),s.qZA()()()}if(2&n){const t=e.$implicit,i=e.index;s.xp6(2),s.Oqu(i+1),s.xp6(2),s.Q6J("src",t.fireBaseUrl,s.LSH)}}function o$(n,e){if(1&n&&(s.TgZ(0,"div")(1,"h1"),s._uU(2," Banner table "),s.qZA(),s.TgZ(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),s._uU(7,"SoNo"),s.qZA(),s.TgZ(8,"th",3),s._uU(9,"Image"),s.qZA(),s.TgZ(10,"th",3),s._uU(11,"Action"),s.qZA()()(),s.TgZ(12,"tbody"),s.YNc(13,s$,7,2,"tr",4),s.qZA()()()),2&n){const t=s.oxw();s.xp6(13),s.Q6J("ngForOf",t.bannerData)}}function a$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"tr")(1,"th",8),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._UZ(4,"img",9),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td")(12,"i",10),s.NdJ("click",function(){const o=s.CHM(t).$implicit,c=s.oxw(2);return s.KtG(c.edit(o))}),s.qZA(),s._uU(13,"\xa0\xa0\xa0"),s.TgZ(14,"i",6),s.NdJ("click",function(){const o=s.CHM(t).$implicit,c=s.oxw(2);return s.KtG(c.delete(o))}),s.qZA()()()}if(2&n){const t=e.$implicit,i=e.index;s.xp6(2),s.Oqu(i+1),s.xp6(2),s.Q6J("src",t.fireBaseUrl,s.LSH),s.xp6(2),s.Oqu(t.name),s.xp6(2),s.Oqu(t.description),s.xp6(2),s.Oqu(t.position)}}function l$(n,e){if(1&n&&(s.TgZ(0,"div")(1,"h1"),s._uU(2," Teacher Table "),s.qZA(),s.TgZ(3,"table",1)(4,"thead",7)(5,"tr")(6,"th",3),s._uU(7,"So No"),s.qZA(),s.TgZ(8,"th",3),s._uU(9,"Image"),s.qZA(),s.TgZ(10,"th",3),s._uU(11,"Name"),s.qZA(),s.TgZ(12,"th",3),s._uU(13,"Description"),s.qZA(),s.TgZ(14,"th",3),s._uU(15,"Position"),s.qZA(),s.TgZ(16,"th",3),s._uU(17,"Action"),s.qZA()()(),s.TgZ(18,"tbody"),s.YNc(19,a$,15,5,"tr",4),s.qZA()()()),2&n){const t=s.oxw();s.xp6(19),s.Q6J("ngForOf",t.teacherData)}}function u$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._UZ(4,"img",5),s.qZA(),s.TgZ(5,"td")(6,"i",6),s.NdJ("click",function(){const o=s.CHM(t).$implicit,c=s.oxw(2);return s.KtG(c.deleteResult(o))}),s.qZA()()()}if(2&n){const t=e.$implicit,i=e.index;s.xp6(2),s.Oqu(i+1),s.xp6(2),s.Q6J("src",t.fireBaseUrl,s.LSH)}}function c$(n,e){if(1&n&&(s.TgZ(0,"div")(1,"h1"),s._uU(2," Result table "),s.qZA(),s.TgZ(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),s._uU(7,"SoNo"),s.qZA(),s.TgZ(8,"th",3),s._uU(9,"Image"),s.qZA(),s.TgZ(10,"th",3),s._uU(11,"Action"),s.qZA()()(),s.TgZ(12,"tbody"),s.YNc(13,u$,7,2,"tr",4),s.qZA()()()),2&n){const t=s.oxw();s.xp6(13),s.Q6J("ngForOf",t.resultData)}}function d$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._UZ(4,"img",5),s.qZA(),s.TgZ(5,"td")(6,"i",6),s.NdJ("click",function(){const o=s.CHM(t).$implicit,c=s.oxw(2);return s.KtG(c.deleteGallery(o))}),s.qZA()()()}if(2&n){const t=e.$implicit,i=e.index;s.xp6(2),s.Oqu(i+1),s.xp6(2),s.Q6J("src",t.fireBaseUrl,s.LSH)}}function h$(n,e){if(1&n&&(s.TgZ(0,"div")(1,"h1"),s._uU(2," Gallery table "),s.qZA(),s.TgZ(3,"table",1)(4,"thead",2)(5,"tr")(6,"th",3),s._uU(7,"SoNo"),s.qZA(),s.TgZ(8,"th",3),s._uU(9,"Image"),s.qZA(),s.TgZ(10,"th",3),s._uU(11,"Action"),s.qZA()()(),s.TgZ(12,"tbody"),s.YNc(13,d$,7,2,"tr",4),s.qZA()()()),2&n){const t=s.oxw();s.xp6(13),s.Q6J("ngForOf",t.galleryData)}}let aC=(()=>{class n{constructor(t,i,r){this.adminSer=t,this.router=i,this.route=r,this.isTeacher=!1,this.isBanner=!1,this.isResult=!1,this.isGallery=!1}ngOnInit(){"/teacher-list"==this.router.url&&(this.isTeacher=!0,this.isBanner=!1,this.isResult=!1,this.isGallery=!1,this.getTeachersData()),"/banner-list"==this.router.url&&(this.isTeacher=!1,this.isBanner=!0,this.isResult=!1,this.isGallery=!1,this.getBannerData()),"/result-list"==this.router.url&&(this.isTeacher=!1,this.isBanner=!1,this.isResult=!0,this.isGallery=!1,this.getResult()),"/gallery-list"==this.router.url&&(this.isTeacher=!1,this.isBanner=!1,this.isResult=!1,this.isGallery=!0,this.getGalleryData())}getTeachersData(){this.adminSer.getTeacher().subscribe(t=>{this.teacherData=t})}getBannerData(){this.adminSer.getBanner().subscribe(t=>{this.bannerData=t})}getGalleryData(){this.adminSer.getGallery().subscribe(t=>{this.galleryData=t})}delete(t){alert("Are you sure you want to delete this image?"),this.adminSer.deleteTeacher(t._id).subscribe(i=>{this.getTeachersData()})}deleteGallery(t){alert("Are you sure you want to delete this gallery?"),this.adminSer.deleteGallery(t._id).subscribe(i=>{this.getGalleryData()})}edit(t){this.adminSer.editDataBehaviour.next(t),this.router.navigateByUrl("/admin")}deleteBanner(t){alert("Are you sure you want to delete this image?"),this.adminSer.deleteBanner(t._id).subscribe(i=>{this.getBannerData()})}getResult(){this.adminSer.getResult().subscribe(t=>{this.resultData=t})}deleteResult(t){alert("Are you sure you want to delete this image?"),this.adminSer.deleteResult(t._id).subscribe(i=>{this.getResult()})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(dv),s.Y36(Hn),s.Y36(mo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-admin-table"]],decls:4,vars:4,consts:[[4,"ngIf"],[1,"table"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],["height","60px","width","60px",3,"src"],["aria-hidden","true",1,"fa","fa-trash",3,"click"],[1,"thead-light"],["scope","row"],["height","30px","width","30px",3,"src"],[1,"fa","fa-edit",3,"click"]],template:function(t,i){1&t&&(s.YNc(0,o$,14,1,"div",0),s.YNc(1,l$,20,1,"div",0),s.YNc(2,c$,14,1,"div",0),s.YNc(3,h$,14,1,"div",0)),2&t&&(s.Q6J("ngIf",i.isBanner),s.xp6(1),s.Q6J("ngIf",i.isTeacher),s.xp6(1),s.Q6J("ngIf",i.isResult),s.xp6(1),s.Q6J("ngIf",i.isGallery))},dependencies:[Ln,nn]}),n})();class sI{constructor(){this.fireBaseUrl=""}}class UR{constructor(){this.fireBaseUrl="",this.name="",this.description="",this.position=0}}class f${constructor(){this.fireBaseUrl=""}}const q2="primary";class lC{constructor(e){Object.assign(this,e)}static create(e){return!e?.template&&(null==e?.type||0===e.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new lC(e)}}let _$=(()=>{class n{constructor(){this.spinnerObservable=new en(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(D(i=>i&&i.name===t))}show(t=q2,i){return new Promise((r,o)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=t,this.spinnerObservable.next(new lC({...i,show:!0})),r(!0)):(this.spinnerObservable.next(new lC({name:t,show:!0})),r(!0))},10)})}hide(t=q2,i=10){return new Promise((r,o)=>{setTimeout(()=>{this.spinnerObservable.next(new lC({name:t,show:!1})),r(!0)},i)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y$=new s.OlP("NGX_SPINNER_CONFIG");let v$=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:y$,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ga]}),n})(),W2=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),em=(()=>{class n extends W2{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Ao=new s.OlP("NgValueAccessor"),C$={provide:Ao,useExisting:(0,s.Gpc)(()=>oI),multi:!0},E$=new s.OlP("CompositionEventMode");let oI=(()=>{class n extends W2{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function T$(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(E$,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([C$]),s.qOj]}),n})();const os=new s.OlP("NgValidators"),Ff=new s.OlP("NgAsyncValidators");function rU(n){return null!=n}function sU(n){return(0,s.QGY)(n)?(0,fn.D)(n):n}function oU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function aU(n,e){return e.map(t=>t(n))}function lU(n){return n.map(e=>function S$(n){return!n.validate}(e)?e:t=>e.validate(t))}function BR(n){return null!=n?function uU(n){if(!n)return null;const e=n.filter(rU);return 0==e.length?null:function(t){return oU(aU(t,e))}}(lU(n)):null}function VR(n){return null!=n?function cU(n){if(!n)return null;const e=n.filter(rU);return 0==e.length?null:function(t){return function b$(...n){const e=(0,vr.jO)(n),{args:t,keys:i}=El(n),r=new Un.y(o=>{const{length:c}=t;if(!c)return void o.complete();const h=new Array(c);let p=c,y=c;for(let C=0;C<c;C++){let I=!1;(0,lr.Xf)(t[C]).subscribe((0,In.x)(o,M=>{I||(I=!0,y--),h[C]=M},()=>p--,void 0,()=>{(!p||!I)&&(y||o.next(i?Na(i,h):h),o.complete())}))}});return e?r.pipe(Aa(e)):r}(aU(t,e).map(sU)).pipe((0,Ke.U)(oU))}}(lU(n)):null}function dU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ZR(n){return n?Array.isArray(n)?n:[n]:[]}function lI(n,e){return Array.isArray(n)?n.includes(e):n===e}function pU(n,e){const t=ZR(e);return ZR(n).forEach(r=>{lI(t,r)||t.push(r)}),t}function gU(n,e){return ZR(e).filter(t=>!lI(n,t))}class mU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=VR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ys extends mU{get formDirective(){return null}get path(){return null}}class Lf extends mU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _U{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yU=(()=>{class n extends _U{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Lf,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),vU=(()=>{class n extends _U{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ys,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const uC="VALID",cI="INVALID",hv="PENDING",cC="DISABLED";function $R(n){return(dI(n)?n.validators:n)||null}function wU(n){return Array.isArray(n)?BR(n):n||null}function qR(n,e){return(dI(e)?e.asyncValidators:n)||null}function CU(n){return Array.isArray(n)?VR(n):n||null}function dI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class DU{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=wU(this._rawValidators),this._composedAsyncValidatorFn=CU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===uC}get invalid(){return this.status===cI}get pending(){return this.status==hv}get disabled(){return this.status===cC}get enabled(){return this.status!==cC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=wU(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=CU(e)}addValidators(e){this.setValidators(pU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gU(e,this._rawAsyncValidators))}hasValidator(e){return lI(this._rawValidators,e)}hasAsyncValidator(e){return lI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cC,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uC,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uC||this.status===hv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cC:uC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hv,this._hasOwnPendingAsyncValidator=!0;const t=sU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?cC:this.errors?cI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hv)?hv:this._anyControlsHaveStatus(cI)?cI:uC}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class WR extends DU{constructor(e,t,i){super($R(t),qR(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function EU(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new s.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function TU(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[t])throw new s.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function dC(n,e){zR(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function F$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&IU(n,e)})}(n,e),function U$(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function L$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&IU(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function k$(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function pI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zR(n,e){const t=function hU(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(dU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function fU(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(dU(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();pI(e._rawValidators,r),pI(e._rawAsyncValidators,r)}function IU(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const j$={provide:Ys,useExisting:(0,s.Gpc)(()=>mI)},hC=(()=>Promise.resolve())();let mI=(()=>{class n extends Ys{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new WR({},BR(t),VR(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){hC.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),dC(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){hC.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){hC.then(()=>{const i=this._findContainer(t.path),r=new WR({});(function SU(n,e){zR(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){hC.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){hC.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function NU(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(os,10),s.Y36(Ff,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([j$]),s.qOj]}),n})();function MU(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function xU(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const RU=class extends DU{constructor(e=null,t,i){super($R(t),qR(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=xU(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){MU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){MU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){xU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},q$={provide:Lf,useExisting:(0,s.Gpc)(()=>QR)},kU=(()=>Promise.resolve())();let QR=(()=>{class n extends Lf{constructor(t,i,r,o,c){super(),this._changeDetectorRef=c,this.control=new RU,this._registered=!1,this.update=new s.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function YR(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===oI?t=o:function Z$(n){return Object.getPrototypeOf(n.constructor)===em}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function KR(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){dC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){kU.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);kU.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function hI(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ys,9),s.Y36(os,10),s.Y36(Ff,10),s.Y36(Ao,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([q$]),s.qOj,s.TTD]}),n})(),FU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const W$={provide:Ao,useExisting:(0,s.Gpc)(()=>JR),multi:!0};let JR=(()=>{class n extends em{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&s.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([W$]),s.qOj]}),n})(),LU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),mq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[LU]}),n})(),_q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mq]}),n})();function vq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"section")(1,"div",0)(2,"div",5)(3,"h3"),s._uU(4,"Banner Form"),s.qZA()(),s.TgZ(5,"div",6)(6,"button",7),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.bannerRedire())}),s._uU(7,"Banner"),s.qZA()()(),s.TgZ(8,"div")(9,"form")(10,"label",8),s._uU(11,"Add banner image"),s.qZA(),s.TgZ(12,"input",9),s.NdJ("change",function(r){s.CHM(t);const o=s.oxw();return s.KtG(o.onbannerFileChange(r))}),s.qZA(),s.TgZ(13,"button",10),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.onSubmitBanner())}),s._uU(14,"Save"),s.qZA()()()()}}function bq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(){s.CHM(t);const r=s.oxw(2);return s.KtG(r.onUpdateTecher())}),s._uU(1,"Update"),s.qZA()}}function wq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(){s.CHM(t);const r=s.oxw(2);return s.KtG(r.onSubmitTecher())}),s._uU(1,"Save"),s.qZA()}}const sO=function(){return{standalone:!0}};function Cq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"section")(1,"div",0)(2,"div",5)(3,"h3"),s._uU(4,"Teacher Form"),s.qZA()(),s.TgZ(5,"div",6)(6,"button",7),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.TeacherRedire())}),s._uU(7,"Teacher List"),s.qZA()()(),s.TgZ(8,"form")(9,"label",8),s._uU(10,"Teacher's Name"),s.qZA(),s.TgZ(11,"input",11),s.NdJ("ngModelChange",function(r){s.CHM(t);const o=s.oxw();return s.KtG(o.TeacherFormModel.name=r)}),s.qZA(),s.TgZ(12,"label",12),s._uU(13,"Description"),s.qZA(),s.TgZ(14,"input",13),s.NdJ("ngModelChange",function(r){s.CHM(t);const o=s.oxw();return s.KtG(o.TeacherFormModel.description=r)}),s.qZA(),s.TgZ(15,"label",12),s._uU(16,"Position"),s.qZA(),s.TgZ(17,"input",14),s.NdJ("ngModelChange",function(r){s.CHM(t);const o=s.oxw();return s.KtG(o.TeacherFormModel.position=r)}),s.qZA(),s.TgZ(18,"label",15),s._uU(19,"Uplaod Image"),s.qZA(),s.TgZ(20,"input",16),s.NdJ("change",function(r){s.CHM(t);const o=s.oxw();return s.KtG(o.onTeacherFileChange(r))}),s.qZA(),s.YNc(21,bq,2,0,"button",17),s.YNc(22,wq,2,0,"button",17),s.qZA(),s._UZ(23,"div"),s.qZA()}if(2&n){const t=s.oxw();s.xp6(11),s.Q6J("ngModel",t.TeacherFormModel.name)("ngModelOptions",s.DdM(8,sO)),s.xp6(3),s.Q6J("ngModel",t.TeacherFormModel.description)("ngModelOptions",s.DdM(9,sO)),s.xp6(3),s.Q6J("ngModel",t.TeacherFormModel.position)("ngModelOptions",s.DdM(10,sO)),s.xp6(4),s.Q6J("ngIf",t.isUpdate),s.xp6(1),s.Q6J("ngIf",!t.isUpdate)}}function Tq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"section")(1,"div",0)(2,"div",5)(3,"h3"),s._uU(4,"Result Form"),s.qZA()(),s.TgZ(5,"div",6)(6,"button",7),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.ResultRedire())}),s._uU(7,"Result"),s.qZA()()(),s.TgZ(8,"div")(9,"form")(10,"label",8),s._uU(11,"Add Result image"),s.qZA(),s.TgZ(12,"input",9),s.NdJ("change",function(r){s.CHM(t);const o=s.oxw();return s.KtG(o.onResultFileChange(r))}),s.qZA(),s.TgZ(13,"button",10),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.onSubmitResult())}),s._uU(14,"Save"),s.qZA()()()()}}function Eq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"section")(1,"div",0)(2,"div",5)(3,"h3"),s._uU(4,"Gallery Form"),s.qZA()(),s.TgZ(5,"div",6)(6,"button",7),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.galleryRedire())}),s._uU(7,"Gallery"),s.qZA()()(),s.TgZ(8,"div")(9,"form")(10,"label",8),s._uU(11,"Add Gallery image"),s.qZA(),s.TgZ(12,"input",9),s.NdJ("change",function(r){s.CHM(t);const o=s.oxw();return s.KtG(o.onGalleryFileChange(r))}),s.qZA(),s.TgZ(13,"button",10),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.onGalleryResult())}),s._uU(14,"Save"),s.qZA()()()()}}function Dq(n,e){1&n&&(s.TgZ(0,"div",18)(1,"div",19)(2,"span",20),s._uU(3,"Loading..."),s.qZA()()())}let Iq=(()=>{class n{constructor(t,i,r,o){this.storage=t,this.adminSer=i,this.router=r,this.SpinnerService=o,this.TeacherFormModel=new UR,this.isLoader=!1,this.bannerFormModal=new sI,this.ResultFormModal=new f$,this.isTeacher=!1,this.isBanner=!1,this.isResult=!1,this.isGallery=!1,this.isUpdate=!1}ngOnInit(){this.adminSer.editDataBehaviour.subscribe(t=>{t&&(this.isUpdate=!0,this.isTeacher=!0,this.GlobalId=t._id,this.TeacherFormModel=t)})}onbannerFileChange(t){this.isLoader=!0;var i=Date.now();const r=t.target.files[0],c=this.storage.ref(`banner/${i}`);this.storage.upload(`banner/${i}`,r).snapshotChanges().pipe(vs(()=>{this.downloadURL=c.getDownloadURL(),this.downloadURL.subscribe(p=>{p&&(this.fb=p,this.isLoader=!1)})})).subscribe(p=>{p&&console.log(p)})}onTeacherFileChange(t){this.isLoader=!0;var i=Date.now();const r=t.target.files[0],c=this.storage.ref(`teacher/${i}`);this.storage.upload(`teacher/${i}`,r).snapshotChanges().pipe(vs(()=>{this.downloadURL=c.getDownloadURL(),this.downloadURL.subscribe(p=>{p&&(this.tb=p,this.isLoader=!1)})})).subscribe(p=>{p&&console.log(p)})}onSubmitBanner(){this.fb&&this.adminSer.addBanner({fireBaseUrl:this.fb}).subscribe(i=>{alert("Banner added Successfully"),this.router.navigateByUrl("/banner-list"),this.bannerFormModal=new sI})}onSubmitTecher(){this.tb&&this.adminSer.addTeacher({name:this.TeacherFormModel.name,fireBaseUrl:this.tb,description:this.TeacherFormModel.description,position:this.TeacherFormModel.position}).subscribe(i=>{alert("Teacher added Successfully"),this.router.navigateByUrl("/teacher-list"),this.TeacherFormModel=new UR})}onUpdateTecher(){this.adminSer.updateTeacher(this.GlobalId,this.TeacherFormModel).subscribe(t=>{this.TeacherFormModel=new UR})}showTecher(){this.isTeacher=!this.isTeacher,this.isBanner=!1,this.isResult=!1,this.isGallery=!1}showBanner(){this.isTeacher=!1,this.isBanner=!this.isBanner,this.isResult=!1,this.isGallery=!1}showResult(){this.isTeacher=!1,this.isBanner=!1,this.isGallery=!1,this.isResult=!this.isResult}showGallery(){this.isGallery=!this.isGallery,this.isTeacher=!1,this.isBanner=!1,this.isResult=!1}bannerRedire(){this.router.navigateByUrl("/banner-list")}TeacherRedire(){this.router.navigateByUrl("/teacher-list")}ResultRedire(){this.router.navigateByUrl("/result-list")}galleryRedire(){this.router.navigateByUrl("/gallery-list")}onResultFileChange(t){this.isLoader=!0;var i=Date.now();const r=t.target.files[0],c=this.storage.ref(`result/${i}`);this.storage.upload(`result/${i}`,r).snapshotChanges().pipe(vs(()=>{this.downloadURL=c.getDownloadURL(),this.downloadURL.subscribe(p=>{p&&(this.rb=p,this.isLoader=!1)})})).subscribe(p=>{p&&console.log(p)})}onSubmitResult(){this.rb&&this.adminSer.addResult({fireBaseUrl:this.rb}).subscribe(i=>{alert("Result image added Successfully"),this.router.navigateByUrl("/result-list"),this.ResultFormModal=new sI})}onGalleryFileChange(t){this.isLoader=!0;var i=Date.now();const r=t.target.files[0],c=this.storage.ref(`gallery/${i}`);this.storage.upload(`gallery/${i}`,r).snapshotChanges().pipe(vs(()=>{this.downloadURL=c.getDownloadURL(),this.downloadURL.subscribe(p=>{p&&(this.gb=p,this.isLoader=!1)})})).subscribe(p=>{p&&console.log(p)})}onGalleryResult(){this.gb&&this.adminSer.addGallery({fireBaseUrl:this.gb}).subscribe(i=>{alert("Result image added Successfully"),this.router.navigateByUrl("/gallery-list"),this.ResultFormModal=new sI})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ib),s.Y36(dv),s.Y36(Hn),s.Y36(_$))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-admin"]],decls:19,vars:5,consts:[[1,"row"],[1,"col-sm-3"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"col-sm-8"],[1,"col-sm-4"],[1,"btn","btn-success",3,"click"],["for","fname"],["type","file",3,"change"],["type","submit","value","Submit",1,"btn","btn-success",3,"click"],["type","text","placeholder","Your name..",3,"ngModel","ngModelOptions","ngModelChange"],["for","lname"],["type","text","placeholder","Your last name..",3,"ngModel","ngModelOptions","ngModelChange"],["type","number","placeholder","Your last name..",3,"ngModel","ngModelOptions","ngModelChange"],["for","country"],["type","file","placeholder","Your last name..",3,"change"],["type","submit","class","btn btn-success","value","Submit",3,"click",4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border","text-success"],[1,"sr-only"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return i.showTecher()}),s._uU(3,"Teacher"),s.qZA()(),s.TgZ(4,"div",1)(5,"button",2),s.NdJ("click",function(){return i.showBanner()}),s._uU(6,"Banner"),s.qZA()(),s.TgZ(7,"div",1)(8,"button",2),s.NdJ("click",function(){return i.showResult()}),s._uU(9,"Result"),s.qZA()(),s.TgZ(10,"div",1)(11,"button",2),s.NdJ("click",function(){return i.showGallery()}),s._uU(12,"Gallery"),s.qZA()()(),s.YNc(13,vq,15,0,"section",3),s._UZ(14,"br"),s.YNc(15,Cq,24,11,"section",3),s.YNc(16,Tq,15,0,"section",3),s.YNc(17,Eq,15,0,"section",3),s.YNc(18,Dq,4,0,"div",4)),2&t&&(s.xp6(13),s.Q6J("ngIf",i.isBanner),s.xp6(2),s.Q6J("ngIf",i.isTeacher),s.xp6(1),s.Q6J("ngIf",i.isResult),s.xp6(1),s.Q6J("ngIf",i.isGallery),s.xp6(1),s.Q6J("ngIf",i.isLoader))},dependencies:[nn,FU,oI,JR,yU,vU,QR,mI],styles:["input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}input[type=submit][_ngcontent-%COMP%]{width:100%;background-color:#4caf50;color:#fff;padding:14px 20px;margin:8px 0;border:none;border-radius:4px;cursor:pointer}input[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}div[_ngcontent-%COMP%]{border-radius:5px;background-color:#f2f2f2;padding:20px}"]}),n})(),Sq=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-aout"]],decls:98,vars:0,consts:[[1,"all-title-box"],[1,"container","text-center"],["id","overviews",1,"section","lb"],[1,"container"],[1,"section-title","row","text-center"],[1,"col-md-8","offset-md-2"],[1,"row","align-items-center"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12"],[1,"message-box"],[1,"post-media","wow","fadeIn"],["src","../../assets/pro/about1.jpeg","alt","Prominent academy about us image",1,"img-fluid","img-rounded"],["src","../../assets/pro/about2.jpeg","alt","Prominent academy about us image",1,"img-fluid","img-rounded"],[1,"hmv-box"],[1,"row"],[2,"text-align","center"],[1,"col-lg-4","col-md-6","col-12"],[1,"inner-hmv"],[1,"icon-box-hmv"],[1,"flaticon-achievement"],[1,"tr-pa"],[1,"flaticon-eye"],[1,"flaticon-history"],[1,"parallax","section","dbcolor"],[1,"row","logos"],[1,"col-md-2","col-sm-2","col-xs-6","wow","fadeInUp"],["href","#"],["src","images/logo_01.png","alt","",1,"img-repsonsive"],["src","images/logo_02.png","alt","",1,"img-repsonsive"],["src","images/logo_03.png","alt","",1,"img-repsonsive"],["src","images/logo_04.png","alt","",1,"img-repsonsive"],["src","images/logo_05.png","alt","",1,"img-repsonsive"],["src","images/logo_06.png","alt","",1,"img-repsonsive"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1"),s._uU(3,"About Us "),s.qZA()()(),s.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"h3"),s._uU(9,"About Us"),s.qZA()()(),s.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"h4"),s._uU(14,"2023 BEST CA/CS/CMA Coaching Center"),s.qZA(),s.TgZ(15,"h2"),s._uU(16,"Welcome to Prominent Academy (Sumit Arora Classes)"),s.qZA(),s.TgZ(17,"p"),s._uU(18,"Chartered Accountants are highly demanded professionals in industry & are handsomely paid. Many students strive for getting proper guidance and coaching. Prominent Academy is dealing in CA, CS and CMA Courses with professional expertise team and with these courses we also develop child overall personality. "),s.qZA(),s.TgZ(19,"p"),s._uU(20," Chartered accountants are considered as the partner in nation building. Prominent Academy provides the best education and guidance to the CA Students. Prominent Academy was founded by CA SUMIT ARORA. "),s.qZA(),s.TgZ(21,"p"),s._uU(22," Students achieve excellent and progressive academic results year on year. The dedication of our faculty and the keen interest exhibited by our students has produced a commendable academic record with ranks every year in various batches.\n"),s.qZA(),s.TgZ(23,"p"),s._uU(24," We believe that discipline is the bridge between goals and accomplishment, in that way we are consistently able to achieve victory every year. We are proud of the continuous dedication and hardwork of faculties and students witness every academic period.\n"),s.qZA()()(),s.TgZ(25,"div",7)(26,"div",9),s._UZ(27,"img",10),s.qZA()()(),s.TgZ(28,"div",6)(29,"div",7)(30,"div",9),s._UZ(31,"img",11),s.qZA()(),s.TgZ(32,"div",7)(33,"div",8)(34,"h2"),s._uU(35,"Teaching Style"),s.qZA(),s.TgZ(36,"p"),s._uU(37,"Our lectures are designed to make learning easier and more efficient. We believe in educating with the aim to provide conceptual clarity which helps students to ace the CA exams. Our Pendrive classes are unique and thoroughly cover the material to ensure that you are ready for your exam attempt."),s.qZA(),s.TgZ(38,"h2"),s._uU(39,"ICAI Study Material"),s.qZA(),s.TgZ(40,"p"),s._uU(41," ICAI\u2019s study material is the most important study material issued by ICAI. 90% of the questions of Final Examinations are framed from the study material issued by ICAI. Our notes, conceptual explanations, test papers, everything revolves around the ICAI study material so as to make the students familiar with it which will further help them in scoring better marks."),s.qZA()()()()()(),s.TgZ(42,"div",12)(43,"div",3)(44,"div",13)(45,"h2",14),s._uU(46,"WHY STUDENT SHOULD JOIN PROMINENT ACADEMY?"),s.qZA(),s.TgZ(47,"div",15)(48,"div",16)(49,"div",17),s._UZ(50,"i",18),s.qZA(),s.TgZ(51,"h3"),s._uU(52,"Result Oriented"),s.qZA(),s.TgZ(53,"div",19),s._uU(54,"M"),s.qZA(),s.TgZ(55,"p"),s._uU(56,"Prominent Academy is one of the best and leading coaching classes. We are committed to providing quality education providing in-depth knowledge of all the subjects of CA, CS, and CMA. Our teaching methodology makes us no. 1 institute in Kalka ji,Shekh Sarai , MadanGiri Delhi."),s.qZA()()(),s.TgZ(57,"div",15)(58,"div",16)(59,"div",17),s._UZ(60,"i",20),s.qZA(),s.TgZ(61,"h3"),s._uU(62,"Proper Environment"),s.qZA(),s.TgZ(63,"div",19),s._uU(64,"V"),s.qZA(),s.TgZ(65,"p"),s._uU(66,"Study environment means the physical, psychological and social circumstances that are of significance for the students' well-being and how they function in their study situation. At Prominent Academy we provide stress free environment so that student can well focus on their study."),s.qZA()()(),s.TgZ(67,"div",15)(68,"div",16)(69,"div",17),s._UZ(70,"i",21),s.qZA(),s.TgZ(71,"h3"),s._uU(72,"Eexperinced Faculty"),s.qZA(),s.TgZ(73,"div",19),s._uU(74,"H"),s.qZA(),s.TgZ(75,"p"),s._uU(76,"TThe faculties of Prominent Academy are qualified CA/CS/CMA. We provide empty classroom for students to study. All faculties are young, energetic and experienced in their subjects and always ready to help students even after class through watsapp message, text messages."),s.qZA()()()()()(),s.TgZ(77,"div",22)(78,"div",3)(79,"div",23)(80,"div",24)(81,"a",25),s._UZ(82,"img",26),s.qZA()(),s.TgZ(83,"div",24)(84,"a",25),s._UZ(85,"img",27),s.qZA()(),s.TgZ(86,"div",24)(87,"a",25),s._UZ(88,"img",28),s.qZA()(),s.TgZ(89,"div",24)(90,"a",25),s._UZ(91,"img",29),s.qZA()(),s.TgZ(92,"div",24)(93,"a",25),s._UZ(94,"img",30),s.qZA()(),s.TgZ(95,"div",24)(96,"a",25),s._UZ(97,"img",31),s.qZA()()()()())}}),n})();function Aq(n,e){1&n&&(s.TgZ(0,"h1"),s._uU(1,"CSEET COURSE"),s.qZA())}function Nq(n,e){1&n&&(s.TgZ(0,"h1"),s._uU(1,"CS EXECUTIVE COURSE"),s.qZA())}function Mq(n,e){1&n&&(s.TgZ(0,"h1"),s._uU(1,"CS PROFESSIONAL COURSE"),s.qZA())}function xq(n,e){1&n&&(s.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),s._UZ(4,"img",19),s.qZA(),s.TgZ(5,"div",20)(6,"div",21)(7,"h2"),s._uU(8,"CSEET COURSE"),s.qZA()(),s.TgZ(9,"div",22)(10,"p"),s._uU(11," The profession of chartered accountants need a higher degree of dedication. We ensure that you receive the best content while also making you feel at ease with the dedicated hard work. We also provides online classes \u2013 Engaging videos lectures, Active doubt sessions and test papers.. Prominent Academy is the best coaching centre in Kalkaji.. As we provide classes by renowned faculties. "),s.qZA()(),s.TgZ(12,"div")(13,"h4"),s._uU(14," About CS Foundation "),s.qZA(),s.TgZ(15,"div")(16,"ul")(17,"li"),s._uU(18," Student passed / appearing in the Intermediate Examination or equivalent is eligible to appear in the CSEET. "),s.qZA(),s.TgZ(19,"li"),s._uU(20," All Graduates/ Post Graduates student who were eligible for registration directly to CS Executive Programme, are also required to pass the CSEET to become eligible for registration to Executive Programme. "),s.qZA(),s.TgZ(21,"li"),s._uU(22," Exam Will be Computer Based Test, Objective Type / Multiple Choice Questions, (+) viva-voce for testing listening, written communication and oral communication skills. "),s.qZA(),s.TgZ(23,"li"),s._uU(24," Exam duration will be 120 minutes and viva-voce on Presentation and Communication Skills of 15 Minutes. "),s.qZA()()()(),s.TgZ(25,"blockquote",23)(26,"h4"),s._uU(27," Eligibility "),s.qZA(),s._uU(28," Student passed / appearing in the Intermediate Examination or equivalent is eligible to appear in the CSEET. All Graduates/ Post Graduates student who were eligible for registration directly to CS Executive Programme, are also required to pass the CSEET to become eligible for registration to Executive Programme. "),s.qZA(),s.TgZ(29,"div")(30,"h3"),s._uU(31,"Subjects for CSEET Course"),s.qZA(),s.TgZ(32,"div")(33,"p"),s._uU(34,"Number of paper: "),s.TgZ(35,"b"),s._uU(36,"four"),s.qZA()(),s.TgZ(37,"p"),s._uU(38," Paper 1: BUSINESS COMMUNICATION "),s.qZA(),s.TgZ(39,"p"),s._uU(40," Paper 2: Business Law & Business Correspondence and Reporting (100 Marks) "),s.qZA(),s.TgZ(41,"p"),s._uU(42," Paper 3: LEGAL APTITUDE AND LOGICAL REASONING "),s.qZA(),s.TgZ(43,"p"),s._uU(44," Paper 4: ECONOMIC AND BUSINESS ENVIRONMENT "),s.qZA()()()()(),s.TgZ(45,"div",24)(46,"div",25)(47,"h3",26)(48,"a"),s._uU(49,"CA Sumit Arora\n"),s.qZA()(),s.TgZ(50,"h5"),s._uU(51,"CEO at "),s.TgZ(52,"a"),s._uU(53,"Prominent Academy"),s.qZA()(),s.TgZ(54,"p",27),s._uU(55," A teacher is a person with commendable skills for helping is Legacy,guiding ,helping solve a problem. CASumit arora has completed his graduation from Bhagat Singh College & fellow member of the isNgContainer. He cleared both groups intermediate in his very first attemot. he is also a member of institue of internal auditor(U.S). He has topped in CMA (foundation) securing 95% in accountancy. He has scored on an average 80% in every exam of accountancy. "),s.qZA()(),s.TgZ(56,"div",28),s._UZ(57,"img",29),s.TgZ(58,"ul",30)(59,"li")(60,"a"),s._UZ(61,"i",31),s.qZA()(),s.TgZ(62,"li")(63,"a"),s._UZ(64,"i",32),s.qZA()(),s.TgZ(65,"li")(66,"a"),s._UZ(67,"i",33),s.qZA()()()()()(),s.TgZ(68,"div",34),s._UZ(69,"div",35),s.TgZ(70,"div",36)(71,"h3",37),s._uU(72,"Categories"),s.qZA(),s.TgZ(73,"ul")(74,"li")(75,"a",38),s._uU(76,"CA Foundation Classes"),s.qZA()(),s.TgZ(77,"li")(78,"a",39),s._uU(79,"CA Intermediate Classes"),s.qZA()(),s.TgZ(80,"li")(81,"a",40),s._uU(82,"CA Final Classes"),s.qZA()(),s.TgZ(83,"li")(84,"a",41),s._uU(85,"CS Foundation Classes"),s.qZA()(),s.TgZ(86,"li")(87,"a",42),s._uU(88,"CS Intermediate Classes"),s.qZA()(),s.TgZ(89,"li")(90,"a",43),s._uU(91,"CS ProfessionalClasses"),s.qZA()(),s.TgZ(92,"li")(93,"a",44),s._uU(94,"CMA Foundation Classes"),s.qZA()(),s.TgZ(95,"li")(96,"a",45),s._uU(97,"CMA Intermediate Classes"),s.qZA()(),s.TgZ(98,"li")(99,"a",46),s._uU(100,"CMA Professional Classes"),s.qZA()()()()()())}function Rq(n,e){1&n&&(s.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),s._UZ(4,"img",47),s.qZA(),s.TgZ(5,"div",20)(6,"div",21)(7,"h2"),s._uU(8,"CS EXECUTIVE COURSE"),s.qZA()(),s.TgZ(9,"div",22)(10,"p"),s._uU(11," The profession of chartered accountants need a higher degree of dedication.\nWe ensure that you receive the best content while also making you feel at ease with the dedicated hard work.\nWe also provides online classes \u2013 Engaging videos lectures, Active doubt sessions and test papers..\nProminent Academy is the best coaching centre in Kalkaji.. As we provide classes by renowned faculties. "),s.qZA()(),s.TgZ(12,"div")(13,"h4"),s._uU(14," About CS executive "),s.qZA(),s.TgZ(15,"div")(16,"ul")(17,"li"),s._uU(18," Student who passed foundation exam is eligible for this exam and CS Exam is conducted twice in a year \u2013 June and December. "),s.qZA(),s.TgZ(19,"li"),s._uU(20," CS Executive course can be pursued by a Graduates of all streams student except Fine Arts. "),s.qZA(),s.TgZ(21,"li"),s._uU(22," Candidates who passed the cs Foundation examination are eligible for exemption and are not less than 17 years of age may seek registration as a student for the Executive Programme. "),s.qZA(),s.TgZ(23,"li"),s._uU(24," Admission to the CS Course is open throughout the year. Examinations are held twice a year in June & December. "),s.qZA()()()(),s.TgZ(25,"blockquote",23)(26,"h4"),s._uU(27," Eligibility "),s.qZA(),s._uU(28," Student who have passed the entrance exam of the Institute of Chartered Accountants of India (ICAI) or the Institute of Cost Accountants of India (ICMAI) then you are able to take direct entry in Executive Programme of the Institute of Company Secretaries of India (ICSI). "),s.qZA(),s.TgZ(29,"div")(30,"h3"),s._uU(31,"Subjects for CA Executive Course"),s.qZA(),s.TgZ(32,"div")(33,"p"),s._uU(34,"Number of paper: "),s.TgZ(35,"b"),s._uU(36,"four"),s.qZA()(),s.TgZ(37,"h4"),s._uU(38,"Module I (4 papers)"),s.qZA(),s.TgZ(39,"p"),s._uU(40," Paper 1: Company Law "),s.qZA(),s.TgZ(41,"p"),s._uU(42," Paper 2: Cost & Management Accounting "),s.qZA(),s.TgZ(43,"p"),s._uU(44," Paper 3: Economic and Commercial Laws "),s.qZA(),s.TgZ(45,"p"),s._uU(46," Paper 4:Tax Laws & Practice "),s.qZA(),s.TgZ(47,"h4"),s._uU(48,"Module II (3 papers)"),s.qZA(),s.TgZ(49,"p"),s._uU(50," Paper 1: Company Accounts and Auditing Practices "),s.qZA(),s.TgZ(51,"p"),s._uU(52," Paper 2: Capital Markets and Securities Laws\n"),s.qZA(),s.TgZ(53,"p"),s._uU(54," Paper 3: Industrial, Labour and General Laws\n"),s.qZA()()()()(),s.TgZ(55,"div",24)(56,"div",25)(57,"h3",26)(58,"a"),s._uU(59,"CA Sumit Arora\n"),s.qZA()(),s.TgZ(60,"h5"),s._uU(61,"CEO at "),s.TgZ(62,"a"),s._uU(63,"Prominent Academy"),s.qZA()(),s.TgZ(64,"p",27),s._uU(65," A teacher is a person with commendable skills for helping is Legacy,guiding ,helping solve a problem. CASumit arora has completed his graduation from Bhagat Singh College & fellow member of the isNgContainer. He cleared both groups intermediate in his very first attemot. he is also a member of institue of internal auditor(U.S). He has topped in CMA (foundation) securing 95% in accountancy. He has scored on an average 80% in every exam of accountancy. "),s.qZA()(),s.TgZ(66,"div",28),s._UZ(67,"img",29),s.TgZ(68,"ul",30)(69,"li")(70,"a"),s._UZ(71,"i",31),s.qZA()(),s.TgZ(72,"li")(73,"a"),s._UZ(74,"i",32),s.qZA()(),s.TgZ(75,"li")(76,"a"),s._UZ(77,"i",33),s.qZA()()()()()(),s.TgZ(78,"div",34),s._UZ(79,"div",35),s.TgZ(80,"div",36)(81,"h3",37),s._uU(82,"Categories"),s.qZA(),s.TgZ(83,"ul")(84,"li")(85,"a",38),s._uU(86,"CA Foundation Classes"),s.qZA()(),s.TgZ(87,"li")(88,"a",39),s._uU(89,"CA Intermediate Classes"),s.qZA()(),s.TgZ(90,"li")(91,"a",40),s._uU(92,"CA Professional Classes"),s.qZA()(),s.TgZ(93,"li")(94,"a",41),s._uU(95,"CS Foundation Classes"),s.qZA()(),s.TgZ(96,"li")(97,"a",42),s._uU(98,"CS Intermediate Classes"),s.qZA()(),s.TgZ(99,"li")(100,"a",43),s._uU(101,"CS Professional Classes"),s.qZA()(),s.TgZ(102,"li")(103,"a",44),s._uU(104,"CMA Foundation Classes"),s.qZA()(),s.TgZ(105,"li")(106,"a",45),s._uU(107,"CMA Intermediate Classes"),s.qZA()(),s.TgZ(108,"li")(109,"a",46),s._uU(110,"CMA Professional Classes"),s.qZA()()()()()())}function Oq(n,e){1&n&&(s.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),s._UZ(4,"img",48),s.qZA(),s.TgZ(5,"div",20)(6,"div",21)(7,"h2"),s._uU(8,"CS PROFESSIONAL COURSE"),s.qZA()(),s.TgZ(9,"div",22)(10,"p"),s._uU(11," The profession of chartered accountants need a higher degree of dedication.\nWe ensure that you receive the best content while also making you feel at ease with the dedicated hard work.\nWe also provides online classes \u2013 Engaging videos lectures, Active doubt sessions and test papers..\nProminent Academy is the best coaching centre in Kalkaji.. As we provide classes by renowned faculties. "),s.qZA()(),s.TgZ(12,"div")(13,"h4"),s._uU(14," About CS Professional "),s.qZA(),s.TgZ(15,"div")(16,"ul")(17,"li"),s._uU(18,"CS Professional Programme can be pursued only after clearing the Executive Programme of CS Course. The examination is conducted twice a year in June and December "),s.qZA()()()(),s.TgZ(19,"blockquote",23)(20,"h4"),s._uU(21," Eligibility "),s.qZA(),s._uU(22," Professional Programme can be pursued only after clearing the Executive Programme of CS Course. The examination is conducted twice a year in June and December "),s.qZA(),s.TgZ(23,"div")(24,"h3"),s._uU(25,"Subjects for CS Professional Course"),s.qZA(),s.TgZ(26,"div")(27,"p"),s._uU(28," Paper 1: Financial Reporting "),s.qZA(),s.TgZ(29,"h4"),s._uU(30,"Module I"),s.qZA(),s.TgZ(31,"p"),s._uU(32," Paper 1: Company Secretarial Practice "),s.qZA(),s.TgZ(33,"p"),s._uU(34," Paper 2: Drafting, Appearances, and Pleadings "),s.qZA(),s.TgZ(35,"h4"),s._uU(36,"Module II"),s.qZA(),s.TgZ(37,"p"),s._uU(38," Paper 1: Financial, Treasury and Forex Management "),s.qZA(),s.TgZ(39,"p"),s._uU(40," Paper 2: Corporate Restructuring and Insolvency "),s.qZA(),s.TgZ(41,"h4"),s._uU(42,"Module III"),s.qZA(),s.TgZ(43,"p"),s._uU(44," Paper 1: Strategic Management, Alliances, and International Trade "),s.qZA(),s.TgZ(45,"p"),s._uU(46," Paper 2: Advance Tax Laws and Practices "),s.qZA(),s.TgZ(47,"h4"),s._uU(48," Module IV "),s.qZA(),s.TgZ(49,"p"),s._uU(50," Paper 1: Due Diligence and Corporate Compliance Management "),s.qZA(),s.TgZ(51,"p"),s._uU(52," Paper 2: Governance, Business Ethics, and Sustainability "),s.qZA()()()()(),s.TgZ(53,"div",24)(54,"div",25)(55,"h3",26)(56,"a"),s._uU(57,"CA Sumit Arora\n"),s.qZA()(),s.TgZ(58,"h5"),s._uU(59,"CEO at "),s.TgZ(60,"a"),s._uU(61,"Prominent Academy"),s.qZA()(),s.TgZ(62,"p",27),s._uU(63," A teacher is a person with commendable skills for helping is Legacy,guiding ,helping solve a problem. CASumit arora has completed his graduation from Bhagat Singh College & fellow member of the isNgContainer. He cleared both groups intermediate in his very first attemot. he is also a member of institue of internal auditor(U.S). He has topped in CMA (foundation) securing 95% in accountancy. He has scored on an average 80% in every exam of accountancy. "),s.qZA()(),s.TgZ(64,"div",28),s._UZ(65,"img",29),s.TgZ(66,"ul",30)(67,"li")(68,"a"),s._UZ(69,"i",31),s.qZA()(),s.TgZ(70,"li")(71,"a"),s._UZ(72,"i",32),s.qZA()(),s.TgZ(73,"li")(74,"a"),s._UZ(75,"i",33),s.qZA()()()()()(),s.TgZ(76,"div",34),s._UZ(77,"div",35),s.TgZ(78,"div",36)(79,"h3",37),s._uU(80,"Categories"),s.qZA(),s.TgZ(81,"ul")(82,"li")(83,"a",38),s._uU(84,"CA Foundation Classes"),s.qZA()(),s.TgZ(85,"li")(86,"a",39),s._uU(87,"CA Intermediate Classes"),s.qZA()(),s.TgZ(88,"li")(89,"a",40),s._uU(90,"CA Final Classes"),s.qZA()(),s.TgZ(91,"li")(92,"a",41),s._uU(93,"CS Foundation Classes"),s.qZA()(),s.TgZ(94,"li")(95,"a",42),s._uU(96,"CS Intermediate Classes"),s.qZA()(),s.TgZ(97,"li")(98,"a",43),s._uU(99,"CS Professional Classes"),s.qZA()(),s.TgZ(100,"li")(101,"a",44),s._uU(102,"CMA Foundation Classes"),s.qZA()(),s.TgZ(103,"li")(104,"a",45),s._uU(105,"CMA Intermediate Classes"),s.qZA()(),s.TgZ(106,"li")(107,"a",46),s._uU(108,"CMA Professional Classes"),s.qZA()()()()()())}let oO=(()=>{class n{constructor(t){this.router=t,this.url=this.router.url}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Hn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-course-detail-cs"]],decls:31,vars:6,consts:[[1,"all-title-box"],[1,"container","text-center"],[4,"ngIf"],["id","overviews",1,"section","wb"],[1,"container"],["class","row",4,"ngIf"],[1,"parallax","section","dbcolor"],[1,"row","logos"],[1,"col-md-2","col-sm-2","col-xs-6","wow","fadeInUp"],["src","images/logo_01.png","alt","",1,"img-repsonsive"],["src","images/logo_02.png","alt","",1,"img-repsonsive"],["src","images/logo_03.png","alt","",1,"img-repsonsive"],["src","images/logo_04.png","alt","",1,"img-repsonsive"],["src","images/logo_05.png","alt","",1,"img-repsonsive"],["src","images/logo_06.png","alt","",1,"img-repsonsive"],[1,"row"],[1,"col-lg-9","blog-post-single"],[1,"blog-item"],[1,"image-blog"],["src","../../assets/images/blog_4.jpg","height","100px","alt","",1,"img-fluid"],[1,"post-content"],[1,"blog-title"],[1,"blog-desc"],[1,"default"],[1,"blog-author"],[1,"author-bio"],[1,"author_name"],[1,"author_det"],[1,"author-desc"],["src","../../../assets/images/teacher3.jpeg","alt","about author"],[1,"author-social"],[1,"fa","fa-facebook"],[1,"fa","fa-twitter"],[1,"fa","fa-skype"],[1,"col-lg-3","col-12","right-single"],[1,"widget-search"],[1,"widget-categories"],[1,"widget-title"],["routerLink","/course-detail/ca/foundation"],["routerLink","/course-detail/ca/intermediate"],["routerLink","/course-detail/ca/final"],["routerLink","/course-detail/cs/foundation"],["routerLink","/course-detail/cs/intermediate"],["routerLink","/course-detail/cs/final"],["routerLink","/course-detail/cma/foundation"],["routerLink","/course-detail/cma/intermediate"],["routerLink","/course-detail/cma/final"],["src","./../assets/images/blog_5.jpg","height","100px","alt","",1,"img-fluid"],["src","../../assets/images/blog_6.jpg","height","100px","alt","",1,"img-fluid"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,Aq,2,0,"h1",2),s.YNc(3,Nq,2,0,"h1",2),s.YNc(4,Mq,2,0,"h1",2),s.qZA()(),s.TgZ(5,"div",3)(6,"div",4),s.YNc(7,xq,101,0,"div",5),s.YNc(8,Rq,111,0,"div",5),s.YNc(9,Oq,109,0,"div",5),s.qZA()(),s.TgZ(10,"div",6)(11,"div",4)(12,"div",7)(13,"div",8)(14,"a"),s._UZ(15,"img",9),s.qZA()(),s.TgZ(16,"div",8)(17,"a"),s._UZ(18,"img",10),s.qZA()(),s.TgZ(19,"div",8)(20,"a"),s._UZ(21,"img",11),s.qZA()(),s.TgZ(22,"div",8)(23,"a"),s._UZ(24,"img",12),s.qZA()(),s.TgZ(25,"div",8)(26,"a"),s._UZ(27,"img",13),s.qZA()(),s.TgZ(28,"div",8)(29,"a"),s._UZ(30,"img",14),s.qZA()()()()()),2&t&&(s.xp6(2),s.Q6J("ngIf","/course-detail/cs/foundation"===i.url),s.xp6(1),s.Q6J("ngIf","/course-detail/cs/intermediate"===i.url),s.xp6(1),s.Q6J("ngIf","/course-detail/cs/final"===i.url),s.xp6(3),s.Q6J("ngIf","/course-detail/cs/foundation"===i.url),s.xp6(1),s.Q6J("ngIf","/course-detail/cs/intermediate"===i.url),s.xp6(1),s.Q6J("ngIf","/course-detail/cs/final"===i.url))},dependencies:[nn,Ul]}),n})();function Pq(n,e){1&n&&(s.TgZ(0,"h1"),s._uU(1,"CMA FOUNDATION COURSE"),s.qZA())}function kq(n,e){1&n&&(s.TgZ(0,"h1"),s._uU(1,"CMA Intermediate COURSE"),s.qZA())}function Fq(n,e){1&n&&(s.TgZ(0,"h1"),s._uU(1,"CMA Professional COURSE"),s.qZA())}function Lq(n,e){1&n&&(s.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),s._UZ(4,"img",19),s.qZA(),s.TgZ(5,"div",20)(6,"div",21)(7,"h2"),s._uU(8,"CMA FOUNDATION COURSE"),s.qZA()(),s.TgZ(9,"div",22)(10,"p"),s._uU(11," The profession of chartered accountants need a higher degree of dedication. We ensure that you receive the best content while also making you feel at ease with the dedicated hard work. We also provides online classes \u2013 Engaging videos lectures, Active doubt sessions and test papers.. Prominent Academy is the best coaching centre in Kalkaji.. As we provide classes by renowned faculties. "),s.qZA()(),s.TgZ(12,"div")(13,"h4"),s._uU(14," About CMA Foundation "),s.qZA(),s.TgZ(15,"div")(16,"ul")(17,"li"),s._uU(18," A candidate must have passed 10th Class or equivalent from a recognized Board or Institution. "),s.qZA(),s.TgZ(19,"li"),s._uU(20," A candidate nust have passed Senior Secondary Examination under 10+2 scheme of a recognized Board or an Examination recognized by the Central Government as equivalent thereto or they has to passed National Diploma in Commerce Examination which is held by the All India Council for Technical Education or any other State Board of Technical Education under the authority of said All India Council, or the Diploma in the Rural Service Examination conducted by National Council of Higher Education. "),s.qZA(),s.TgZ(21,"li"),s._uU(22," Registration Fee of ICMAI or CMA Foundation - Rs.4000 . "),s.qZA()()()(),s.TgZ(23,"blockquote",23)(24,"h4"),s._uU(25," Eligibility "),s.qZA(),s._uU(26," A candidate must have passed 10th Class or equivalent from a recognized Board or Institution. A candidate nust have passed Senior Secondary Examination under 10+2 scheme of a recognized Board or an Examination recognized by the Central Government as equivalent thereto or they has to passed National Diploma in Commerce Examination which is held by the All India Council for Technical Education or any other State Board of Technical Education under the authority of said All India Council, or the Diploma in the Rural Service Examination conducted by National Council of Higher Education. "),s.qZA(),s.TgZ(27,"div")(28,"h3"),s._uU(29,"Subjects for CMA Foundation Course"),s.qZA(),s.TgZ(30,"div")(31,"p"),s._uU(32,"Number of paper: "),s.TgZ(33,"b"),s._uU(34,"four"),s.qZA()(),s.TgZ(35,"p"),s._uU(36," Paper 1: Fundamentals of Economics and Management "),s.qZA(),s.TgZ(37,"p"),s._uU(38," Paper 2: Fundamentals of Accounting "),s.qZA(),s.TgZ(39,"p"),s._uU(40," Paper 3: Fundamentals of Laws and Ethics "),s.qZA(),s.TgZ(41,"p"),s._uU(42," Paper 4: Fundamentals of Business Mathematics and Statistic "),s.qZA()()()()(),s.TgZ(43,"div",24)(44,"div",25)(45,"h3",26)(46,"a"),s._uU(47,"CA Sumit Arora\n"),s.qZA()(),s.TgZ(48,"h5"),s._uU(49,"CEO at "),s.TgZ(50,"a"),s._uU(51,"Prominent Academy"),s.qZA()(),s.TgZ(52,"p",27),s._uU(53," A teacher is a person with commendable skills for helping is Legacy,guiding ,helping solve a problem. CASumit arora has completed his graduation from Bhagat Singh College & fellow member of the isNgContainer. He cleared both groups intermediate in his very first attemot. he is also a member of institue of internal auditor(U.S). He has topped in CMA (foundation) securing 95% in accountancy. He has scored on an average 80% in every exam of accountancy. "),s.qZA()(),s.TgZ(54,"div",28),s._UZ(55,"img",29),s.TgZ(56,"ul",30)(57,"li")(58,"a"),s._UZ(59,"i",31),s.qZA()(),s.TgZ(60,"li")(61,"a"),s._UZ(62,"i",32),s.qZA()(),s.TgZ(63,"li")(64,"a"),s._UZ(65,"i",33),s.qZA()()()()()(),s.TgZ(66,"div",34),s._UZ(67,"div",35),s.TgZ(68,"div",36)(69,"h3",37),s._uU(70,"Categories"),s.qZA(),s.TgZ(71,"ul")(72,"li")(73,"a",38),s._uU(74,"CA Foundation Classes"),s.qZA()(),s.TgZ(75,"li")(76,"a",39),s._uU(77,"CA Intermediate Classes"),s.qZA()(),s.TgZ(78,"li")(79,"a",40),s._uU(80,"CA Professional Classes"),s.qZA()(),s.TgZ(81,"li")(82,"a",41),s._uU(83,"CS Foundation Classes"),s.qZA()(),s.TgZ(84,"li")(85,"a",42),s._uU(86,"CS Intermediate Classes"),s.qZA()(),s.TgZ(87,"li")(88,"a",43),s._uU(89,"CS Professional Classes"),s.qZA()(),s.TgZ(90,"li")(91,"a",44),s._uU(92,"CMA Foundation Classes"),s.qZA()(),s.TgZ(93,"li")(94,"a",45),s._uU(95,"CMA Intermediate Classes"),s.qZA()(),s.TgZ(96,"li")(97,"a",46),s._uU(98,"CMA Professional Classes"),s.qZA()()()()()())}function Uq(n,e){1&n&&(s.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),s._UZ(4,"img",47),s.qZA(),s.TgZ(5,"div",20)(6,"div",21)(7,"h2"),s._uU(8,"CMA Intermediate COURSE"),s.qZA()(),s.TgZ(9,"div",22)(10,"p"),s._uU(11," The profession of chartered accountants need a higher degree of dedication.\nWe ensure that you receive the best content while also making you feel at ease with the dedicated hard work.\nWe also provides online classes \u2013 Engaging videos lectures, Active doubt sessions and test papers..\nProminent Academy is the best coaching centre in Kalkaji.. As we provide classes by renowned faculties. "),s.qZA()(),s._UZ(12,"div"),s.TgZ(13,"blockquote",23)(14,"h4"),s._uU(15," Eligibility "),s.qZA(),s.TgZ(16,"ul")(17,"li"),s._uU(18," The candidate should have cleared Senior Secondary School Examination (10+2) and Foundation Course of the Institute of Cost Accountants of India. "),s.qZA(),s.TgZ(19,"li"),s._uU(20," Graduation in any stream other than Fine Arts. "),s.qZA(),s.TgZ(21,"li"),s._uU(22," Foundation (First Level) Examination of CAT of the Institute. "),s.qZA(),s.TgZ(23,"li"),s._uU(24," Foundation (First Level) Examination and Competency Level Examination of CAT of the Institute. "),s.qZA(),s.TgZ(25,"li"),s._uU(26," Passed Foundation of ICSI/Intermediate of ICAI by whatever name called along with 12th class. "),s.qZA()()(),s.TgZ(27,"div")(28,"h3"),s._uU(29,"Subjects for CMA Intermediate Course "),s.qZA(),s.TgZ(30,"div")(31,"p"),s._uU(32,"Number of paper: "),s.TgZ(33,"b"),s._uU(34,"four"),s.qZA()(),s.TgZ(35,"p"),s._uU(36," Paper 1: Financial Accounting "),s.qZA(),s.TgZ(37,"p"),s._uU(38," Paper 2: Laws, Ethics and Governance "),s.qZA(),s.TgZ(39,"p"),s._uU(40," Paper 3: Direct Taxation "),s.qZA(),s.TgZ(41,"p"),s._uU(42," Paper 4: Cost accounting and financial management "),s.qZA(),s.TgZ(43,"p"),s._uU(44," Paper 5: Operation Management Information System "),s.qZA(),s.TgZ(45,"p"),s._uU(46," Paper 6: Cost and Management Accounting "),s.qZA(),s.TgZ(47,"p"),s._uU(48," Paper 7: Indirect Taxation "),s.qZA(),s.TgZ(49,"p"),s._uU(50," Paper 8: Company Accounts & Audit "),s.qZA()()()()(),s.TgZ(51,"div",24)(52,"div",25)(53,"h3",26)(54,"a"),s._uU(55,"CA Sumit Arora\n"),s.qZA()(),s.TgZ(56,"h5"),s._uU(57,"CEO at "),s.TgZ(58,"a"),s._uU(59,"Prominent Academy"),s.qZA()(),s.TgZ(60,"p",27),s._uU(61," A teacher is a person with commendable skills for helping is Legacy,guiding ,helping solve a problem. CASumit arora has completed his graduation from Bhagat Singh College & fellow member of the isNgContainer. He cleared both groups intermediate in his very first attemot. he is also a member of institue of internal auditor(U.S). He has topped in CMA (foundation) securing 95% in accountancy. He has scored on an average 80% in every exam of accountancy. "),s.qZA()(),s.TgZ(62,"div",28),s._UZ(63,"img",29),s.TgZ(64,"ul",30)(65,"li")(66,"a"),s._UZ(67,"i",31),s.qZA()(),s.TgZ(68,"li")(69,"a"),s._UZ(70,"i",32),s.qZA()(),s.TgZ(71,"li")(72,"a"),s._UZ(73,"i",33),s.qZA()()()()()(),s.TgZ(74,"div",34),s._UZ(75,"div",35),s.TgZ(76,"div",36)(77,"h3",37),s._uU(78,"Categories"),s.qZA(),s.TgZ(79,"ul")(80,"li")(81,"a",38),s._uU(82,"CA Foundation Classes"),s.qZA()(),s.TgZ(83,"li")(84,"a",39),s._uU(85,"CA Intermediate Classes "),s.qZA()(),s.TgZ(86,"li")(87,"a",40),s._uU(88,"CA Professional Classes"),s.qZA()(),s.TgZ(89,"li")(90,"a",41),s._uU(91,"CS Foundation Classes"),s.qZA()(),s.TgZ(92,"li")(93,"a",42),s._uU(94,"CS Intermediate Classes"),s.qZA()(),s.TgZ(95,"li")(96,"a",43),s._uU(97,"CS Professional Classes"),s.qZA()(),s.TgZ(98,"li")(99,"a",44),s._uU(100,"CMA Foundation Classes"),s.qZA()(),s.TgZ(101,"li")(102,"a",45),s._uU(103,"CMA Intermediate Classes"),s.qZA()(),s.TgZ(104,"li")(105,"a",46),s._uU(106," CMA Professional Classes"),s.qZA()()()()()())}function Bq(n,e){1&n&&(s.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),s._UZ(4,"img",48),s.qZA(),s.TgZ(5,"div",20)(6,"div",21)(7,"h2"),s._uU(8,"CMA Professional COURSE"),s.qZA()(),s.TgZ(9,"div",22)(10,"p"),s._uU(11," The profession of chartered accountants need a higher degree of dedication.\nWe ensure that you receive the best content while also making you feel at ease with the dedicated hard work.\nWe also provides online classes \u2013 Engaging videos lectures, Active doubt sessions and test papers..\nProminent Academy is the best coaching centre in Kalkaji.. As we provide classes by renowned faculties. "),s.qZA()(),s._UZ(12,"div"),s.TgZ(13,"blockquote",23)(14,"h4"),s._uU(15," Eligibility "),s.qZA(),s.TgZ(16,"ul")(17,"li"),s._uU(18," The candidate should have cleared Senior Secondary School Examination 12th and Foundation Course of the Institute of Cost Accountants of India. "),s.qZA(),s.TgZ(19,"li"),s._uU(20," Graduation in any category other than Fine Arts. "),s.qZA(),s.TgZ(21,"li"),s._uU(22," Foundation (First Level) Part I Examination of CAT of the Institute. "),s.qZA(),s.TgZ(23,"li"),s._uU(24," Foundation (First Level) Part I Examination and Competency Level Part II Examination of CAT of the Institute. "),s.qZA(),s.TgZ(25,"li"),s._uU(26," Passed Foundation of ICSI/Intermediate of ICAI by whatever name called along with 12th class "),s.qZA()()(),s.TgZ(27,"div")(28,"h3"),s._uU(29,"Subjects for CMA Professional Course"),s.qZA(),s.TgZ(30,"div")(31,"p"),s._uU(32," Paper 1: Corporate Laws and Compliance "),s.qZA(),s.TgZ(33,"p"),s._uU(34," Paper 2: Advanced Financial Management "),s.qZA(),s.TgZ(35,"p"),s._uU(36," Paper 3: Business Strategy & Strategic Cost Management "),s.qZA(),s.TgZ(37,"p"),s._uU(38," Paper 4: Tax Management and Practice "),s.qZA(),s.TgZ(39,"p"),s._uU(40," Paper 5: Strategic Performance Management "),s.qZA(),s.TgZ(41,"p"),s._uU(42," Paper 6: Corporate Financial Reporting "),s.qZA(),s.TgZ(43,"p"),s._uU(44," Paper 7: Cost and Management Audit "),s.qZA(),s.TgZ(45,"p"),s._uU(46," Paper 8: Financial Analysis & Business Valuation "),s.qZA()()()()(),s.TgZ(47,"div",24)(48,"div",25)(49,"h3",26)(50,"a"),s._uU(51,"CA Sumit Arora\n"),s.qZA()(),s.TgZ(52,"h5"),s._uU(53,"CEO at "),s.TgZ(54,"a"),s._uU(55,"Prominent Academy"),s.qZA()(),s.TgZ(56,"p",27),s._uU(57," A teacher is a person with commendable skills for helping is Legacy,guiding ,helping solve a problem. CASumit arora has completed his graduation from Bhagat Singh College & fellow member of the isNgContainer. He cleared both groups intermediate in his very first attemot. he is also a member of institue of internal auditor(U.S). He has topped in CMA (foundation) securing 95% in accountancy. He has scored on an average 80% in every exam of accountancy. "),s.qZA()(),s.TgZ(58,"div",28),s._UZ(59,"img",29),s.TgZ(60,"ul",30)(61,"li")(62,"a"),s._UZ(63,"i",31),s.qZA()(),s.TgZ(64,"li")(65,"a"),s._UZ(66,"i",32),s.qZA()(),s.TgZ(67,"li")(68,"a"),s._UZ(69,"i",33),s.qZA()()()()()(),s.TgZ(70,"div",34),s._UZ(71,"div",35),s.TgZ(72,"div",36)(73,"h3",37),s._uU(74,"Categories"),s.qZA(),s.TgZ(75,"ul")(76,"li")(77,"a",38),s._uU(78,"CA Foundation Classes"),s.qZA()(),s.TgZ(79,"li")(80,"a",39),s._uU(81,"CA Intermediate Classes"),s.qZA()(),s.TgZ(82,"li")(83,"a",40),s._uU(84,"CA Professional Classes"),s.qZA()(),s.TgZ(85,"li")(86,"a",41),s._uU(87,"CS Foundation Classes"),s.qZA()(),s.TgZ(88,"li")(89,"a",42),s._uU(90,"CS Intermediate Classes"),s.qZA()(),s.TgZ(91,"li")(92,"a",43),s._uU(93,"CS Professional Classes"),s.qZA()(),s.TgZ(94,"li")(95,"a",44),s._uU(96,"CMA Foundation Classes"),s.qZA()(),s.TgZ(97,"li")(98,"a",45),s._uU(99,"CMA Intermediate Classes"),s.qZA()(),s.TgZ(100,"li")(101,"a",46),s._uU(102,"CMA Professional Classes"),s.qZA()()()()()())}let aO=(()=>{class n{constructor(t){this.router=t,this.url=this.router.url}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Hn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-course-details-cma"]],decls:31,vars:6,consts:[[1,"all-title-box"],[1,"container","text-center"],[4,"ngIf"],["id","overviews",1,"section","wb"],[1,"container"],["class","row",4,"ngIf"],[1,"parallax","section","dbcolor"],[1,"row","logos"],[1,"col-md-2","col-sm-2","col-xs-6","wow","fadeInUp"],["src","images/logo_01.png","alt","",1,"img-repsonsive"],["src","images/logo_02.png","alt","",1,"img-repsonsive"],["src","images/logo_03.png","alt","",1,"img-repsonsive"],["src","images/logo_04.png","alt","",1,"img-repsonsive"],["src","images/logo_05.png","alt","",1,"img-repsonsive"],["src","images/logo_06.png","alt","",1,"img-repsonsive"],[1,"row"],[1,"col-lg-9","blog-post-single"],[1,"blog-item"],[1,"image-blog"],["src","../../assets/images/blog_9.jpg","height","100px","alt","",1,"img-fluid"],[1,"post-content"],[1,"blog-title"],[1,"blog-desc"],[1,"default"],[1,"blog-author"],[1,"author-bio"],[1,"author_name"],[1,"author_det"],[1,"author-desc"],["src","../../../assets/images/teacher3.jpeg","alt","about author"],[1,"author-social"],[1,"fa","fa-facebook"],[1,"fa","fa-twitter"],[1,"fa","fa-skype"],[1,"col-lg-3","col-12","right-single"],[1,"widget-search"],[1,"widget-categories"],[1,"widget-title"],["routerLink","/course-detail/ca/foundation"],["routerLink","/course-detail/ca/intermediate"],["routerLink","/course-detail/ca/final"],["routerLink","/course-detail/cs/foundation"],["routerLink","/course-detail/cs/intermediate"],["routerLink","/course-detail/cs/final"],["routerLink","/course-detail/cma/foundation"],["routerLink","/course-detail/cma/intermediate"],["routerLink","/course-detail/cma/final"],["src","../../assets/images/blog8.jpg","height","100px","alt","",1,"img-fluid"],["src","../../assets/images/blog9.jpg","height","100px","alt","",1,"img-fluid"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,Pq,2,0,"h1",2),s.YNc(3,kq,2,0,"h1",2),s.YNc(4,Fq,2,0,"h1",2),s.qZA()(),s.TgZ(5,"div",3)(6,"div",4),s.YNc(7,Lq,99,0,"div",5),s.YNc(8,Uq,107,0,"div",5),s.YNc(9,Bq,103,0,"div",5),s.qZA()(),s.TgZ(10,"div",6)(11,"div",4)(12,"div",7)(13,"div",8)(14,"a"),s._UZ(15,"img",9),s.qZA()(),s.TgZ(16,"div",8)(17,"a"),s._UZ(18,"img",10),s.qZA()(),s.TgZ(19,"div",8)(20,"a"),s._UZ(21,"img",11),s.qZA()(),s.TgZ(22,"div",8)(23,"a"),s._UZ(24,"img",12),s.qZA()(),s.TgZ(25,"div",8)(26,"a"),s._UZ(27,"img",13),s.qZA()(),s.TgZ(28,"div",8)(29,"a"),s._UZ(30,"img",14),s.qZA()()()()()),2&t&&(s.xp6(2),s.Q6J("ngIf","/course-detail/cma/foundation"===i.url),s.xp6(1),s.Q6J("ngIf","/course-detail/cma/intermediate"===i.url),s.xp6(1),s.Q6J("ngIf","/course-detail/cma/final"===i.url),s.xp6(3),s.Q6J("ngIf","/course-detail/cma/foundation"===i.url),s.xp6(1),s.Q6J("ngIf","/course-detail/cma/intermediate"===i.url),s.xp6(1),s.Q6J("ngIf","/course-detail/cma/final"===i.url))},dependencies:[nn,Ul]}),n})();function Vq(n,e){1&n&&(s.TgZ(0,"h1"),s._uU(1,"CA FOUNDATION COURSE"),s.qZA())}function Zq(n,e){1&n&&(s.TgZ(0,"h1"),s._uU(1,"CA INTERMEDIATE COURSE"),s.qZA())}function Hq(n,e){1&n&&(s.TgZ(0,"h1"),s._uU(1,"CA PROFESSIONAL COURSE"),s.qZA())}function jq(n,e){1&n&&(s.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),s._UZ(4,"img",19),s.qZA(),s.TgZ(5,"div",20)(6,"div",21)(7,"h2"),s._uU(8,"CA FOUNDATION COURSE"),s.qZA()(),s.TgZ(9,"div",22)(10,"p"),s._uU(11," The profession of chartered accountants need a higher degree of dedication. We ensure that you receive the best content while also making you feel at ease with the dedicated hard work. We also provides online classes \u2013 Engaging videos lectures, Active doubt sessions and test papers.. Prominent Academy is the best coaching centre in Kalkaji.. As we provide classes by renowned faculties. "),s.qZA()(),s.TgZ(12,"div")(13,"h4"),s._uU(14," About CA Foundation "),s.qZA(),s.TgZ(15,"div")(16,"ul")(17,"li"),s._uU(18," It is an entry level exam for Chartered Accountancy Course, which is conduct twice a year in May and November for registered students of CA Foundation Course. "),s.qZA(),s.TgZ(19,"li"),s._uU(20," Foundation include four subjects viz., Accounting, Business Law & Business Correspondence and Reporting, Business Economics & Business and Commercial Knowledge, and Business Mathematics & Logical Reasoning &Statistics. "),s.qZA(),s.TgZ(21,"li"),s._uU(22," Total markes in CA Foundation course is 400 "),s.qZA(),s.TgZ(23,"li"),s._uU(24," It will be based on Objective & Descriptive level test. "),s.qZA()()()(),s.TgZ(25,"blockquote",23)(26,"h4"),s._uU(27," Eligibility "),s.qZA(),s._uU(28," Students who want to pursue Chartered Accountancy Course, can be register for the CA Foundation after passing 10th examination and can be appear in the Chartered Accountancy Foundation either on appearing or passing 10+2 examination. "),s.qZA(),s.TgZ(29,"div")(30,"h3"),s._uU(31,"Subjects for CA Foundation Course"),s.qZA(),s.TgZ(32,"div")(33,"p"),s._uU(34,"Number of paper: "),s.TgZ(35,"b"),s._uU(36,"four"),s.qZA()(),s.TgZ(37,"p"),s._uU(38,"Paper 1: Principles and Practices of Accounting (100 Marks)"),s.qZA(),s.TgZ(39,"p"),s._uU(40,"Paper 2: Business Law & Business Correspondence and Reporting (100 Marks)"),s.qZA(),s.TgZ(41,"p"),s._uU(42," Section A: Business Law (60 Marks) "),s.qZA(),s.TgZ(43,"p"),s._uU(44," Section B: Business Correspondence and Reporting (40 Marks) "),s.qZA(),s.TgZ(45,"p"),s._uU(46," Paper 3: Business Mathematics and Logical Reasoning &Statistics (100 Marks) "),s.qZA(),s.TgZ(47,"p"),s._uU(48," Part I: Business Mathematics and Logical Reasoning (60 Marks) "),s.qZA(),s.TgZ(49,"p"),s._uU(50," Part II: Statistics (40 Marks) "),s.qZA(),s.TgZ(51,"p"),s._uU(52," Paper 4*: Business Economics & Business and Commercial Knowledge (100 Marks) "),s.qZA(),s.TgZ(53,"p"),s._uU(54," Part I: Business Economics (60 Marks) "),s.qZA(),s.TgZ(55,"p"),s._uU(56," Part II: Business and Commercial Knowledge (40 Marks) "),s.qZA()()()()(),s.TgZ(57,"div",24)(58,"div",25)(59,"h3",26)(60,"a"),s._uU(61,"CA Sumit Arora\n"),s.qZA()(),s.TgZ(62,"h5"),s._uU(63,"CEO at "),s.TgZ(64,"a"),s._uU(65,"Prominent Academy"),s.qZA()(),s.TgZ(66,"p",27),s._uU(67," A teacher is a person with commendable skills for helping is Legacy,guiding ,helping solve a problem. CASumit arora has completed his graduation from Bhagat Singh College & fellow member of the isNgContainer. He cleared both groups intermediate in his very first attemot. he is also a member of institue of internal auditor(U.S). He has topped in CMA (foundation) securing 95% in accountancy. He has scored on an average 80% in every exam of accountancy. "),s.qZA()(),s.TgZ(68,"div",28),s._UZ(69,"img",29),s.TgZ(70,"ul",30)(71,"li")(72,"a"),s._UZ(73,"i",31),s.qZA()(),s.TgZ(74,"li")(75,"a"),s._UZ(76,"i",32),s.qZA()(),s.TgZ(77,"li")(78,"a"),s._UZ(79,"i",33),s.qZA()()()()()(),s.TgZ(80,"div",34),s._UZ(81,"div",35),s.TgZ(82,"div",36)(83,"h3",37),s._uU(84,"Categories"),s.qZA(),s.TgZ(85,"ul")(86,"li")(87,"a",38),s._uU(88,"CA Foundation Classes"),s.qZA()(),s.TgZ(89,"li")(90,"a",39),s._uU(91,"CA Intermediate Classes"),s.qZA()(),s.TgZ(92,"li")(93,"a",40),s._uU(94,"CA Professional Classes"),s.qZA()(),s.TgZ(95,"li")(96,"a",41),s._uU(97,"CS Foundation Classes"),s.qZA()(),s.TgZ(98,"li")(99,"a",42),s._uU(100,"CS Intermediate Classes"),s.qZA()(),s.TgZ(101,"li")(102,"a",43),s._uU(103,"CS Professional Classes"),s.qZA()(),s.TgZ(104,"li")(105,"a",44),s._uU(106,"CMA Foundation Classes"),s.qZA()(),s.TgZ(107,"li")(108,"a",45),s._uU(109,"CMA Intermediate Classes"),s.qZA()(),s.TgZ(110,"li")(111,"a",46),s._uU(112,"CMA Professional Classes"),s.qZA()()()()()())}function Gq(n,e){1&n&&(s.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),s._UZ(4,"img",47),s.qZA(),s.TgZ(5,"div",20)(6,"div",21)(7,"h2"),s._uU(8,"CA INTERMEDIATE COURSE"),s.qZA()(),s.TgZ(9,"div",22)(10,"p"),s._uU(11," The profession of chartered accountants need a higher degree of dedication.\nWe ensure that you receive the best content while also making you feel at ease with the dedicated hard work.\nWe also provides online classes \u2013 Engaging videos lectures, Active doubt sessions and test papers..\nProminent Academy is the best coaching centre in Kalkaji.. As we provide classes by renowned faculties. "),s.qZA()(),s.TgZ(12,"div")(13,"h4"),s._uU(14," About CA Intermediate "),s.qZA(),s.TgZ(15,"div")(16,"ul")(17,"li"),s._uU(18," Students who passes the CA-Foundation exam they can enroll in CA-inter Course. "),s.qZA(),s.TgZ(19,"li"),s._uU(20," Or Student who is commerce graduate and obtained 55% or more marks from recognized university may take admission in CA-INTER directly. "),s.qZA(),s.TgZ(21,"li"),s._uU(22," Student who is graduate (Other than commerce stream) and obtained 60% or more marks from recognized university may take admission directly in CA-INTER "),s.qZA(),s.TgZ(23,"li"),s._uU(24," This test has 2 Groups, each group have 4 papers, student have choice to give both group in single time or signle group exam. "),s.qZA()()()(),s.TgZ(25,"blockquote",23)(26,"h4"),s._uU(27," Eligibility "),s.qZA(),s._uU(28," Students who passes the CA-Foundation exam they can enroll in CA-inter Course. Or Student who is commerce graduate and obtained 55% or more marks from recognized university may take admission in CA-INTER directly. Student who is graduate (Other than commerce stream) and obtained 60% or more marks from recognized university may take admission directly in CA-INTER "),s.qZA(),s.TgZ(29,"div")(30,"h3"),s._uU(31,"Subjects for CA Intermediate Course"),s.qZA(),s.TgZ(32,"div")(33,"h4"),s._uU(34,"GROUP A"),s.qZA(),s.TgZ(35,"p"),s._uU(36,"Number of paper: "),s.TgZ(37,"b"),s._uU(38,"four"),s.qZA()(),s.TgZ(39,"p"),s._uU(40,"Paper 1: Accounting(100 Marks)"),s.qZA(),s.TgZ(41,"p"),s._uU(42,"Paper 2: CORPORATE AND OTHER LAW "),s.qZA(),s.TgZ(43,"p"),s._uU(44," Section A: CORPORATE LAWS (60 MARKS) "),s.qZA(),s.TgZ(45,"p"),s._uU(46," Section B: OTHER LAWS (40 MARKS) "),s.qZA(),s.TgZ(47,"p"),s._uU(48," Paper 3: TAXATION "),s.qZA(),s.TgZ(49,"p"),s._uU(50," Part I: DIRECT TAX LAWS (60 MARKS) "),s.qZA(),s.TgZ(51,"p"),s._uU(52," Part II: INDIRECT TAX LAWS (40 MARKS) "),s.qZA(),s.TgZ(53,"p"),s._uU(54," Paper 4*: COST AND MANAGEMENT ACCOUNTING "),s.qZA(),s.TgZ(55,"h4"),s._uU(56,"GROUP B"),s.qZA(),s.TgZ(57,"p"),s._uU(58," Paper 1: ADVANCED ACCOUNTING "),s.qZA(),s.TgZ(59,"p"),s._uU(60," Paper 2: AUDITING AND ASSURANCE "),s.qZA(),s.TgZ(61,"p"),s._uU(62," Paper 3: ENTERPRISE INFORMATION SYSTEM & STRATEGIC MANAGEMENT "),s.qZA(),s.TgZ(63,"p"),s._uU(64," Section A: EIS (50 MARKS) "),s.qZA(),s.TgZ(65,"p"),s._uU(66," Section B: SM (50 MARKS)\n"),s.qZA(),s.TgZ(67,"p"),s._uU(68," Paper 4: FINANCIAL MANAGEMENT & ECONOMICS FOR FINANCE "),s.qZA(),s.TgZ(69,"p"),s._uU(70," Part I: FM (60 MARKS)\n"),s.qZA(),s.TgZ(71,"p"),s._uU(72," Part II: INDIRECT TAX LAWS (40 MARKS)\n"),s.qZA(),s.TgZ(73,"p"),s._uU(74," Paper 4*: ECONOMICS FOR FINANCE (40 MARKS)\n"),s.qZA()()()()(),s.TgZ(75,"div",24)(76,"div",25)(77,"h3",26)(78,"a"),s._uU(79,"CA Sumit Arora\n"),s.qZA()(),s.TgZ(80,"h5"),s._uU(81,"CEO at "),s.TgZ(82,"a"),s._uU(83,"Prominent Academy"),s.qZA()(),s.TgZ(84,"p",27),s._uU(85," A teacher is a person with commendable skills for helping is Legacy,guiding ,helping solve a problem. CASumit arora has completed his graduation from Bhagat Singh College & fellow member of the isNgContainer. He cleared both groups intermediate in his very first attemot. he is also a member of institue of internal auditor(U.S). He has topped in CMA (foundation) securing 95% in accountancy. He has scored on an average 80% in every exam of accountancy. "),s.qZA()(),s.TgZ(86,"div",28),s._UZ(87,"img",29),s.TgZ(88,"ul",30)(89,"li")(90,"a"),s._UZ(91,"i",31),s.qZA()(),s.TgZ(92,"li")(93,"a"),s._UZ(94,"i",32),s.qZA()(),s.TgZ(95,"li")(96,"a"),s._UZ(97,"i",33),s.qZA()()()()()(),s.TgZ(98,"div",34),s._UZ(99,"div",35),s.TgZ(100,"div",36)(101,"h3",37),s._uU(102,"Categories"),s.qZA(),s.TgZ(103,"ul")(104,"li")(105,"a",38),s._uU(106,"CA Foundation Classes"),s.qZA()(),s.TgZ(107,"li")(108,"a",39),s._uU(109,"CA Intermediate Classes"),s.qZA()(),s.TgZ(110,"li")(111,"a",40),s._uU(112,"CA Professional Classes"),s.qZA()(),s.TgZ(113,"li")(114,"a",41),s._uU(115,"CS Foundation Classes"),s.qZA()(),s.TgZ(116,"li")(117,"a",42),s._uU(118,"CS Intermediate Classes"),s.qZA()(),s.TgZ(119,"li")(120,"a",43),s._uU(121,"CS Professionall Classes"),s.qZA()(),s.TgZ(122,"li")(123,"a",44),s._uU(124,"CMA Foundation Classes"),s.qZA()(),s.TgZ(125,"li")(126,"a",45),s._uU(127,"CMA Intermediate Classes"),s.qZA()(),s.TgZ(128,"li")(129,"a",46),s._uU(130,"CMA Professional Classes"),s.qZA()()()()()())}function $q(n,e){1&n&&(s.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),s._UZ(4,"img",48),s.qZA(),s.TgZ(5,"div",20)(6,"div",21)(7,"h2"),s._uU(8,"CA PROFESSIONAL COURSE"),s.qZA()(),s.TgZ(9,"div",22)(10,"p"),s._uU(11," The profession of chartered accountants need a higher degree of dedication.\nWe ensure that you receive the best content while also making you feel at ease with the dedicated hard work.\nWe also provides online classes \u2013 Engaging videos lectures, Active doubt sessions and test papers..\nProminent Academy is the best coaching centre in Kalkaji.. As we provide classes by renowned faculties. "),s.qZA()(),s.TgZ(12,"div")(13,"h4"),s._uU(14," About CA Professional "),s.qZA(),s.TgZ(15,"div")(16,"ul")(17,"li"),s._uU(18,"The candidate who have passed the Intermediate examination or Professional Education Examination \u2013 II./PCC/IPCC, are eligible to apply for the Final exam.Students who passes the CA-Foundation exam they can enroll in CA-inter Course. "),s.qZA(),s.TgZ(19,"li"),s._uU(20," They must also have completed 3 years or 3\xbd years or must be due to complete, as the case may be, of article training as on the date of filling the form. "),s.qZA(),s.TgZ(21,"li"),s._uU(22," For PCC stream students- The candidate must be serving the last six months of articled training including excess leave if any, and due to complete 3\xbd years on or before 30th April of the examination year. "),s.qZA(),s.TgZ(23,"li"),s._uU(24," For Intermediate IPCC students - The candidate must be serving the last six months of training including excess leave if any, and due to complete 3 years on or before 30 April of the examination year. "),s.qZA()()()(),s.TgZ(25,"blockquote",23)(26,"h4"),s._uU(27," Eligibility "),s.qZA(),s._uU(28," They must also have completed 3 years or 3\xbd years or must be due to complete, as the case may be, of article training as on the date of filling the form. For PCC stream students- The candidate must be serving the last six months of articled training including excess leave if any, and due to complete 3\xbd years on or before 30th April of the examination year. For Intermediate IPCC students - The candidate must be serving the last six months of training including excess leave if any, and due to complete 3 years on or before 30 April of the examination year. "),s.qZA(),s.TgZ(29,"div")(30,"h3"),s._uU(31,"Subjects for CA Professional Course"),s.qZA(),s.TgZ(32,"div")(33,"p"),s._uU(34," Paper 1: Financial Reporting "),s.qZA(),s.TgZ(35,"p"),s._uU(36," Paper 2: Strategic Financial Management\n"),s.qZA(),s.TgZ(37,"p"),s._uU(38," Paper 3: Advanced Auditing and Professional Ethics\n"),s.qZA(),s.TgZ(39,"p"),s._uU(40," Paper 4: Corporate and Allied Laws\n"),s.qZA(),s.TgZ(41,"p"),s._uU(42," Paper 5: Strategic Cost Management and Performance Evaluation\n"),s.qZA()()()()(),s.TgZ(43,"div",24)(44,"div",25)(45,"h3",26)(46,"a"),s._uU(47,"CA Sumit Arora\n"),s.qZA()(),s.TgZ(48,"h5"),s._uU(49,"CEO at "),s.TgZ(50,"a"),s._uU(51,"Prominent Academy"),s.qZA()(),s.TgZ(52,"p",27),s._uU(53," A teacher is a person with commendable skills for helping is Legacy,guiding ,helping solve a problem. CASumit arora has completed his graduation from Bhagat Singh College & fellow member of the isNgContainer. He cleared both groups intermediate in his very first attemot. he is also a member of institue of internal auditor(U.S). He has topped in CMA (foundation) securing 95% in accountancy. He has scored on an average 80% in every exam of accountancy. "),s.qZA()(),s.TgZ(54,"div",28),s._UZ(55,"img",29),s.TgZ(56,"ul",30)(57,"li")(58,"a"),s._UZ(59,"i",31),s.qZA()(),s.TgZ(60,"li")(61,"a"),s._UZ(62,"i",32),s.qZA()(),s.TgZ(63,"li")(64,"a"),s._UZ(65,"i",33),s.qZA()()()()()(),s.TgZ(66,"div",34),s._UZ(67,"div",35),s.TgZ(68,"div",36)(69,"h3",37),s._uU(70,"Categories"),s.qZA(),s.TgZ(71,"ul")(72,"li")(73,"a",38),s._uU(74,"CA Foundation Classes"),s.qZA()(),s.TgZ(75,"li")(76,"a",39),s._uU(77,"CA Intermediate Classes"),s.qZA()(),s.TgZ(78,"li")(79,"a",40),s._uU(80,"CA Professional Classes"),s.qZA()(),s.TgZ(81,"li")(82,"a",41),s._uU(83,"CS Foundation Classes"),s.qZA()(),s.TgZ(84,"li")(85,"a",42),s._uU(86,"CS Intermediate Classes"),s.qZA()(),s.TgZ(87,"li")(88,"a",43),s._uU(89,"CS Professional Classes"),s.qZA()(),s.TgZ(90,"li")(91,"a",44),s._uU(92,"CMA Foundation Classes"),s.qZA()(),s.TgZ(93,"li")(94,"a",45),s._uU(95,"CMA Intermediate Classes"),s.qZA()(),s.TgZ(96,"li")(97,"a",46),s._uU(98,"CMA Professional Classes"),s.qZA()()()()()())}let lO=(()=>{class n{constructor(t){this.router=t,this.url=this.router.url}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Hn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-course-details"]],decls:31,vars:6,consts:[[1,"all-title-box"],[1,"container","text-center"],[4,"ngIf"],["id","overviews",1,"section","wb"],[1,"container"],["class","row",4,"ngIf"],[1,"parallax","section","dbcolor"],[1,"row","logos"],[1,"col-md-2","col-sm-2","col-xs-6","wow","fadeInUp"],["src","images/logo_01.png","alt","",1,"img-repsonsive"],["src","images/logo_02.png","alt","",1,"img-repsonsive"],["src","images/logo_03.png","alt","",1,"img-repsonsive"],["src","images/logo_04.png","alt","",1,"img-repsonsive"],["src","images/logo_05.png","alt","",1,"img-repsonsive"],["src","images/logo_06.png","alt","",1,"img-repsonsive"],[1,"row"],[1,"col-lg-9","blog-post-single"],[1,"blog-item"],[1,"image-blog"],["src","../../assets/images/blog_1.jpg","height","100px","alt","",1,"img-fluid"],[1,"post-content"],[1,"blog-title"],[1,"blog-desc"],[1,"default"],[1,"blog-author"],[1,"author-bio"],[1,"author_name"],[1,"author_det"],[1,"author-desc"],["src","../../../assets/images/teacher3.jpeg","alt","about author"],[1,"author-social"],[1,"fa","fa-facebook"],[1,"fa","fa-twitter"],[1,"fa","fa-skype"],[1,"col-lg-3","col-12","right-single"],[1,"widget-search"],[1,"widget-categories"],[1,"widget-title"],["routerLink","/course-detail/ca/foundation"],["routerLink","/course-detail/ca/intermediate"],["routerLink","/course-detail/ca/final"],["routerLink","/course-detail/cs/foundation"],["routerLink","/course-detail/cs/intermediate"],["routerLink","/course-detail/cs/final"],["routerLink","/course-detail/cma/foundation"],["routerLink","/course-detail/cma/intermediate"],["routerLink","/course-detail/cma/final"],["src","./../assets/images/blog_2.jpg","height","100px","alt","",1,"img-fluid"],["src","../../assets/images/blog_3.jpg","height","100px","alt","",1,"img-fluid"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,Vq,2,0,"h1",2),s.YNc(3,Zq,2,0,"h1",2),s.YNc(4,Hq,2,0,"h1",2),s.qZA()(),s.TgZ(5,"div",3)(6,"div",4),s.YNc(7,jq,113,0,"div",5),s.YNc(8,Gq,131,0,"div",5),s.YNc(9,$q,99,0,"div",5),s.qZA()(),s.TgZ(10,"div",6)(11,"div",4)(12,"div",7)(13,"div",8)(14,"a"),s._UZ(15,"img",9),s.qZA()(),s.TgZ(16,"div",8)(17,"a"),s._UZ(18,"img",10),s.qZA()(),s.TgZ(19,"div",8)(20,"a"),s._UZ(21,"img",11),s.qZA()(),s.TgZ(22,"div",8)(23,"a"),s._UZ(24,"img",12),s.qZA()(),s.TgZ(25,"div",8)(26,"a"),s._UZ(27,"img",13),s.qZA()(),s.TgZ(28,"div",8)(29,"a"),s._UZ(30,"img",14),s.qZA()()()()()),2&t&&(s.xp6(2),s.Q6J("ngIf","/course-detail/ca/foundation"===i.url),s.xp6(1),s.Q6J("ngIf","/course-detail/ca/intermediate"===i.url),s.xp6(1),s.Q6J("ngIf","/course-detail/ca/final"===i.url),s.xp6(3),s.Q6J("ngIf","/course-detail/ca/foundation"===i.url),s.xp6(1),s.Q6J("ngIf","/course-detail/ca/intermediate"===i.url),s.xp6(1),s.Q6J("ngIf","/course-detail/ca/final"===i.url))},dependencies:[nn,Ul]}),n})();function qq(n,e){1&n&&(s.TgZ(0,"h1"),s._uU(1,"CA Course"),s.qZA())}function Wq(n,e){1&n&&(s.TgZ(0,"h1"),s._uU(1,"CS Course"),s.qZA())}function zq(n,e){1&n&&(s.TgZ(0,"h1"),s._uU(1,"CMA Course"),s.qZA())}function Kq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",10)(1,"div",11),s.NdJ("click",function(){const o=s.CHM(t).$implicit,c=s.oxw(2);return s.KtG(c.changePath(o))}),s.TgZ(2,"div",12),s._UZ(3,"img",13),s.qZA(),s.TgZ(4,"div",14)(5,"div",15)(6,"h2")(7,"a",16),s._uU(8),s.qZA()()(),s.TgZ(9,"div",17),s._uU(10," 4.5 "),s._UZ(11,"i",18)(12,"i",18)(13,"i",18)(14,"i",18)(15,"i",19),s.qZA()()()()}if(2&n){const t=e.$implicit;s.xp6(3),s.s9C("src",t.img,s.LSH),s.xp6(5),s.Oqu(t.courseName)}}function Yq(n,e){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,Kq,16,2,"div",9),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.course1)}}function Qq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",10)(1,"div",11),s.NdJ("click",function(){const o=s.CHM(t).$implicit,c=s.oxw(2);return s.KtG(c.changePath(o))}),s.TgZ(2,"div",12),s._UZ(3,"img",13),s.qZA(),s.TgZ(4,"div",14)(5,"div",15)(6,"h2")(7,"a",16),s._uU(8),s.qZA()()(),s.TgZ(9,"div",17),s._uU(10," 4.5 "),s._UZ(11,"i",18)(12,"i",18)(13,"i",18)(14,"i",18)(15,"i",19),s.qZA()()()()}if(2&n){const t=e.$implicit;s.xp6(3),s.s9C("src",t.img,s.LSH),s.xp6(5),s.Oqu(t.courseName)}}function Jq(n,e){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,Qq,16,2,"div",9),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.course2)}}function Xq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",10)(1,"div",11),s.NdJ("click",function(){const o=s.CHM(t).$implicit,c=s.oxw(2);return s.KtG(c.changePath(o))}),s.TgZ(2,"div",12),s._UZ(3,"img",13),s.qZA(),s.TgZ(4,"div",14)(5,"div",15)(6,"h2")(7,"a",16),s._uU(8),s.qZA()()(),s.TgZ(9,"div",17),s._uU(10," 4.5 "),s._UZ(11,"i",18)(12,"i",18)(13,"i",18)(14,"i",18)(15,"i",19),s.qZA()()()()}if(2&n){const t=e.$implicit;s.xp6(3),s.s9C("src",t.img,s.LSH),s.xp6(5),s.Oqu(t.courseName)}}function e4(n,e){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,Xq,16,2,"div",9),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.course3)}}let uO=(()=>{class n{constructor(t){this.router=t,this.course1=[{id:1,courseName:"CA Foundation Classes",courseSub:"Candidates must have passed 10+2",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog_1.jpg"},{id:2,courseName:"CA Intermediate Classes",courseSub:"Candidates must have passed 10+2",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog_2.jpg"},{id:3,courseName:"CA Professional Classes",courseSub:"",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog_3.jpg"}],this.course2=[{id:1,courseName:"CS EET Classes",courseSub:"Candidates must have passed 10+2",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog_4.jpg"},{id:2,courseName:"CS Executive Classes",courseSub:"Candidates must have passed 10+2",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog_5.jpg"},{id:3,courseName:"CS Professional Classes",courseSub:"",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog_6.jpg"}],this.course3=[{id:1,courseName:"CMA Foundation Classes",courseSub:"Candidates must have passed 10+2",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog_9.jpg"},{id:2,courseName:"CMA Intermediate Classes",courseSub:"Candidates must have passed 10+2",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog8.jpg"},{id:3,courseName:"CMA Professional Classes",courseSub:"",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog9.jpg"}],this.url=this.router.url}ngOnInit(){}changePath(t){"CA Foundation Classes"===t.courseName&&this.router.navigateByUrl("course-detail/ca/foundation"),"CA Intermediate Classes"===t.courseName&&this.router.navigateByUrl("course-detail/ca/intermediate"),"CA Professional Classes"===t.courseName&&this.router.navigateByUrl("course-detail/ca/final"),"CS EET Classes"===t.courseName&&this.router.navigateByUrl("course-detail/cs/foundation"),"CS Executive Classes"===t.courseName&&this.router.navigateByUrl("course-detail/cs/intermediate"),"CS Professional Classes"===t.courseName&&this.router.navigateByUrl("course-detail/cs/final"),"CMA Foundation Classes"===t.courseName&&this.router.navigateByUrl("course-detail/cma/foundation"),"CMA Intermediate Classes"===t.courseName&&this.router.navigateByUrl("course-detail/cma/intermediate"),"CMA Professional Classes"===t.courseName&&this.router.navigateByUrl("course-detail/cma/final")}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Hn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-ca"]],decls:12,vars:6,consts:[[1,"all-title-box"],[1,"container","text-center"],[4,"ngIf"],["id","overviews",1,"section","wb"],[1,"container"],[1,"invis"],["class","row",4,"ngIf"],[1,"hr3"],[1,"row"],["class","col-lg-4 col-md-6 col-12",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6","col-12"],[1,"course-item",3,"click"],[1,"image-blog"],["alt","",1,"img-fluid",3,"src"],[1,"course-br"],[1,"course-title"],["title",""],[1,"course-rating"],[1,"fa","fa-star"],[1,"fa","fa-star-half"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,qq,2,0,"h1",2),s.YNc(3,Wq,2,0,"h1",2),s.YNc(4,zq,2,0,"h1",2),s.qZA()(),s.TgZ(5,"div",3)(6,"div",4),s._UZ(7,"hr",5),s.YNc(8,Yq,2,1,"div",6),s.YNc(9,Jq,2,1,"div",6),s.YNc(10,e4,2,1,"div",6),s._UZ(11,"hr",7),s.qZA()()),2&t&&(s.xp6(2),s.Q6J("ngIf","/ca"===i.url),s.xp6(1),s.Q6J("ngIf","/cs"===i.url),s.xp6(1),s.Q6J("ngIf","/cma"===i.url),s.xp6(4),s.Q6J("ngIf","/ca"===i.url),s.xp6(1),s.Q6J("ngIf","/cs"===i.url),s.xp6(1),s.Q6J("ngIf","/cma"===i.url))},dependencies:[Ln,nn]}),n})();function t4(n,e){if(1&n&&(s.TgZ(0,"div",16)(1,"div",17)(2,"div",18),s._UZ(3,"img",19),s.TgZ(4,"div",20)(5,"p",21),s._uU(6),s.qZA()()(),s.TgZ(7,"div",22)(8,"h3",23),s._uU(9),s.qZA()()()()),2&n){const t=e.$implicit;s.xp6(3),s.Q6J("src",null==t?null:t.fireBaseUrl,s.LSH),s.xp6(3),s.hij(" ",null==t?null:t.description,""),s.xp6(3),s.Oqu(null==t?null:t.name)}}let n4=(()=>{class n{constructor(t){this.adminSer=t,this.data=[]}ngOnInit(){this.getData()}getData(){this.adminSer.getTeacher().subscribe(t=>{this.data=t.sort((i,r)=>i.position-r.position)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(dv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-faculty"]],decls:29,vars:1,consts:[[1,"all-title-box"],[1,"container","text-center"],["id","teachers",1,"section","wb"],[1,"container"],[1,"row"],["class","col-lg-4 col-md-6 col-12",4,"ngFor","ngForOf"],[1,"parallax","section","dbcolor"],[1,"row","logos"],[1,"col-md-2","col-sm-2","col-xs-6","wow","fadeInUp"],["href","#"],["src","images/logo_01.png","alt","",1,"img-repsonsive"],["src","images/logo_02.png","alt","",1,"img-repsonsive"],["src","images/logo_03.png","alt","",1,"img-repsonsive"],["src","images/logo_04.png","alt","",1,"img-repsonsive"],["src","images/logo_05.png","alt","",1,"img-repsonsive"],["src","images/logo_06.png","alt","",1,"img-repsonsive"],[1,"col-lg-4","col-md-6","col-12"],[1,"our-team"],[1,"team-img"],["width","50%","height","200px",3,"src"],[1,"social"],[2,"position","relative","top","30px"],[1,"team-content"],[1,"title"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1"),s._uU(3,"Teachers "),s.qZA()()(),s.TgZ(4,"div",2)(5,"div",3)(6,"div",4),s.YNc(7,t4,10,3,"div",5),s.qZA()()(),s.TgZ(8,"div",6)(9,"div",3)(10,"div",7)(11,"div",8)(12,"a",9),s._UZ(13,"img",10),s.qZA()(),s.TgZ(14,"div",8)(15,"a",9),s._UZ(16,"img",11),s.qZA()(),s.TgZ(17,"div",8)(18,"a",9),s._UZ(19,"img",12),s.qZA()(),s.TgZ(20,"div",8)(21,"a",9),s._UZ(22,"img",13),s.qZA()(),s.TgZ(23,"div",8)(24,"a",9),s._UZ(25,"img",14),s.qZA()(),s.TgZ(26,"div",8)(27,"a",9),s._UZ(28,"img",15),s.qZA()()()()()),2&t&&(s.xp6(7),s.Q6J("ngForOf",i.data))},dependencies:[Ln]}),n})();function i4(n,e){if(1&n&&(s.TgZ(0,"div",4),s._UZ(1,"img",5),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("src",t.fireBaseUrl,s.LSH)}}let r4=(()=>{class n{constructor(t){this.adminSer=t,this.galleryData=[]}ngOnInit(){this.getGalleryData()}getGalleryData(){this.adminSer.getGallery().subscribe(t=>{this.galleryData=t})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(dv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-gallery"]],decls:6,vars:1,consts:[[1,"all-title-box"],[1,"container","text-center"],[1,"row"],["class","col-sm-3",4,"ngFor","ngForOf"],[1,"col-sm-3"],["height","300px","width","300px",3,"src"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1"),s._uU(3,"Gallery"),s.qZA()()(),s.TgZ(4,"div",2),s.YNc(5,i4,2,1,"div",3),s.qZA()),2&t&&(s.xp6(5),s.Q6J("ngForOf",i.galleryData))},dependencies:[Ln],styles:[".col-sm-3[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}"]}),n})();var s4=U(1144);const o4=["addListener","removeListener"],a4=["addEventListener","removeEventListener"],l4=["on","off"];function as(n,e,t,i){if((0,br.m)(t)&&(i=t,t=void 0),i)return as(n,e,t).pipe(Aa(i));const[r,o]=function d4(n){return(0,br.m)(n.addEventListener)&&(0,br.m)(n.removeEventListener)}(n)?a4.map(c=>h=>n[c](e,h,t)):function u4(n){return(0,br.m)(n.addListener)&&(0,br.m)(n.removeListener)}(n)?o4.map(tB(n,e)):function c4(n){return(0,br.m)(n.on)&&(0,br.m)(n.off)}(n)?l4.map(tB(n,e)):[];if(!r&&(0,s4.z)(n))return(0,S.z)(c=>as(c,e,t))((0,lr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Un.y(c=>{const h=(...p)=>c.next(1<p.length?p:p[0]);return r(h),()=>o(h)})}function tB(n,e){return t=>i=>n[t](e,i)}var h4=U(3532);function cO(n=0,e,t=Gh.P){let i=-1;return null!=e&&((0,h4.K)(e)?t=e:i=e),new Un.y(r=>{let o=function f4(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const{isArray:p4}=Array;function nB(n){return 1===n.length&&p4(n[0])?n[0]:n}var _I=U(5032);const rB=new Un.y(_I.Z);function yI(...n){const e=(0,vr.jO)(n),t=nB(n);return t.length?new Un.y(i=>{let r=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{r=o=null});for(let c=0;!i.closed&&c<t.length;c++)(0,lr.Xf)(t[c]).subscribe((0,In.x)(i,h=>{if(r[c].push(h),r.every(p=>p.length)){const p=r.map(y=>y.shift());i.next(e?e(...p):p),r.some((y,C)=>!y.length&&o[C])&&i.complete()}},()=>{o[c]=!0,!r[c].length&&i.complete()}));return()=>{r=o=null}}):ts.E}function qi(n){return(0,Yn.e)((e,t)=>{(0,lr.Xf)(n).subscribe((0,In.x)(t,()=>t.complete(),_I.Z)),!t.closed&&e.subscribe(t)})}function vI(...n){const e=(0,vr.jO)(n);return(0,Yn.e)((t,i)=>{const r=n.length,o=new Array(r);let c=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,lr.Xf)(n[p]).subscribe((0,In.x)(i,y=>{o[p]=y,!h&&!c[p]&&(c[p]=!0,(h=c.every(Bs.y))&&(c=null))},_I.Z));t.subscribe((0,In.x)(i,p=>{if(h){const y=[p,...o];i.next(e?e(...y):y)}}))})}function T8(n,e){}function E8(n,e){if(1&n&&(s.TgZ(0,"button",3),s._uU(1),s.YNc(2,T8,0,0,"ng-template",4),s.qZA()),2&n){const t=e.$implicit;s.Q6J("ngbPanelToggle",t),s.xp6(1),s.hij(" ",t.title," "),s.xp6(1),s.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function D8(n,e){}function I8(n,e){}function S8(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",8),s.NdJ("ngbRef",function(r){s.CHM(t);const o=s.oxw().$implicit;return s.KtG(o.panelDiv=r)}),s.TgZ(1,"div",9),s.YNc(2,I8,0,0,"ng-template",4),s.qZA()()}if(2&n){const t=s.oxw().$implicit;s.s9C("id",t.id),s.uIk("aria-labelledby",t.id+"-header"),s.xp6(2),s.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const A8=function(n,e){return{$implicit:n,opened:e}};function N8(n,e){if(1&n&&(s.TgZ(0,"div")(1,"div",5),s.YNc(2,D8,0,0,"ng-template",6),s.qZA(),s.YNc(3,S8,3,3,"div",7),s.qZA()),2&n){const t=e.$implicit,i=s.oxw(),r=s.MAs(1);s.Tol("accordion-item "+(t.cardClass||"")),s.xp6(1),s.Tol("accordion-header "+(t.type?"bg-"+t.type:i.type?"bg-"+i.type:"")),s.MGl("id","",t.id,"-header"),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||r)("ngTemplateOutletContext",s.WLB(8,A8,t,t.isOpen)),s.xp6(1),s.Q6J("ngIf",!i.destroyOnHide||t.isOpen||t.transitionRunning)}}function M8(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",1),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.close())}),s.qZA()}}const EI=["*"];function x8(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(){const o=s.CHM(t).$implicit,c=s.oxw();return c.focus(),s.KtG(c.select(o.id,c.NgbSlideEventSource.INDICATOR))}),s.qZA()}if(2&n){const t=e.$implicit,i=s.oxw();s.ekj("active",t.id===i.activeId),s.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===i.activeId)}}function R8(n,e){}function O8(n,e){if(1&n&&(s.TgZ(0,"div",7)(1,"span",8),s.SDv(2,9),s.qZA(),s.YNc(3,R8,0,0,"ng-template",10),s.qZA()),2&n){const t=e.$implicit,i=e.index,r=e.count;s.Q6J("id","slide-"+t.id),s.xp6(2),s.pQV(i+1)(r),s.QtT(2),s.xp6(1),s.Q6J("ngTemplateOutlet",t.tplRef)}}function P8(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",11),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.arrowLeft())}),s._UZ(1,"span",12),s.TgZ(2,"span",8),s.SDv(3,13),s.qZA()()}}function k8(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",14),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.arrowRight())}),s._UZ(1,"span",15),s.TgZ(2,"span",8),s.SDv(3,16),s.qZA()()}}const F8=["ngbDatepickerDayView",""],L8=["month"],U8=["year"];function B8(n,e){if(1&n&&(s.TgZ(0,"option",5),s._uU(1),s.qZA()),2&n){const t=e.$implicit,i=s.oxw();s.Q6J("value",t),s.uIk("aria-label",i.i18n.getMonthFullName(t,i.date.year)),s.xp6(1),s.Oqu(i.i18n.getMonthShortName(t,i.date.year))}}function V8(n,e){if(1&n&&(s.TgZ(0,"option",5),s._uU(1),s.qZA()),2&n){const t=e.$implicit,i=s.oxw();s.Q6J("value",t),s.xp6(1),s.Oqu(i.i18n.getYearNumerals(t))}}function Z8(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"ngb-datepicker-navigation-select",7),s.NdJ("select",function(r){s.CHM(t);const o=s.oxw();return s.KtG(o.select.emit(r))}),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function H8(n,e){1&n&&s._UZ(0,"div",0)}function j8(n,e){1&n&&s._UZ(0,"div",0)}function G8(n,e){if(1&n&&(s.YNc(0,H8,1,0,"div",9),s.TgZ(1,"div",10),s._uU(2),s.qZA(),s.YNc(3,j8,1,0,"div",9)),2&n){const t=e.$implicit,i=e.index,r=s.oxw(2);s.Q6J("ngIf",i>0),s.xp6(2),s.hij(" ",r.i18n.getMonthLabel(t.firstDate)," "),s.xp6(1),s.Q6J("ngIf",i!==r.months.length-1)}}function $8(n,e){if(1&n&&s.YNc(0,G8,4,3,"ng-template",8),2&n){const t=s.oxw();s.Q6J("ngForOf",t.months)}}function q8(n,e){if(1&n&&(s.TgZ(0,"div",5),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.xp6(1),s.Oqu(t.i18n.getWeekLabel())}}function W8(n,e){if(1&n&&(s.TgZ(0,"div",6),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Oqu(t)}}function z8(n,e){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,q8,2,1,"div",3),s.YNc(2,W8,2,1,"div",4),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",t.datepicker.showWeekNumbers),s.xp6(1),s.Q6J("ngForOf",t.viewModel.weekdays)}}function K8(n,e){if(1&n&&(s.TgZ(0,"div",11),s._uU(1),s.qZA()),2&n){const t=s.oxw(2).$implicit,i=s.oxw();s.xp6(1),s.Oqu(i.i18n.getWeekNumerals(t.number))}}function Y8(n,e){}function Q8(n,e){if(1&n&&s.YNc(0,Y8,0,0,"ng-template",14),2&n){const t=s.oxw().$implicit,i=s.oxw(3);s.Q6J("ngTemplateOutlet",i.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function J8(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",12),s.NdJ("click",function(r){const c=s.CHM(t).$implicit;return s.oxw(3).doSelect(c),s.KtG(r.preventDefault())}),s.YNc(1,Q8,1,2,"ng-template",13),s.qZA()}if(2&n){const t=e.$implicit;s.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),s.Q6J("tabindex",t.tabindex),s.uIk("aria-label",t.ariaLabel),s.xp6(1),s.Q6J("ngIf",!t.hidden)}}function X8(n,e){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,K8,2,1,"div",9),s.YNc(2,J8,2,9,"div",10),s.qZA()),2&n){const t=s.oxw().$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngIf",i.datepicker.showWeekNumbers),s.xp6(1),s.Q6J("ngForOf",t.days)}}function e5(n,e){1&n&&s.YNc(0,X8,3,2,"div",7),2&n&&s.Q6J("ngIf",!e.$implicit.collapsed)}const t5=["defaultDayTemplate"],n5=["content"];function i5(n,e){if(1&n&&s._UZ(0,"div",7),2&n){const i=e.currentMonth,r=e.selected,o=e.disabled,c=e.focused;s.Q6J("date",e.date)("currentMonth",i)("selected",r)("disabled",o)("focused",c)}}function r5(n,e){if(1&n&&(s.TgZ(0,"div",12),s._uU(1),s.qZA()),2&n){const t=s.oxw().$implicit,i=s.oxw(2);s.xp6(1),s.hij(" ",i.i18n.getMonthLabel(t.firstDate)," ")}}function s5(n,e){if(1&n&&(s.TgZ(0,"div",9),s.YNc(1,r5,2,1,"div",10),s._UZ(2,"ngb-datepicker-month",11),s.qZA()),2&n){const t=e.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("ngIf","none"===i.navigation||i.displayMonths>1&&"select"===i.navigation),s.xp6(1),s.Q6J("month",t.firstDate)}}function o5(n,e){if(1&n&&s.YNc(0,s5,3,2,"div",8),2&n){const t=s.oxw();s.Q6J("ngForOf",t.model.months)}}function a5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"ngb-datepicker-navigation",13),s.NdJ("navigate",function(r){s.CHM(t);const o=s.oxw();return s.KtG(o.onNavigateEvent(r))})("select",function(r){s.CHM(t);const o=s.oxw();return s.KtG(o.onNavigateDateSelect(r))}),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function l5(n,e){}function u5(n,e){}const c5=["dialog"],d5=["ngbNavOutlet",""];function h5(n,e){}const f5=function(n){return{$implicit:n}};function p5(n,e){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,h5,0,0,"ng-template",3),s.qZA()),2&n){const t=s.oxw().$implicit,i=s.oxw();s.Q6J("item",t)("nav",i.nav)("role",i.paneRole),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",s.VKq(5,f5,t.active||i.isPanelTransitioning(t)))}}function g5(n,e){if(1&n&&s.YNc(0,p5,2,7,"div",1),2&n){const t=e.$implicit,i=s.oxw();s.Q6J("ngIf",t.isPanelInDom()||i.isPanelTransitioning(t))}}function m5(n,e){1&n&&(s.TgZ(0,"span",9),s.SDv(1,10),s.qZA())}function _5(n,e){1&n&&(s.TgZ(0,"span",9),s.SDv(1,11),s.qZA())}function y5(n,e){1&n&&(s.TgZ(0,"span",9),s.SDv(1,12),s.qZA())}function v5(n,e){1&n&&(s.TgZ(0,"span",9),s.SDv(1,13),s.qZA())}function b5(n,e){1&n&&s._uU(0,"...")}function w5(n,e){1&n&&(s.TgZ(0,"span",15),s._uU(1,"(current)"),s.qZA())}function C5(n,e){if(1&n&&(s._uU(0),s.YNc(1,w5,2,0,"span",14)),2&n){const t=e.$implicit,i=e.currentPage;s.hij(" ",t," "),s.xp6(1),s.Q6J("ngIf",t===i)}}function T5(n,e){}const E5=function(n){return{disabled:!0,currentPage:n}};function D5(n,e){if(1&n&&(s.TgZ(0,"a",20),s.YNc(1,T5,0,0,"ng-template",8),s.qZA()),2&n){const t=s.oxw(2).$implicit,i=s.oxw(),r=s.MAs(9);s.xp6(1),s.Q6J("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||r)("ngTemplateOutletContext",s.VKq(2,E5,t))}}function I5(n,e){}const S5=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function A5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"a",21),s.NdJ("click",function(r){s.CHM(t);const o=s.oxw().$implicit;return s.oxw(2).selectPage(o),s.KtG(r.preventDefault())}),s.YNc(1,I5,0,0,"ng-template",8),s.qZA()}if(2&n){const t=s.oxw().$implicit,i=s.oxw(),r=i.disabled,o=i.$implicit,c=s.oxw(),h=s.MAs(11);s.uIk("tabindex",r?"-1":null)("aria-disabled",r?"true":null),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==c.tplNumber?null:c.tplNumber.templateRef)||h)("ngTemplateOutletContext",s.kEZ(4,S5,r,t,o))}}function N5(n,e){if(1&n&&(s.TgZ(0,"li",17),s.YNc(1,D5,2,4,"a",18),s.YNc(2,A5,2,8,"a",19),s.qZA()),2&n){const t=e.$implicit,i=s.oxw(),r=i.$implicit,o=i.disabled,c=s.oxw();s.ekj("active",t===r)("disabled",c.isEllipsis(t)||o),s.uIk("aria-current",t===r?"page":null),s.xp6(1),s.Q6J("ngIf",c.isEllipsis(t)),s.xp6(1),s.Q6J("ngIf",!c.isEllipsis(t))}}function M5(n,e){1&n&&s.YNc(0,N5,3,7,"li",16),2&n&&s.Q6J("ngForOf",e.pages)}function x5(n,e){}const wO=function(n,e){return{disabled:n,currentPage:e}};function R5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"li",17)(1,"a",22),s.NdJ("click",function(r){return s.CHM(t),s.oxw().selectPage(1),s.KtG(r.preventDefault())}),s.YNc(2,x5,0,0,"ng-template",8),s.qZA()()}if(2&n){const t=s.oxw(),i=s.MAs(1);s.ekj("disabled",t.previousDisabled()),s.xp6(1),s.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||i)("ngTemplateOutletContext",s.WLB(6,wO,t.previousDisabled(),t.page))}}function O5(n,e){}const P5=function(n){return{disabled:n}};function k5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"li",17)(1,"a",23),s.NdJ("click",function(r){s.CHM(t);const o=s.oxw();return o.selectPage(o.page-1),s.KtG(r.preventDefault())}),s.YNc(2,O5,0,0,"ng-template",8),s.qZA()()}if(2&n){const t=s.oxw(),i=s.MAs(3);s.ekj("disabled",t.previousDisabled()),s.xp6(1),s.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||i)("ngTemplateOutletContext",s.VKq(6,P5,t.previousDisabled()))}}function F5(n,e){}function L5(n,e){}function U5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"li",17)(1,"a",24),s.NdJ("click",function(r){s.CHM(t);const o=s.oxw();return o.selectPage(o.page+1),s.KtG(r.preventDefault())}),s.YNc(2,L5,0,0,"ng-template",8),s.qZA()()}if(2&n){const t=s.oxw(),i=s.MAs(5);s.ekj("disabled",t.nextDisabled()),s.xp6(1),s.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||i)("ngTemplateOutletContext",s.WLB(6,wO,t.nextDisabled(),t.page))}}function B5(n,e){}function V5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"li",17)(1,"a",25),s.NdJ("click",function(r){s.CHM(t);const o=s.oxw();return o.selectPage(o.pageCount),s.KtG(r.preventDefault())}),s.YNc(2,B5,0,0,"ng-template",8),s.qZA()()}if(2&n){const t=s.oxw(),i=s.MAs(7);s.ekj("disabled",t.nextDisabled()),s.xp6(1),s.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||i)("ngTemplateOutletContext",s.WLB(6,wO,t.nextDisabled(),t.page))}}const Z5=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function G5(n,e){if(1&n&&(s.TgZ(0,"span"),s.SDv(1,1),s.ALo(2,"percent"),s.qZA()),2&n){const t=s.oxw();s.xp6(2),s.pQV(s.lcZ(2,1,t.getValue()/t.max)),s.QtT(1)}}function $5(n,e){1&n&&s._uU(0),2&n&&s.Oqu(100===e.fill?"\u2605":"\u2606")}function q5(n,e){}function W5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",2),s._uU(1),s.qZA(),s.TgZ(2,"span",3),s.NdJ("mouseenter",function(){const o=s.CHM(t).index,c=s.oxw();return s.KtG(c.enter(o+1))})("click",function(){const o=s.CHM(t).index,c=s.oxw();return s.KtG(c.handleClick(o+1))}),s.YNc(3,q5,0,0,"ng-template",4),s.qZA()}if(2&n){const t=e.index,i=s.oxw(),r=s.MAs(1);s.xp6(1),s.hij("(",t<i.nextRate?"*":" ",")"),s.xp6(1),s.Udp("cursor",i.isInteractive()?"pointer":"default"),s.xp6(1),s.Q6J("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||r)("ngTemplateOutletContext",i.contexts[t])}}function z5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",11),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.changeHour(r.hourStep))}),s._UZ(1,"span",12),s.TgZ(2,"span",13),s.SDv(3,14),s.qZA()()}if(2&n){const t=s.oxw();s.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),s.Q6J("disabled",t.disabled)}}function K5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",11),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.changeHour(-r.hourStep))}),s._UZ(1,"span",15),s.TgZ(2,"span",13),s.SDv(3,16),s.qZA()()}if(2&n){const t=s.oxw();s.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),s.Q6J("disabled",t.disabled)}}function Y5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",11),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.changeMinute(r.minuteStep))}),s._UZ(1,"span",12),s.TgZ(2,"span",13),s.SDv(3,17),s.qZA()()}if(2&n){const t=s.oxw();s.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),s.Q6J("disabled",t.disabled)}}function Q5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",11),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.changeMinute(-r.minuteStep))}),s._UZ(1,"span",15),s.TgZ(2,"span",13),s.SDv(3,18),s.qZA()()}if(2&n){const t=s.oxw();s.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),s.Q6J("disabled",t.disabled)}}function J5(n,e){1&n&&(s.TgZ(0,"div",5),s._uU(1,":"),s.qZA())}function X5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",11),s.NdJ("click",function(){s.CHM(t);const r=s.oxw(2);return s.KtG(r.changeSecond(r.secondStep))}),s._UZ(1,"span",12),s.TgZ(2,"span",13),s.SDv(3,21),s.qZA()()}if(2&n){const t=s.oxw(2);s.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),s.Q6J("disabled",t.disabled)}}function eW(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",11),s.NdJ("click",function(){s.CHM(t);const r=s.oxw(2);return s.KtG(r.changeSecond(-r.secondStep))}),s._UZ(1,"span",15),s.TgZ(2,"span",13),s.SDv(3,22),s.qZA()()}if(2&n){const t=s.oxw(2);s.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),s.Q6J("disabled",t.disabled)}}function tW(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",19),s.YNc(1,X5,4,7,"button",3),s.TgZ(2,"input",20),s.NdJ("change",function(r){s.CHM(t);const o=s.oxw();return s.KtG(o.updateSecond(r.target.value))})("blur",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.handleBlur())})("input",function(r){s.CHM(t);const o=s.oxw();return s.KtG(o.formatInput(r.target))})("keydown.ArrowUp",function(r){s.CHM(t);const o=s.oxw();return o.changeSecond(o.secondStep),s.KtG(r.preventDefault())})("keydown.ArrowDown",function(r){s.CHM(t);const o=s.oxw();return o.changeSecond(-o.secondStep),s.KtG(r.preventDefault())}),s.qZA(),s.YNc(3,eW,4,7,"button",3),s.qZA()}if(2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",t.spinners),s.xp6(1),s.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),s.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),s.xp6(1),s.Q6J("ngIf",t.spinners)}}function nW(n,e){1&n&&s._UZ(0,"div",5)}function iW(n,e){if(1&n&&(s.ynx(0),s.SDv(1,27),s.BQk()),2&n){const t=s.oxw(2);s.xp6(1),s.pQV(t.i18n.getAfternoonPeriod()),s.QtT(1)}}function rW(n,e){if(1&n&&s.SDv(0,28),2&n){const t=s.oxw(2);s.pQV(t.i18n.getMorningPeriod()),s.QtT(0)}}function sW(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",23)(1,"button",24),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.toggleMeridian())}),s.YNc(2,iW,2,1,"ng-container",25),s.YNc(3,rW,1,1,"ng-template",null,26,s.W1O),s.qZA()()}if(2&n){const t=s.MAs(4),i=s.oxw();s.xp6(1),s.ekj("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),s.Q6J("disabled",i.disabled),s.xp6(1),s.Q6J("ngIf",i.model&&i.model.hour>=12)("ngIfElse",t)}}function oW(n,e){if(1&n&&(s.TgZ(0,"strong",3),s._uU(1),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Oqu(t.header)}}function aW(n,e){}function lW(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",4),s.YNc(1,aW,0,0,"ng-template",5),s.TgZ(2,"button",6),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.hide())}),s.qZA()()}if(2&n){const t=s.oxw(),i=s.MAs(1);s.xp6(1),s.Q6J("ngTemplateOutlet",t.contentHeaderTpl||i)}}function uW(n,e){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const t=s.oxw().$implicit,i=s.oxw();s.Tol(i.highlightClass),s.xp6(1),s.Oqu(t)}}function cW(n,e){if(1&n&&s._uU(0),2&n){const t=s.oxw().$implicit;s.Oqu(t)}}function dW(n,e){if(1&n&&(s.YNc(0,uW,2,3,"span",1),s.YNc(1,cW,1,1,"ng-template",null,2,s.W1O)),2&n){const t=e.odd,i=s.MAs(2);s.Q6J("ngIf",t)("ngIfElse",i)}}function ls(n){return parseInt(`${n}`,10)}function CB(n){return null!=n?`${n}`:""}function DI(n,e,t=0){return Math.max(Math.min(n,e),t)}function vC(n){return"string"==typeof n}function Wi(n){return!isNaN(ls(n))}function Li(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function rm(n){return null!=n}function _v(n){return Wi(n)?`0${n}`.slice(-2):""}function EB(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function yv(n){return(n||document.body).getBoundingClientRect()}function DB(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const IB={animation:!0,transitionTimerDelayMs:5},yW=()=>{},{transitionTimerDelayMs:vW}=IB,bC=new Map,Gr=(n,e,t,i)=>{let r=i.context||{};const o=bC.get(e);if(o)switch(i.runningTransition){case"continue":return ts.E;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),bC.delete(e)}const c=t(e,i.animation,r)||yW;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),dt(void 0).pipe(function mW(n){return e=>new Un.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new gn.x,p=new gn.x,y=h.pipe(function m4(...n){return e=>_s(e,dt(...n))}(!0));bC.set(e,{transition$:h,complete:()=>{p.next(),p.complete()},context:r});const C=function _W(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const I=as(e,"transitionend").pipe(qi(y),D(({target:O})=>O===e));(function iB(...n){return 1===(n=nB(n)).length?(0,lr.Xf)(n[0]):new Un.y(function g4(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,lr.Xf)(n[i]).subscribe((0,In.x)(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(r)})))}}(n))})(cO(C+vW).pipe(qi(y)),I,p).pipe(qi(y)).subscribe(()=>{bC.delete(e),n.run(()=>{c(),h.next(),h.complete()})})}),h.asObservable()},SB=(n,e,t)=>{let{direction:i,maxSize:r,dimension:o}=t;const{classList:c}=n;function h(){c.add("collapse"),"show"===i?c.add("show"):c.remove("show")}if(e)return r||(r=function wW(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,i=t.contains("show");i||t.add("show"),n.style[e]="";const r=n.getBoundingClientRect()[e]+"px";return i||t.remove("show"),r}(n,o),t.maxSize=r,n.style[o]="show"!==i?r:"0px",c.remove("collapse"),c.remove("collapsing"),c.remove("show"),yv(n),c.add("collapsing")),n.style[o]="show"===i?r:"0px",()=>{h(),c.remove("collapsing"),n.style[o]=""};h()};let vv=(()=>{class n{constructor(){this.animation=IB.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CW=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(vv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TW=0,CO=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),AB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),NB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),TO=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+TW++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new s.vpe,this.hidden=new s.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,i,r){if(1&t&&(s.Suo(r,AB,4),s.Suo(r,CO,4),s.Suo(r,NB,4)),2&t){let o;s.iGM(o=s.CRH())&&(i.titleTpls=o),s.iGM(o=s.CRH())&&(i.headerTpls=o),s.iGM(o=s.CRH())&&(i.contentTpls=o)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),EW=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new s.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),MB=(()=>{class n{constructor(t,i){this.accordion=t,this.panel=i}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36((0,s.Gpc)(()=>EO)),s.Y36(TO,9))},n.\u0275dir=s.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,i){1&t&&s.NdJ("click",function(){return i.accordion.toggle(i.panel.id)}),2&t&&(s.Ikx("disabled",i.panel.disabled),s.uIk("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),s.ekj("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),EO=(()=>{class n{constructor(t,i,r){this._ngZone=i,this._changeDetector=r,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new s.vpe,this.shown=new s.vpe,this.hidden=new s.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const i=this._findPanelById(t);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){vC(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(zt(1)).subscribe(()=>{this.panels.forEach(t=>{const i=t.panelDiv;i?t.initClassDone||(t.initClassDone=!0,Gr(this._ngZone,i,SB,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,i){if(null!=t&&!t.disabled&&t.isOpen!==i){let r=!1;this.panelChange.emit({panelId:t.id,nextState:i,preventDefault:()=>{r=!0}}),r||(t.isOpen=i,t.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,i=!0){this.panels.forEach(r=>{r.id!==t&&r.isOpen&&(r.isOpen=!1,r.transitionRunning=i)})}_findPanelById(t){return this.panels.find(i=>i.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&Gr(this._ngZone,i.panelDiv,SB,{animation:t,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{i.transitionRunning=!1;const{id:o}=i;i.isOpen?(i.shown.emit(),this.shown.emit(o)):(i.hidden.emit(),this.hidden.emit(o))})})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(CW),s.Y36(s.R0b),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,i,r){if(1&t&&s.Suo(r,TO,4),2&t){let o;s.iGM(o=s.CRH())&&(i.panels=o)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,i){2&t&&s.uIk("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[s.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,i){1&t&&(s.YNc(0,E8,3,3,"ng-template",0,1,s.W1O),s.YNc(2,N8,4,11,"ng-template",2)),2&t&&(s.xp6(2),s.Q6J("ngForOf",i.panels))},dependencies:[Ln,Yr,MB,EW,CO,nn],encapsulation:2}),n})(),xB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[EO]}),n})();const DW=({classList:n})=>{n.remove("show")};let IW=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(vv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SW=(()=>{class n{constructor(t,i,r,o){this._renderer=i,this._element=r,this._zone=o,this.closed=new s.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=Gr(this._zone,this._element.nativeElement,DW,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const i=t.type;i&&!i.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${i.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${i.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(IW),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,i){2&t&&s.ekj("fade",i.animation)("alert-dismissible",i.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[s.TTD,s.jDz],ngContentSelectors:EI,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,i){1&t&&(s.F$t(),s.Hsn(0),s.YNc(1,M8,1,0,"button",0)),2&t&&(s.xp6(1),s.Q6J("ngIf",i.dismissible))},dependencies:[nn],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),RB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[SW]}),n})();var Bf=(()=>(function(n){n.START="start",n.END="end"}(Bf||(Bf={})),Bf))();const OB=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),wC=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},II=n=>{wC(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},AW=(n,e,{direction:t})=>{const{classList:i}=n;return e?(OB(n)?wC(i):(i.add("carousel-item-"+(t===Bf.START?"next":"prev")),yv(n),i.add("carousel-item-"+t)),()=>{II(i),i.add("active")}):(wC(i),II(i),void i.add("active"))},NW=(n,e,{direction:t})=>{const{classList:i}=n;return e?(OB(n)?wC(i):i.add("carousel-item-"+t),()=>{II(i),i.remove("active")}):(wC(i),II(i),void i.remove("active"))};let PB=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(vv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MW=0,kB=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+MW++,this.slid=new s.vpe}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),FB=(()=>{class n{constructor(t,i,r,o,c){this._platformId=i,this._ngZone=r,this._cd=o,this._container=c,this.NgbSlideEventSource=sm,this._destroy$=new gn.x,this._interval$=new en(0),this._mouseHover$=new en(!1),this._focused$=new en(!1),this._pauseOnHover$=new en(!1),this._pauseOnFocus$=new en(!1),this._pause$=new en(!1),this._wrap$=new en(!1),this.slide=new s.vpe,this.slid=new s.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(sm.ARROW_LEFT)}arrowRight(){this.focus(),this.next(sm.ARROW_RIGHT)}ngAfterContentInit(){(function Pc(n){return n===Os})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=fo([this.slide.pipe((0,Ke.U)(i=>i.current),zo(this.activeId)),this._wrap$,this.slides.changes.pipe(zo(null))]).pipe((0,Ke.U)(([i,r])=>{const o=this.slides.toArray(),c=this._getSlideIdxById(i);return r?o.length>1:c<o.length-1}),rc());fo([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,Ke.U)(([i,r,o,c,h,p,y])=>i||r&&o||c&&h||!y?0:p),rc(),On(i=>i>0?cO(i,i):rB),qi(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(sm.TIMER)))}),this.slides.changes.pipe(qi(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{bC.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(zt(1)).subscribe(()=>{for(const{id:t}of this.slides){const i=this._getSlideElement(t);t===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,i){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),i)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Bf.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Bf.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,i,r){const o=this._transitionIds;if(o&&(o[0]!==t||o[1]!==this.activeId))return;let c=this._getSlideById(t);if(c&&c.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:c.id,direction:i,paused:this._pause$.value,source:r});const h={animation:this.animation,runningTransition:"stop",context:{direction:i}},p=[],y=this._getSlideById(this.activeId);if(y){const O=Gr(this._ngZone,this._getSlideElement(y.id),NW,h);O.subscribe(()=>{y.slid.emit({isShown:!1,direction:i,source:r})}),p.push(O)}const C=this.activeId;this.activeId=c.id;const I=this._getSlideById(this.activeId),M=Gr(this._ngZone,this._getSlideElement(c.id),AW,h);M.subscribe(()=>{I?.slid.emit({isShown:!0,direction:i,source:r})}),p.push(M),yI(...p).pipe(zt(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:C,current:c.id,direction:i,paused:this._pause$.value,source:r})})}this._cd.markForCheck()}_getSlideEventDirection(t,i){return this._getSlideIdxById(t)>this._getSlideIdxById(i)?Bf.END:Bf.START}_getSlideById(t){return this.slides.find(i=>i.id===t)||null}_getSlideIdxById(t){const i=this._getSlideById(t);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(t){const i=this.slides.toArray(),r=this._getSlideIdxById(t);return r===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[r+1].id}_getPrevSlide(t){const i=this.slides.toArray(),r=this._getSlideIdxById(t);return 0===r?this.wrap?i[i.length-1].id:i[0].id:i[r-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(PB),s.Y36(s.Lbi),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,i,r){if(1&t&&s.Suo(r,kB,4),2&t){let o;s.iGM(o=s.CRH())&&(i.slides=o)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,i){1&t&&s.NdJ("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&t&&(s.uIk("aria-activedescendant","slide-"+i.activeId),s.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[s.jDz],decls:6,vars:6,consts:function(){let e,t,i;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(t,i){1&t&&(s.TgZ(0,"div",0),s.YNc(1,x8,1,5,"button",1),s.qZA(),s.TgZ(2,"div",2),s.YNc(3,O8,4,4,"div",3),s.qZA(),s.YNc(4,P8,4,0,"button",4),s.YNc(5,k8,4,0,"button",5)),2&t&&(s.ekj("visually-hidden",!i.showNavigationIndicators),s.xp6(1),s.Q6J("ngForOf",i.slides),s.xp6(2),s.Q6J("ngForOf",i.slides),s.xp6(1),s.Q6J("ngIf",i.showNavigationArrows),s.xp6(1),s.Q6J("ngIf",i.showNavigationArrows))},dependencies:[Ln,Yr,nn],encapsulation:2,changeDetection:0}),n})();var sm=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(sm||(sm={})),sm))();let LB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[FB]}),n})(),UB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class Ir{constructor(e,t,i){this.year=Li(e)?e:null,this.month=Li(t)?t:null,this.day=Li(i)?i:null}static from(e){return e instanceof Ir?e:e?new Ir(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function bv(n,e){return!function xW(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function BB(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function SI(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function DO(n,e){const{minDate:t,maxDate:i,disabled:r,markDisabled:o}=e;return!(null==n||r||o&&o(n,{year:n.year,month:n.month})||t&&n.before(t)||i&&n.after(i))}function VB(n){return new Ir(n.getFullYear(),n.getMonth()+1,n.getDate())}function AI(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let NI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function VW(){return new ZW}()},providedIn:"root"}),n})(),ZW=(()=>{class n extends NI{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,i="d",r=1){let o=AI(t),c=!0,h=o.getMonth();switch(i){case"y":o.setFullYear(o.getFullYear()+r);break;case"m":h+=r,o.setMonth(h),h%=12,h<0&&(h+=12);break;case"d":o.setDate(o.getDate()+r),c=!1;break;default:return t}return c&&o.getMonth()!==h&&o.setDate(0),VB(o)}getPrev(t,i="d",r=1){return this.getNext(t,i,-r)}getWeekday(t){let r=AI(t).getDay();return 0===r?7:r}getWeekNumber(t,i){7===i&&(i=0);const c=AI(t[(11-i)%7]);c.setDate(c.getDate()+4-(c.getDay()||7));const h=c.getTime();return c.setMonth(0),c.setDate(1),Math.floor(Math.round((h-c.getTime())/864e5)/7)+1}getToday(){return VB(new Date)}isValid(t){if(!(t&&Li(t.year)&&Li(t.month)&&Li(t.day)&&0!==t.year))return!1;const i=AI(t);return!isNaN(i.getTime())&&i.getFullYear()===t.year&&i.getMonth()+1===t.month&&i.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),om=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function HW(n){return new jW(n)}(s.LFG(s.soG)),i},providedIn:"root"}),n})(),jW=(()=>{class n extends om{constructor(t){super(),this._locale=t,this._monthsShort=Pe(t,Ze.Standalone,tt.Abbreviated),this._monthsFull=Pe(t,Ze.Standalone,tt.Wide)}getWeekdayLabel(t,i){const r=Oe(this._locale,Ze.Standalone,void 0===i?tt.Short:i);return r.map((c,h)=>r[(h+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return wn(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.soG))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),IO=(()=>{class n{constructor(t,i){this._calendar=t,this._i18n=i,this._VALIDATORS={dayTemplateData:r=>{if(this._state.dayTemplateData!==r)return{dayTemplateData:r}},displayMonths:r=>{if(Li(r=ls(r))&&r>0&&this._state.displayMonths!==r)return{displayMonths:r}},disabled:r=>{if(this._state.disabled!==r)return{disabled:r}},firstDayOfWeek:r=>{if(Li(r=ls(r))&&r>=0&&this._state.firstDayOfWeek!==r)return{firstDayOfWeek:r}},focusVisible:r=>{if(this._state.focusVisible!==r&&!this._state.disabled)return{focusVisible:r}},markDisabled:r=>{if(this._state.markDisabled!==r)return{markDisabled:r}},maxDate:r=>{const o=this.toValidDate(r,null);if(bv(this._state.maxDate,o))return{maxDate:o}},minDate:r=>{const o=this.toValidDate(r,null);if(bv(this._state.minDate,o))return{minDate:o}},navigation:r=>{if(this._state.navigation!==r)return{navigation:r}},outsideDays:r=>{if(this._state.outsideDays!==r)return{outsideDays:r}},weekdays:r=>{const o=!0===r||!1===r?tt.Short:r,c=!0!==r&&!1!==r||r;if(this._state.weekdayWidth!==o||this._state.weekdaysVisible!==c)return{weekdayWidth:o,weekdaysVisible:c}}},this._model$=new gn.x,this._dateSelect$=new gn.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:tt.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(D(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(D(t=>null!==t))}set(t){let i=Object.keys(t).map(r=>this._VALIDATORS[r](t[r])).reduce((r,o)=>({...r,...o}),{});Object.keys(i).length>0&&this._nextState(i)}focus(t){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&bv(this._state.focusDate,i)&&this._nextState({focusDate:t})}focusSelect(){DO(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const i=this.toValidDate(t,this._calendar.getToday());null!=i&&!this._state.disabled&&(!this._state.firstDate||BB(this._state.firstDate,i))&&this._nextState({firstDate:i})}select(t,i={}){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&(bv(this._state.selectedDate,r)&&this._nextState({selectedDate:r}),i.emitEvent&&DO(r,this._state)&&this._dateSelect$.next(r))}toValidDate(t,i){const r=Ir.from(t);return void 0===i&&(i=this._calendar.getToday()),this._calendar.isValid(r)?r:i}getMonth(t){for(let i of this._state.months)if(t.month===i.number&&t.year===i.year)return i;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const i=this._updateState(t);this._patchContexts(i),this._state=i,this._model$.next(this._state)}_patchContexts(t){const{months:i,displayMonths:r,selectedDate:o,focusDate:c,focusVisible:h,disabled:p,outsideDays:y}=t;t.months.forEach(C=>{C.weeks.forEach(I=>{I.days.forEach(M=>{c&&(M.context.focused=c.equals(M.date)&&h),M.tabindex=!p&&c&&M.date.equals(c)&&c.month===C.number?0:-1,!0===p&&(M.context.disabled=!0),void 0!==o&&(M.context.selected=null!==o&&o.equals(M.date)),C.number!==M.date.month&&(M.hidden="hidden"===y||"collapsed"===y||r>1&&M.date.after(i[0].firstDate)&&M.date.before(i[r-1].lastDate))})})})}_updateState(t){const i=Object.assign({},this._state,t);let r=i.firstDate;if(("minDate"in t||"maxDate"in t)&&(function RW(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(i.minDate,i.maxDate),i.focusDate=SI(i.focusDate,i.minDate,i.maxDate),i.firstDate=SI(i.firstDate,i.minDate,i.maxDate),r=i.focusDate),"disabled"in t&&(i.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(r=i.selectedDate),"focusVisible"in t||"focusDate"in t&&(i.focusDate=SI(i.focusDate,i.minDate,i.maxDate),r=i.focusDate,0!==i.months.length&&i.focusDate&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in t&&(i.firstDate=SI(i.firstDate,i.minDate,i.maxDate),r=i.firstDate),r){const c=function LW(n,e,t,i,r){const{displayMonths:o,months:c}=t,h=c.splice(0,c.length);return Array.from({length:o},(y,C)=>{const I=Object.assign(n.getNext(e,"m",C),{day:1});if(c[C]=null,!r){const M=h.findIndex(O=>O.firstDate.equals(I));-1!==M&&(c[C]=h.splice(M,1)[0])}return I}).forEach((y,C)=>{null===c[C]&&(c[C]=function UW(n,e,t,i,r={}){const{dayTemplateData:o,minDate:c,maxDate:h,firstDayOfWeek:p,markDisabled:y,outsideDays:C,weekdayWidth:I,weekdaysVisible:M}=t,O=n.getToday();r.firstDate=null,r.lastDate=null,r.number=e.month,r.year=e.year,r.weeks=r.weeks||[],r.weekdays=r.weekdays||[],e=function BW(n,e,t){const i=n.getDaysPerWeek(),r=new Ir(e.year,e.month,1),o=n.getWeekday(r)%i;return n.getPrev(r,"d",(i+o-t)%i)}(n,e,p),M||(r.weekdays.length=0);for(let B=0;B<n.getWeeksPerMonth();B++){let W=r.weeks[B];W||(W=r.weeks[B]={number:0,days:[],collapsed:!0});const J=W.days;for(let Ie=0;Ie<n.getDaysPerWeek();Ie++){0===B&&M&&(r.weekdays[Ie]=i.getWeekdayLabel(n.getWeekday(e),I));const Fe=new Ir(e.year,e.month,e.day),Le=n.getNext(Fe),Ue=i.getDayAriaLabel(Fe);let We=!!(c&&Fe.before(c)||h&&Fe.after(h));!We&&y&&(We=y(Fe,{month:r.number,year:r.year}));let Xe=Fe.equals(O),jt=o?o(Fe,{month:r.number,year:r.year}):void 0;null===r.firstDate&&Fe.month===r.number&&(r.firstDate=Fe),Fe.month===r.number&&Le.month!==r.number&&(r.lastDate=Fe);let Yt=J[Ie];Yt||(Yt=J[Ie]={}),Yt.date=Fe,Yt.context=Object.assign(Yt.context||{},{$implicit:Fe,date:Fe,data:jt,currentMonth:r.number,currentYear:r.year,disabled:We,focused:!1,selected:!1,today:Xe}),Yt.tabindex=-1,Yt.ariaLabel=Ue,Yt.hidden=!1,e=Le}W.number=n.getWeekNumber(J.map(Ie=>Ie.date),p),W.collapsed="collapsed"===C&&J[0].date.month!==r.number&&J[J.length-1].date.month!==r.number}return r}(n,y,t,i,h.shift()||{}))}),c}(this._calendar,r,i,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);i.months=c,i.firstDate=c[0].firstDate,i.lastDate=c[c.length-1].lastDate,"selectedDate"in t&&!DO(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in t&&(!i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=r);const h=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,p=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;"select"===i.navigation?(("minDate"in t||"maxDate"in t||0===i.selectBoxes.years.length||h)&&(i.selectBoxes.years=function PW(n,e,t){if(!n)return[];const i=e?Math.max(e.year,n.year-500):n.year-10,o=(t?Math.min(t.year,n.year+500):n.year+10)-i+1,c=Array(o);for(let h=0;h<o;h++)c[h]=i+h;return c}(i.firstDate,i.minDate,i.maxDate)),("minDate"in t||"maxDate"in t||0===i.selectBoxes.months.length||h)&&(i.selectBoxes.months=function OW(n,e,t,i){if(!e)return[];let r=n.getMonths(e.year);if(t&&e.year===t.year){const o=r.findIndex(c=>c===t.month);r=r.slice(o)}if(i&&e.year===i.year){const o=r.findIndex(c=>c===i.month);r=r.slice(0,o+1)}return r}(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},("arrows"===i.navigation||"select"===i.navigation)&&(p||h||"minDate"in t||"maxDate"in t||"disabled"in t)&&(i.prevDisabled=i.disabled||function FW(n,e,t){const i=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(i.year===t.year&&i.month<t.month||i.year<t.year&&1===t.month)}(this._calendar,i.firstDate,i.minDate),i.nextDisabled=i.disabled||function kW(n,e,t){const i=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&i.after(t)}(this._calendar,i.lastDate,i.maxDate))}return i}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(NI),s.LFG(om))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();var wv=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(wv||(wv={})),wv))();let GW=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(om))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,i){2&t&&s.ekj("bg-primary",i.selected)("text-white",i.selected)("text-muted",i.isMuted())("outside",i.isMuted())("active",i.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[s.jDz],attrs:F8,decls:1,vars:1,template:function(t,i){1&t&&s._uU(0),2&t&&s.Oqu(i.i18n.getDayNumerals(i.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),$W=(()=>{class n{constructor(t,i){this.i18n=t,this._renderer=i,this.select=new s.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new Ir(this.date.year,ls(t),1))}changeYear(t){this.select.emit(new Ir(ls(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(om),s.Y36(s.Qsj))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,i){if(1&t&&(s.Gf(L8,7,s.SBq),s.Gf(U8,7,s.SBq)),2&t){let r;s.iGM(r=s.CRH())&&(i.monthSelect=r.first),s.iGM(r=s.CRH())&&(i.yearSelect=r.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[s.jDz],decls:6,vars:4,consts:function(){let e,t,i,r;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,i=$localize`:@@ngb.datepicker.select-year:Select year`,r=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",i,"title",r,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,i){1&t&&(s.TgZ(0,"select",0,1),s.NdJ("change",function(o){return i.changeMonth(o.target.value)}),s.YNc(2,B8,2,3,"option",2),s.qZA(),s.TgZ(3,"select",3,4),s.NdJ("change",function(o){return i.changeYear(o.target.value)}),s.YNc(5,V8,2,2,"option",2),s.qZA()),2&t&&(s.Q6J("disabled",i.disabled),s.xp6(2),s.Q6J("ngForOf",i.months),s.xp6(1),s.Q6J("disabled",i.disabled),s.xp6(2),s.Q6J("ngForOf",i.years))},dependencies:[Ln],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),qW=(()=>{class n{constructor(t){this.i18n=t,this.navigation=wv,this.months=[],this.navigate=new s.vpe,this.select=new s.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(om))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[s.jDz],decls:8,vars:4,consts:function(){let e,t,i,r;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",i,"title",r,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"button",1),s.NdJ("click",function(o){return i.onClickPrev(o)}),s._UZ(2,"span",2),s.qZA()(),s.YNc(3,Z8,1,4,"ngb-datepicker-navigation-select",3),s.YNc(4,$8,1,1,null,4),s.TgZ(5,"div",5)(6,"button",6),s.NdJ("click",function(o){return i.onClickNext(o)}),s._UZ(7,"span",2),s.qZA()()),2&t&&(s.xp6(1),s.Q6J("disabled",i.prevDisabled),s.xp6(2),s.Q6J("ngIf",i.showSelect),s.xp6(1),s.Q6J("ngIf",!i.showSelect),s.xp6(2),s.Q6J("disabled",i.nextDisabled))},dependencies:[nn,Ln,$W],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var bn=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(bn||(bn={})),bn))();let WW=(()=>{class n{processKey(t,i){const{state:r,calendar:o}=i;switch(t.which){case bn.PageUp:i.focusDate(o.getPrev(r.focusedDate,t.shiftKey?"y":"m",1));break;case bn.PageDown:i.focusDate(o.getNext(r.focusedDate,t.shiftKey?"y":"m",1));break;case bn.End:i.focusDate(t.shiftKey?r.maxDate:r.lastDate);break;case bn.Home:i.focusDate(t.shiftKey?r.minDate:r.firstDate);break;case bn.ArrowLeft:i.focusDate(o.getPrev(r.focusedDate,"d",1));break;case bn.ArrowUp:i.focusDate(o.getPrev(r.focusedDate,"d",o.getDaysPerWeek()));break;case bn.ArrowRight:i.focusDate(o.getNext(r.focusedDate,"d",1));break;case bn.ArrowDown:i.focusDate(o.getNext(r.focusedDate,"d",o.getDaysPerWeek()));break;case bn.Enter:case bn.Space:i.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SO=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=tt.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function zW(){return new KW}()},providedIn:"root"}),n})(),KW=(()=>{class n extends AO{fromModel(t){return t&&Li(t.year)&&Li(t.month)&&Li(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&Li(t.year)&&Li(t.month)&&Li(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ZB=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),NO=(()=>{class n{constructor(t,i,r,o){this.i18n=t,this.datepicker=i,this._keyboardService=r,this._service=o}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(om),s.Y36((0,s.Gpc)(()=>MI)),s.Y36(WW),s.Y36(IO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,i){1&t&&s.NdJ("keydown",function(o){return i.onKeyDown(o)})},inputs:{month:"month"},standalone:!0,features:[s.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(s.YNc(0,z8,3,2,"div",0),s.YNc(1,e5,1,1,"ng-template",1)),2&t&&(s.Q6J("ngIf",i.viewModel.weekdays.length>0),s.xp6(1),s.Q6J("ngForOf",i.viewModel.weeks))},dependencies:[nn,Ln,Yr],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),MI=(()=>{class n{constructor(t,i,r,o,c,h,p,y){this._service=t,this._calendar=i,this.i18n=r,this._elementRef=h,this._ngbDateAdapter=p,this._ngZone=y,this._controlValue=null,this._destroyed$=new gn.x,this._publicState={},this.navigate=new s.vpe,this.dateSelect=new s.vpe,this.onChange=C=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(C=>this[C]=o[C]),t.dateSelect$.pipe(qi(this._destroyed$)).subscribe(C=>{this.dateSelect.emit(C)}),t.model$.pipe(qi(this._destroyed$)).subscribe(C=>{const I=C.firstDate,M=this.model?this.model.firstDate:null;this._publicState={maxDate:C.maxDate,minDate:C.minDate,firstDate:C.firstDate,lastDate:C.lastDate,focusedDate:C.focusDate,months:C.months.map(Ie=>Ie.firstDate)};let O=!1;if(!I.equals(M)&&(this.navigate.emit({current:M?{year:M.year,month:M.month}:null,next:{year:I.year,month:I.month},preventDefault:()=>O=!0}),O&&null!==M))return void this._service.open(M);const B=C.selectedDate,W=C.focusDate,J=this.model?this.model.focusDate:null;this.model=C,bv(B,this._controlValue)&&(this._controlValue=B,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(B))),bv(W,J)&&J&&C.focusVisible&&this.focus(),c.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(Ir.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(zt(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(Ir.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=as(this._contentEl.nativeElement,"focusin"),i=as(this._contentEl.nativeElement,"focusout"),{nativeElement:r}=this._elementRef;(0,tI.T)(t,i).pipe(D(({target:o,relatedTarget:c})=>!(EB(o,"ngb-dp-day")&&EB(c,"ngb-dp-day")&&r.contains(o)&&r.contains(c))),qi(this._destroyed$)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===o})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(i=>t[i]=this[i]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const i={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(r=>r in t).forEach(r=>i[r]=this[r]),this._service.set(i),"startDate"in t){const{currentValue:r,previousValue:o}=t.startDate;BB(o,r)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case wv.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case wv.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=Ir.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(IO),s.Y36(NI),s.Y36(om),s.Y36(SO),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(AO),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,i,r){if(1&t&&s.Suo(r,ZB,7),2&t){let o;s.iGM(o=s.CRH())&&(i.contentTemplate=o.first)}},viewQuery:function(t,i){if(1&t&&(s.Gf(t5,7),s.Gf(n5,7)),2&t){let r;s.iGM(r=s.CRH())&&(i._defaultDayTemplate=r.first),s.iGM(r=s.CRH())&&(i._contentEl=r.first)}},hostVars:2,hostBindings:function(t,i){2&t&&s.ekj("disabled",i.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[s._Bn([{provide:Ao,useExisting:(0,s.Gpc)(()=>n),multi:!0},IO]),s.TTD,s.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,i){if(1&t&&(s.YNc(0,i5,1,5,"ng-template",null,0,s.W1O),s.YNc(2,o5,1,1,"ng-template",null,1,s.W1O),s.TgZ(4,"div",2),s.YNc(5,a5,1,7,"ngb-datepicker-navigation",3),s.qZA(),s.TgZ(6,"div",4,5),s.YNc(8,l5,0,0,"ng-template",6),s.qZA(),s.YNc(9,u5,0,0,"ng-template",6)),2&t){const r=s.MAs(3);s.xp6(5),s.Q6J("ngIf","none"!==i.navigation),s.xp6(1),s.ekj("ngb-dp-months",!i.contentTemplate),s.xp6(2),s.Q6J("ngTemplateOutlet",(null==i.contentTemplate?null:i.contentTemplate.templateRef)||r),s.xp6(1),s.Q6J("ngTemplateOutlet",i.footerTemplate)}},dependencies:[nn,Ln,Yr,GW,NO,qW],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const GB=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function $B(n){const e=Array.from(n.querySelectorAll(GB)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let rV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[MI,NO]}),n})(),OO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),aV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class um{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let bz=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(zt(1)).subscribe(()=>{Gr(this._zone,this._el.nativeElement,(t,i)=>{i&&yv(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Gr(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(s.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),s.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[s.jDz],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class lV{close(e){}dismiss(e){}}class wz{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new gn.x,this._dismissed=new gn.x,this._hidden=new gn.x,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,c)=>{this._resolve=o,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(qi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(qi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function TB(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():dt(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),yI(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var EC=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(EC||(EC={})),EC))();let Cz=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new gn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new gn.x,this.hidden=new gn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":vC(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(zt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},c=yI(Gr(this._zone,t,()=>t.classList.remove("show"),i),Gr(this._zone,this._dialogEl.nativeElement,()=>{},i));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};yI(Gr(this._zone,this._elRef.nativeElement,(o,c)=>{c&&yv(o),o.classList.add("show")},t),Gr(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{as(t,"keydown").pipe(qi(this._closed$),D(r=>r.which===bn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(EC.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;as(this._dialogEl.nativeElement,"mousedown").pipe(qi(this._closed$),(0,je.b)(()=>i=!1),On(()=>as(t,"mouseup").pipe(qi(this._closed$),zt(1))),D(({target:r})=>t===r)).subscribe(()=>{i=!0}),as(t,"click").pipe(qi(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(EC.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=$B(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Gr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(ae),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&s.Gf(c5,7),2&t){let r;s.iGM(r=s.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(s.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),s.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),s.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[s.jDz],ngContentSelectors:EI,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(s.F$t(),s.TgZ(0,"div",0,1)(2,"div",2),s.Hsn(3),s.qZA()()),2&t&&s.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Tz=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:c}=r;if(t>0){const h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=c),r.overflow=o}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ez=(()=>{class n{constructor(t,i,r,o,c,h,p){this._applicationRef=t,this._injector=i,this._environmentInjector=r,this._document=o,this._scrollBar=c,this._rendererFactory=h,this._ngZone=p,this._activeWindowCmptHasChanged=new gn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const y=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{n.runOutsideAngular(()=>{const r=as(e,"focusin").pipe(qi(t),(0,Ke.U)(o=>o.target));as(e,"keydown").pipe(qi(t),D(o=>o.which===bn.Tab),vI(r)).subscribe(([o,c])=>{const[h,p]=$B(e);(c===h||c===e)&&o.shiftKey&&(p.focus(),o.preventDefault()),c===p&&!o.shiftKey&&(h.focus(),o.preventDefault())}),i&&as(e,"click").pipe(qi(t),vI(r),(0,Ke.U)(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,y.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(y.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const o=r.container instanceof HTMLElement?r.container:rm(r.container)?this._document.querySelector(r.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const h=new lV,p=(t=r.injector||t).get(s.lqb,null)||this._environmentInjector,y=this._getContentRef(t,p,i,h,r);let C=!1!==r.backdrop?this._attachBackdrop(o):void 0,I=this._attachWindowComponent(o,y.nodes),M=new wz(I,y,C,r.beforeDismiss);return this._registerModalRef(M),this._registerWindowCmpt(I),M.hidden.pipe(zt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),h.close=O=>{M.close(O)},h.dismiss=O=>{M.dismiss(O)},this._applyWindowOptions(I.instance,r),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),C&&C.instance&&(this._applyBackdropOptions(C.instance,r),C.changeDetectorRef.detectChanges()),I.changeDetectorRef.detectChanges(),M}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,s.LMc)(bz,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=(0,s.LMc)(Cz,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{rm(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{rm(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,o,c){return r?r instanceof s.Rgc?this._createFromTemplateRef(r,o):vC(r)?this._createFromString(r):this._createFromComponent(t,i,r,o,c):new um([])}_createFromTemplateRef(t,i){const o=t.createEmbeddedView({$implicit:i,close(c){i.close(c)},dismiss(c){i.dismiss(c)}});return this._applicationRef.attachView(o),new um([o.rootNodes],o)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new um([[i]])}_createFromComponent(t,i,r,o,c){const h=s.zs3.create({providers:[{provide:lV,useValue:o}],parent:t}),p=(0,s.LMc)(r,{environmentInjector:i,elementInjector:h}),y=p.location.nativeElement;return c.scrollable&&y.classList.add("component-host-scrollable"),this._applicationRef.attachView(p.hostView),new um([[y]],p.hostView,p)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(s.lqb),s.LFG(ae),s.LFG(Tz),s.LFG(s.FYo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dz=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(vv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iz=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.zs3),s.LFG(Ez),s.LFG(Dz))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Iz]}),n})();const Nz=({classList:n})=>(n.remove("show"),()=>n.remove("active")),Mz=(n,e)=>{e&&yv(n),n.classList.add("show")};let FO=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,i){2&t&&(s.Ikx("id",i.item.panelDomId),s.uIk("role",i.role?i.role:i.nav.roles?"tabpanel":void 0)("aria-labelledby",i.item.domId),s.ekj("fade",i.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),fV=(()=>{class n{constructor(t,i){this._cd=t,this._ngZone=i,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(qi(this.nav.destroy$),zo(this._activePane?.item||null),rc(),function v4(n){return D((e,t)=>n<=t)}(1)).subscribe(t=>{const i={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Gr(this._ngZone,this._activePane.elRef.nativeElement,Nz,i).subscribe(()=>{const r=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Gr(this._ngZone,this._activePane.elRef.nativeElement,Mz,i).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),r&&(r.hidden.emit(),this.nav.hidden.emit(r.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(i=>i.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.sBO),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,i){if(1&t&&s.Gf(FO,5),2&t){let r;s.iGM(r=s.CRH())&&(i._panes=r)}},hostVars:2,hostBindings:function(t,i){2&t&&s.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[s.jDz],attrs:d5,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&s.YNc(0,g5,1,1,"ng-template",0),2&t&&s.Q6J("ngForOf",i.nav.items)},dependencies:[FO,Ln,nn,Yr],encapsulation:2,changeDetection:0}),n})(),pV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[fV]}),n})(),xz=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gV=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),mV=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),_V=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),yV=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),vV=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),bV=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),wV=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),CV=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new s.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,i){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,i=this.pageCount,r=Math.floor(this.maxSize/2);return this.page<=r?i=this.maxSize:this.pageCount-this.page<r?t=this.pageCount-this.maxSize:(t=this.page-r-1,i=this.page+(this.maxSize%2==0?r-1:r)),[t,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(t){const i=this.page;this.page=DI(t,this.pageCount,1),this.page!==i&&Wi(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Wi(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,r=this.pageCount;[i,r]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,r),this._applyEllipses(i,r)}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(xz))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,i,r){if(1&t&&(s.Suo(r,gV,5),s.Suo(r,mV,5),s.Suo(r,_V,5),s.Suo(r,yV,5),s.Suo(r,vV,5),s.Suo(r,bV,5),s.Suo(r,wV,5)),2&t){let o;s.iGM(o=s.CRH())&&(i.tplEllipsis=o.first),s.iGM(o=s.CRH())&&(i.tplFirst=o.first),s.iGM(o=s.CRH())&&(i.tplLast=o.first),s.iGM(o=s.CRH())&&(i.tplNext=o.first),s.iGM(o=s.CRH())&&(i.tplNumber=o.first),s.iGM(o=s.CRH())&&(i.tplPrevious=o.first),s.iGM(o=s.CRH())&&(i.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[s.TTD,s.jDz],decls:20,vars:12,consts:function(){let e,t,i,r,o,c,h,p;return e=$localize`:@@ngb.pagination.first:««`,t=$localize`:@@ngb.pagination.previous:«`,i=$localize`:@@ngb.pagination.next:»`,r=$localize`:@@ngb.pagination.last:»»`,o=$localize`:@@ngb.pagination.first-aria:First`,c=$localize`:@@ngb.pagination.previous-aria:Previous`,h=$localize`:@@ngb.pagination.next-aria:Next`,p=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,i,r,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"],["aria-label",h,"href","",1,"page-link",3,"click"],["aria-label",p,"href","",1,"page-link",3,"click"]]},template:function(t,i){if(1&t&&(s.YNc(0,m5,2,0,"ng-template",null,0,s.W1O),s.YNc(2,_5,2,0,"ng-template",null,1,s.W1O),s.YNc(4,y5,2,0,"ng-template",null,2,s.W1O),s.YNc(6,v5,2,0,"ng-template",null,3,s.W1O),s.YNc(8,b5,1,0,"ng-template",null,4,s.W1O),s.YNc(10,C5,2,2,"ng-template",null,5,s.W1O),s.YNc(12,M5,1,1,"ng-template",null,6,s.W1O),s.TgZ(14,"ul"),s.YNc(15,R5,3,9,"li",7),s.YNc(16,k5,3,8,"li",7),s.YNc(17,F5,0,0,"ng-template",8),s.YNc(18,U5,3,9,"li",7),s.YNc(19,V5,3,9,"li",7),s.qZA()),2&t){const r=s.MAs(13);s.xp6(14),s.Tol("pagination"+(i.size?" pagination-"+i.size:"")),s.xp6(1),s.Q6J("ngIf",i.boundaryLinks),s.xp6(1),s.Q6J("ngIf",i.directionLinks),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==i.tplPages?null:i.tplPages.templateRef)||r)("ngTemplateOutletContext",s.kEZ(8,Z5,i.page,i.pages,i.disabled)),s.xp6(1),s.Q6J("ngIf",i.directionLinks),s.xp6(1),s.Q6J("ngIf",i.boundaryLinks)}},dependencies:[nn,Ln,Yr],encapsulation:2,changeDetection:0}),n})(),TV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[CV]}),n})(),DV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Lz=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uz=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!Wi(t)||t<=0?100:t}get max(){return this._max}getValue(){return DI(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Lz))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,i){2&t&&(s.uIk("aria-valuenow",i.getValue())("aria-valuemax",i.max)("aria-label",i.ariaLabel),s.Udp("height",i.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[s.jDz],ngContentSelectors:EI,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,i){1&t&&(s.F$t(),s.TgZ(0,"div"),s.YNc(1,G5,3,3,"span",0),s.Hsn(2),s.qZA()),2&t&&(s.MT6("progress-bar",i.type?i.textType?" bg-"+i.type:" text-bg-"+i.type:"","",i.textType?" text-"+i.textType:"",""),s.Udp("width",i.getPercentValue(),"%"),s.ekj("progress-bar-animated",i.animated)("progress-bar-striped",i.striped),s.xp6(1),s.Q6J("ngIf",i.showValue))},dependencies:[nn,ps],encapsulation:2,changeDetection:0}),n})(),IV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Uz]}),n})(),Bz=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vz=(()=>{class n{constructor(t,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new s.vpe,this.leave=new s.vpe,this.rateChange=new s.vpe(!0),this.onChange=r=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case bn.ArrowDown:case bn.ArrowLeft:this.update(this.rate-1);break;case bn.ArrowUp:case bn.ArrowRight:this.update(this.rate+1);break;case bn.Home:this.update(0);break;case bn.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,i=!0){const r=DI(t,this.max,0);this.isInteractive()&&this.rate!==r&&(this.rate=r,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((i,r)=>i.fill=Math.round(100*DI(t-r,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,i)=>({fill:0,index:i}))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Bz),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,i,r){if(1&t&&s.Suo(r,s.Rgc,5),2&t){let o;s.iGM(o=s.CRH())&&(i.starTemplateFromContent=o.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,i){1&t&&s.NdJ("blur",function(){return i.handleBlur()})("keydown",function(o){return i.handleKeyDown(o)})("mouseleave",function(){return i.reset()}),2&t&&(s.Ikx("tabindex",i.disabled?-1:i.tabindex),s.uIk("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText())("aria-disabled",!!i.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[s._Bn([{provide:Ao,useExisting:(0,s.Gpc)(()=>n),multi:!0}]),s.TTD,s.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(s.YNc(0,$5,1,1,"ng-template",null,0,s.W1O),s.YNc(2,W5,4,5,"ng-template",1)),2&t&&(s.xp6(2),s.Q6J("ngForOf",i.contexts))},dependencies:[Ln,Yr],encapsulation:2,changeDetection:0}),n})(),SV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Vz]}),n})();class AV{constructor(e,t,i){this.hour=ls(e),this.minute=ls(t),this.second=ls(i)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=Wi(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){Wi(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){Wi(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return Wi(this.hour)&&Wi(this.minute)&&(!e||Wi(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let Zz=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Hz(){return new jz}()},providedIn:"root"}),n})(),jz=(()=>{class n extends NV{fromModel(t){return t&&Li(t.hour)&&Li(t.minute)?{hour:t.hour,minute:t.minute,second:Li(t.second)?t.second:null}:null}toModel(t){return t&&Li(t.hour)&&Li(t.minute)?{hour:t.hour,minute:t.minute,second:Li(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),MV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Gz(n){return new $z(n)}(s.LFG(s.soG)),i},providedIn:"root"}),n})(),$z=(()=>{class n extends MV{constructor(t){super(),this._periods=be(t,Ze.Standalone,tt.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.soG))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const qz=/[^0-9]/g;let Wz=(()=>{class n{constructor(t,i,r,o){this._config=t,this._ngbTimeAdapter=i,this._cd=r,this.i18n=o,this.onChange=c=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=Li(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=Li(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=Li(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const i=this._ngbTimeAdapter.fromModel(t);this.model=i?new AV(i.hour,i.minute,i.second):new AV,!this.seconds&&(!i||!Wi(i.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const i=!!this.model&&this.model.hour>=12,r=ls(t);this.model?.updateHour(this.meridian&&(i&&r<12||!i&&12===r)?r+12:r),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(ls(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(ls(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(qz,"")}formatHour(t){return Wi(t)?_v(this.meridian?t%12==0?12:t%12:t%24):_v(NaN)}formatMinSec(t){return _v(Wi(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!Wi(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Zz),s.Y36(NV),s.Y36(s.sBO),s.Y36(MV))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[s._Bn([{provide:Ao,useExisting:(0,s.Gpc)(()=>n),multi:!0}]),s.TTD,s.jDz],decls:16,vars:25,consts:function(){let e,t,i,r,o,c,h,p,y,C,I,M,O,B;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,i=$localize`:@@ngb.timepicker.MM:MM`,r=$localize`:@@ngb.timepicker.minutes:Minutes`,o=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,c=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,h=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,p=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,y=$localize`:@@ngb.timepicker.SS:SS`,C=$localize`:@@ngb.timepicker.seconds:Seconds`,I=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,M=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,O=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,B=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",i,"aria-label",r,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],o,[1,"chevron","ngb-tp-chevron","bottom"],c,h,p,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",y,"aria-label",C,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],I,M,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],O,B]},template:function(t,i){1&t&&(s.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),s.YNc(3,z5,4,7,"button",3),s.TgZ(4,"input",4),s.NdJ("change",function(o){return i.updateHour(o.target.value)})("blur",function(){return i.handleBlur()})("input",function(o){return i.formatInput(o.target)})("keydown.ArrowUp",function(o){return i.changeHour(i.hourStep),o.preventDefault()})("keydown.ArrowDown",function(o){return i.changeHour(-i.hourStep),o.preventDefault()}),s.qZA(),s.YNc(5,K5,4,7,"button",3),s.qZA(),s.TgZ(6,"div",5),s._uU(7,":"),s.qZA(),s.TgZ(8,"div",6),s.YNc(9,Y5,4,7,"button",3),s.TgZ(10,"input",7),s.NdJ("change",function(o){return i.updateMinute(o.target.value)})("blur",function(){return i.handleBlur()})("input",function(o){return i.formatInput(o.target)})("keydown.ArrowUp",function(o){return i.changeMinute(i.minuteStep),o.preventDefault()})("keydown.ArrowDown",function(o){return i.changeMinute(-i.minuteStep),o.preventDefault()}),s.qZA(),s.YNc(11,Q5,4,7,"button",3),s.qZA(),s.YNc(12,J5,2,0,"div",8),s.YNc(13,tW,4,9,"div",9),s.YNc(14,nW,1,0,"div",8),s.YNc(15,sW,5,9,"div",10),s.qZA()()),2&t&&(s.ekj("disabled",i.disabled),s.Q6J("disabled",i.disabled),s.xp6(3),s.Q6J("ngIf",i.spinners),s.xp6(1),s.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),s.Q6J("value",i.formatHour(null==i.model?null:i.model.hour))("readOnly",i.readonlyInputs)("disabled",i.disabled),s.xp6(1),s.Q6J("ngIf",i.spinners),s.xp6(4),s.Q6J("ngIf",i.spinners),s.xp6(1),s.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),s.Q6J("value",i.formatMinSec(null==i.model?null:i.model.minute))("readOnly",i.readonlyInputs)("disabled",i.disabled),s.xp6(1),s.Q6J("ngIf",i.spinners),s.xp6(1),s.Q6J("ngIf",i.seconds),s.xp6(1),s.Q6J("ngIf",i.seconds),s.xp6(1),s.Q6J("ngIf",i.meridian),s.xp6(1),s.Q6J("ngIf",i.meridian))},dependencies:[nn],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),xV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Wz]}),n})();const zz=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),yv(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},Kz=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let Yz=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(vv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),Jz=(()=>{class n{constructor(t,i,r,o){this.ariaLive=t,this._zone=r,this._element=o,this.contentHeaderTpl=null,this.shown=new s.vpe,this.hidden=new s.vpe,null==this.ariaLive&&(this.ariaLive=i.ariaLive),this.delay=i.delay,this.autohide=i.autohide,this.animation=i.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(zt(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Gr(this._zone,this._element.nativeElement,Kz,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Gr(this._zone,this._element.nativeElement,zz,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(s.$8M("aria-live"),s.Y36(Yz),s.Y36(s.R0b),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,i,r){if(1&t&&s.Suo(r,Qz,7,s.Rgc),2&t){let o;s.iGM(o=s.CRH())&&(i.contentHeaderTpl=o.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,i){2&t&&(s.uIk("aria-live",i.ariaLive),s.ekj("fade",i.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[s.TTD,s.jDz],ngContentSelectors:EI,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,i){1&t&&(s.F$t(),s.YNc(0,oW,2,1,"ng-template",null,0,s.W1O),s.YNc(2,lW,3,1,"ng-template",1),s.TgZ(3,"div",2),s.Hsn(4),s.qZA()),2&t&&(s.xp6(2),s.Q6J("ngIf",i.contentHeaderTpl||i.header))},dependencies:[nn,Yr],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),RV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Jz]}),n})(),OV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Xz=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=CB(this.result),r=Array.isArray(this.term)?this.term:[this.term],o=y=>this.accentSensitive?y:DB(y),c=r.map(y=>function pW(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(o(CB(y)))).filter(y=>y),h=this.accentSensitive?i:DB(i),p=c.length?h.split(new RegExp(`(${c.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=p;else{let y=0;this.parts=p.map(C=>i.substring(y,y+=C.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[s.TTD,s.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,i){1&t&&s.YNc(0,dW,3,2,"ng-template",0),2&t&&s.Q6J("ngForOf",i.parts)},dependencies:[nn,Ln],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new s.OlP("live announcer delay",{providedIn:"root",factory:function e7(){return 100}});let PV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Xz]}),n})(),kV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const t7=[xB,RB,LB,UB,rV,aV,uV,pV,kV,TV,DV,IV,SV,xV,RV,OV,PV];let n7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[t7,xB,RB,LB,UB,rV,aV,uV,pV,kV,TV,DV,IV,SV,xV,RV,OV,PV]}),n})();function i7(n,e){if(1&n&&s._UZ(0,"img",3),2&n){const t=s.oxw().$implicit;s.s9C("src",t.fireBaseUrl,s.LSH)}}function r7(n,e){1&n&&s.YNc(0,i7,1,1,"ng-template",2)}let s7=(()=>{class n{constructor(t,i){this.adminSer=i,this.images=[700,800,807].map(r=>`https://picsum.photos/id/${r}/900/500`),this.showCarousel=!0,this.event_list=[{event:" Event 1",eventLocation:"Bangalore",eventDescription:"In bangalore, first event is going to happen. Please be careful about it",img:"https://picsum.photos/900/500?random&t=1",eventStartDate:new Date("2019/05/20"),eventEndingDate:new Date("2019/05/24")},{event:" Event 2",eventLocation:"Dubai",eventDescription:"Dubai is another place to host so,e, first event is going to happen. Please be careful about it",img:"https://picsum.photos/900/500?random&t=3",eventStartDate:new Date("2019/07/28"),eventEndingDate:new Date("2019/07/30")}],t.keyboard=!0,t.pauseOnHover=!0}ngOnInit(){this.getBanner()}getBanner(){this.adminSer.getBanner().subscribe(t=>{this.banner=t,console.log("sdjfgdsjfs",this.banner)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(PB),s.Y36(dv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-carousel"]],decls:4,vars:1,consts:[[1,"carousel"],[4,"ngFor","ngForOf"],["ngbSlide",""],["alt","Random slide",3,"src"]],template:function(t,i){1&t&&(s.TgZ(0,"div")(1,"div",0)(2,"ngb-carousel"),s.YNc(3,r7,1,0,null,1),s.qZA()()()),2&t&&(s.xp6(3),s.Q6J("ngForOf",i.banner))},dependencies:[Ln,FB,kB],styles:["img[_ngcontent-%COMP%]{width:100%}"]}),n})();function o7(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",33)(1,"div",34),s.NdJ("click",function(){const o=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.changePath(o))}),s.TgZ(2,"div",35),s._UZ(3,"img",36),s.qZA(),s.TgZ(4,"div",37)(5,"div",38)(6,"h2")(7,"a",39),s._uU(8),s.qZA()()(),s.TgZ(9,"div",40),s._uU(10," 4.5 "),s._UZ(11,"i",41)(12,"i",41)(13,"i",41)(14,"i",41)(15,"i",42),s.qZA()()()()}if(2&n){const t=e.$implicit;s.xp6(3),s.s9C("src",t.img,s.LSH),s.xp6(5),s.Oqu(t.courseName)}}let LO=(()=>{class n{constructor(t){this.router=t,this.course=[{id:1,courseName:"CA Foundation Classes",courseSub:"Candidates must have passed 10+2",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog_1.jpg"},{id:2,courseName:"CA Intermediate Classes",courseSub:"Candidates must have passed 10+2",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog_2.jpg"},{id:3,courseName:"CA Professional Classes",courseSub:"Pass Intermediate both group",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog_3.jpg"},{id:4,courseName:"CS EET Classes",courseSub:"Candidates must have passed 10+2",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog_4.jpg"},{id:5,courseName:"CS Executive Classes",courseSub:"Candidates must have passed 10+2",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog_5.jpg"},{id:6,courseName:"CS Professional Classes",courseSub:"Pass Intermediate both group",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog_6.jpg"},{id:7,courseName:"CMA Foundation Classes",courseSub:"Candidates must have passed 10+2",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog_9.jpg"},{id:8,courseName:"CMA Intermediate Classes",courseSub:"Candidates must have passed 10+2",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog8.jpg"},{id:9,courseName:"CMA Professional Classes",courseSub:"Pass Intermediate both group",footerTitle:"Batches for Hindi & English Medium",img:"../../assets/images/blog9.jpg"}]}ngOnInit(){}changePath(t){"CA Foundation Classes"===t.courseName&&this.router.navigateByUrl("course-detail/ca/foundation"),"CA Intermediate Classes"===t.courseName&&this.router.navigateByUrl("course-detail/ca/intermediate"),"CA Professional Classes"===t.courseName&&this.router.navigateByUrl("course-detail/ca/final"),"CS EET Classes"===t.courseName&&this.router.navigateByUrl("course-detail/cs/foundation"),"CS Executive Classes"===t.courseName&&this.router.navigateByUrl("course-detail/cs/intermediate"),"CS Professional Classes"===t.courseName&&this.router.navigateByUrl("course-detail/cs/final"),"CMA Foundation Classes"===t.courseName&&this.router.navigateByUrl("course-detail/cma/foundation"),"CMA Intermediate Classes"===t.courseName&&this.router.navigateByUrl("course-detail/cma/intermediate"),"CMA Professional Classes"===t.courseName&&this.router.navigateByUrl("course-detail/cma/final")}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Hn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],decls:109,vars:1,consts:[["id","overviews",1,"section","wb"],[1,"container"],[1,"section-title","row","text-center"],[1,"col-md-12"],[1,"invis"],[1,"row"],["class","col-lg-4 col-md-6 col-12",4,"ngFor","ngForOf"],[1,"hr3"],[1,"row","align-items-center"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12"],[1,"message-box"],["routerLink","/about",1,"hover-btn-new","orange"],[1,"post-media","wow","fadeIn"],["src","../../assets/images/home_banner1.jpg","alt","",1,"img-fluid","img-rounded"],["src","../../assets/images/about_03.jpg","alt","",1,"img-fluid","img-rounded"],[1,"section","lb","page-section"],[1,"col-md-8","offset-md-2"],[1,"main-timeline"],[1,"timeline"],[1,"icon"],[1,"date-content"],[1,"timeline-content"],[1,"timeline__content","img-bg-01"],[1,"video"],["width","100%","height","500","src","https://www.youtube.com/embed/3lscs-buSzQ","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","allowfullscreen",""],[1,"section","cl"],[1,"row","text-left","stat-wrap"],[1,"col-md-4","col-sm-4","col-xs-12"],["data-scroll","",1,"global-radius","icon_wrap","effect-1","alignleft"],[1,"flaticon-study"],[1,"stat_count"],[1,"flaticon-online"],[1,"flaticon-years"],[1,"col-lg-4","col-md-6","col-12"],[1,"course-item",3,"click"],[1,"image-blog"],["alt","",1,"img-fluid",3,"src"],[1,"course-br"],[1,"course-title"],["title",""],[1,"course-rating"],[1,"fa","fa-star"],[1,"fa","fa-star-half"]],template:function(t,i){1&t&&(s._UZ(0,"app-carousel"),s.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h3"),s._uU(6,"OUR POPULAR COURSES"),s.qZA(),s._UZ(7,"hr",4),s.TgZ(8,"div",5),s.YNc(9,o7,16,2,"div",6),s.qZA(),s._UZ(10,"hr",7),s.qZA()(),s.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"h4"),s._uU(15,"2023 BEST CA/CS/CMA Coaching Classes"),s.qZA(),s.TgZ(16,"h2"),s._uU(17,"Welcome to Prominent Academy (Sumit Arora Classes)"),s.qZA(),s.TgZ(18,"p"),s._uU(19,"Chartered Accountants are highly demanded professionals in industry & are handsomely paid. Many students strive for getting proper guidance and coaching. Prominent Academy is dealing in CA, CS and CMA Courses with professional expertise team and with these courses we also develop child overall personality. "),s.qZA(),s.TgZ(20,"a",11)(21,"span"),s._uU(22,"Learn More"),s.qZA()()()(),s.TgZ(23,"div",9)(24,"div",12),s._UZ(25,"img",13),s.qZA()()(),s.TgZ(26,"div",8)(27,"div",9)(28,"div",12),s._UZ(29,"img",14),s.qZA()(),s.TgZ(30,"div",9)(31,"div",10)(32,"p"),s._uU(33,"Students achieve excellent and progressive academic results year on year. The dedication of our faculty and the keen interest exhibited by our students has produced a commendable academic record with ranks every year in various batches. "),s.qZA(),s.TgZ(34,"p"),s._uU(35," We believe that discipline is the bridge between goals and accomplishment, in that way we are consistently able to achieve victory every year. We are proud of the continuous dedication and hardwork of faculties and students witness every academic period."),s.qZA(),s.TgZ(36,"a",11)(37,"span"),s._uU(38,"Learn More"),s.qZA()()()()()()(),s.TgZ(39,"section",15)(40,"div",1)(41,"div",2)(42,"div",16)(43,"h3"),s._uU(44,"Prominent Academy (Sumit Arora Classes)"),s.qZA()()(),s.TgZ(45,"div",1)(46,"div",17)(47,"div",18),s._UZ(48,"div",19)(49,"div",20),s.TgZ(50,"div",21)(51,"div",22)(52,"h2"),s._uU(53,"Professional Courses"),s.qZA(),s.TgZ(54,"p"),s._uU(55,"In Commerce, there are few professional course in which student can enroll, CA CS and CMA Course is one of them. Prominent Academy (Sumit Arora Classes) is the one who is dealing in CA, CS and CMA Courses with professional and well experienced team."),s.qZA()()()(),s.TgZ(56,"div",18),s._UZ(57,"div",19)(58,"div",20),s.TgZ(59,"div",21)(60,"div",22)(61,"h2"),s._uU(62,"Notes & Study Space"),s.qZA(),s.TgZ(63,"p"),s._uU(64,"Prominent Academy (Sumit Arora Classes) always provides updated and amended study material to students for study, which is hand made by group of professionals. We also provide space for self study to students to study even after class without any hustle and limitation."),s.qZA()()()(),s.TgZ(65,"div",18),s._UZ(66,"div",19)(67,"div",20),s.TgZ(68,"div",21)(69,"div",22)(70,"h2"),s._uU(71,"Qualified Teachers"),s.qZA(),s.TgZ(72,"p"),s._uU(73,"All the faculties of Prominent Academy (Sumit Arora Classes) are professionaly and highly qualified. Most of our faculties are qualified as chartered accountant or company secretary or cost accountant and having experience of more than 10 years in professional teaching."),s.qZA()()()(),s.TgZ(74,"div",18),s._UZ(75,"div",19)(76,"div",20),s.TgZ(77,"div",21)(78,"div",22)(79,"h2"),s._uU(80,"Certification"),s.qZA(),s.TgZ(81,"p"),s._uU(82,"Prominent Academy (Sumit Arora Classes) also provides certification to students on clearing their exams and even on achieving any All India Rank (AIR). We are always there to help students for their bright future and career in this professional world."),s.qZA()()()()()()()(),s.TgZ(83,"section",23),s._UZ(84,"iframe",24),s.qZA(),s.TgZ(85,"div",25)(86,"div",1)(87,"div",26)(88,"div",27)(89,"span",28),s._UZ(90,"i",29),s.qZA(),s.TgZ(91,"p",30),s._uU(92,"1000"),s.qZA(),s.TgZ(93,"h3"),s._uU(94,"Students"),s.qZA()(),s.TgZ(95,"div",27)(96,"span",28),s._UZ(97,"i",31),s.qZA(),s.TgZ(98,"p",30),s._uU(99,"9"),s.qZA(),s.TgZ(100,"h3"),s._uU(101,"Courses"),s.qZA()(),s.TgZ(102,"div",27)(103,"span",28),s._UZ(104,"i",32),s.qZA(),s.TgZ(105,"p",30),s._uU(106,"12"),s.qZA(),s.TgZ(107,"h3"),s._uU(108,"Years Completed"),s.qZA()()()()()),2&t&&(s.xp6(9),s.Q6J("ngForOf",i.course))},dependencies:[Ln,Ul,s7],styles:['body[_ngcontent-%COMP%]{background-color:#f7f7f7;margin-top:20px}.main-timeline[_ngcontent-%COMP%]{position:relative}.main-timeline[_ngcontent-%COMP%]:before{content:"";display:block;width:2px;height:100%;background:#c6c6c6;margin:0 auto;position:absolute;top:0;left:0;right:0}.main-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]{margin-bottom:40px;position:relative}.main-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]:after{content:"";display:block;clear:both}.main-timeline[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px;line-height:18px;margin:auto;position:absolute;inset:0}.main-timeline[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before, .main-timeline[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{content:"";width:100%;height:100%;border-radius:50%;position:absolute;top:0;left:0;transition:all .33s ease-out 0s}.main-timeline[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{background:#fff;border:2px solid #232323;left:-3px}.main-timeline[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:after{border:2px solid #c6c6c6;left:3px}.main-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]:before{left:3px}.main-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]:after{left:-3px}.main-timeline[_ngcontent-%COMP%]   .date-content[_ngcontent-%COMP%]{width:50%;float:left;margin-top:22px;position:relative}.main-timeline[_ngcontent-%COMP%]   .date-content[_ngcontent-%COMP%]:before{content:"";width:36.5%;height:2px;background:#c6c6c6;margin:auto 0;position:absolute;top:0;right:10px;bottom:0}.main-timeline[_ngcontent-%COMP%]   .date-outer[_ngcontent-%COMP%]{width:125px;height:125px;font-size:16px;text-align:center;margin:auto;z-index:1}.main-timeline[_ngcontent-%COMP%]   .date-outer[_ngcontent-%COMP%]:before, .main-timeline[_ngcontent-%COMP%]   .date-outer[_ngcontent-%COMP%]:after{content:"";width:125px;height:125px;margin:0 auto;border-radius:50%;position:absolute;top:0;left:0;right:0;transition:all .33s ease-out 0s}.main-timeline[_ngcontent-%COMP%]   .date-outer[_ngcontent-%COMP%]:before{background:#fff;border:2px solid #232323;left:-6px}.main-timeline[_ngcontent-%COMP%]   .date-outer[_ngcontent-%COMP%]:after{border:2px solid #c6c6c6;left:6px}.main-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]:hover   .date-outer[_ngcontent-%COMP%]:before{left:6px}.main-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]:hover   .date-outer[_ngcontent-%COMP%]:after{left:-6px}.main-timeline[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{width:100%;margin:auto;position:absolute;top:27%;left:0}.main-timeline[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.main-timeline[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{display:block;font-size:30px;font-weight:700;color:#232323;line-height:36px}.main-timeline[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]{width:50%;padding:20px 0 20px 50px;float:right}.main-timeline[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:19px;font-weight:700;line-height:24px;margin:0 0 15px}.main-timeline[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-bottom:0}.main-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]:nth-child(2n)   .date-content[_ngcontent-%COMP%]{float:right}.main-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]:nth-child(2n)   .date-content[_ngcontent-%COMP%]:before{left:10px}.main-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]:nth-child(2n)   .timeline-content[_ngcontent-%COMP%]{padding:20px 50px 20px 0;text-align:right}@media only screen and (max-width: 991px){.main-timeline[_ngcontent-%COMP%]   .date-content[_ngcontent-%COMP%]{margin-top:35px}.main-timeline[_ngcontent-%COMP%]   .date-content[_ngcontent-%COMP%]:before{width:22.5%}.main-timeline[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]{padding:10px 0 10px 30px}.main-timeline[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px}.main-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]:nth-child(2n)   .timeline-content[_ngcontent-%COMP%]{padding:10px 30px 10px 0}}@media only screen and (max-width: 767px){.main-timeline[_ngcontent-%COMP%]:before{margin:0;left:7px}.main-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]{margin-bottom:20px}.main-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]:last-child{margin-bottom:0}.main-timeline[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:auto 0}.main-timeline[_ngcontent-%COMP%]   .date-content[_ngcontent-%COMP%]{width:95%;float:right;margin-top:0}.main-timeline[_ngcontent-%COMP%]   .date-content[_ngcontent-%COMP%]:before{display:none}.main-timeline[_ngcontent-%COMP%]   .date-outer[_ngcontent-%COMP%]{width:110px;height:110px}.main-timeline[_ngcontent-%COMP%]   .date-outer[_ngcontent-%COMP%]:before, .main-timeline[_ngcontent-%COMP%]   .date-outer[_ngcontent-%COMP%]:after{width:110px;height:110px}.main-timeline[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{top:30%}.main-timeline[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{font-size:24px}.main-timeline[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%], .main-timeline[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]:nth-child(2n)   .timeline-content[_ngcontent-%COMP%]{width:95%;text-align:center;padding:10px 0}.main-timeline[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px}}.video[_ngcontent-%COMP%]{position:relative;margin:10px 60px}']}),n})(),a7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-imp-links"]],decls:39,vars:0,consts:[[1,"all-title-box"],[1,"container","text-center"],["id","overviews",1,"section","lb"],[1,"container"],[1,"section-title","row","text-center"],[1,"col-md-8","offset-md-2"],[1,"row","align-items-center"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12"],["aria-hidden","true",1,"fa","fa-check"],["href","https://boslive.icai.org/education_content.php?p=Study%20Material&c=foundation"],["href","https://boslive.icai.org/education_content.php?p=Study%20Material&c=intermediate"],["href","https://boslive.icai.org/education_content.php?p=Study%20Material&c=final"],["href","https://www.icsi.edu/studymaterialnewsyllabusfnd2017/"],["href","https://www.icsi.edu/studymaterialnewsyllabusexe2017/"],["href","https://www.icsi.edu/study-material-professional-programme-new-syllabus-2017/"],["href","https://icmai.in/studentswebsite/studymat.php#"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1"),s._uU(3,"Important Links "),s.qZA()()(),s.TgZ(4,"div",2)(5,"div",3)(6,"div",4),s._UZ(7,"div",5),s.qZA(),s.TgZ(8,"div",6)(9,"div",7)(10,"ul")(11,"li"),s._UZ(12,"i",8),s.TgZ(13,"a",9),s._uU(14,"CA Foundation Study Material"),s.qZA()(),s.TgZ(15,"li"),s._UZ(16,"i",8),s.TgZ(17,"a",10),s._uU(18,"CA Intermediate Study Material"),s.qZA()(),s.TgZ(19,"li"),s._UZ(20,"i",8),s.TgZ(21,"a",11),s._uU(22,"CA Professional Material"),s.qZA()(),s.TgZ(23,"li"),s._UZ(24,"i",8),s.TgZ(25,"a",12),s._uU(26,"CA foundation Program"),s.qZA()(),s.TgZ(27,"li"),s._UZ(28,"i",8),s.TgZ(29,"a",13),s._uU(30,"CA Executive Program"),s.qZA()(),s.TgZ(31,"li"),s._UZ(32,"i",8),s.TgZ(33,"a",14),s._uU(34,"CS Professional Program"),s.qZA()(),s.TgZ(35,"li"),s._UZ(36,"i",8),s.TgZ(37,"a",15),s._uU(38,"CMA Foundation/Intermediate and Final study material"),s.qZA()()()()()()())},styles:["ul[_ngcontent-%COMP%]{list-style-type:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:20px}.fa[_ngcontent-%COMP%]{position:relative;right:10px}"]}),n})();function l7(n,e){if(1&n&&(s.TgZ(0,"div",7),s._UZ(1,"img",8),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("src",t.fireBaseUrl,s.LSH)}}const u7=[{path:"home",component:LO},{path:"about",component:Sq},{path:"faculty",component:n4},{path:"ca",component:uO},{path:"cs",component:uO},{path:"cma",component:uO},{path:"gallery",component:r4},{path:"result",component:(()=>{class n{constructor(t){this.admiunSer=t}ngOnInit(){this.getResult()}getResult(){this.admiunSer.getResult().subscribe(t=>{console.log("sdfhskdfs",t),this.url=t})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(dv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-result"]],decls:9,vars:1,consts:[[1,"all-title-box"],[1,"container","text-center"],["id","overviews",1,"section","lb"],[1,"container"],[1,"section-title","row","text-center"],[1,"row"],["class","col-sm-6",4,"ngFor","ngForOf"],[1,"col-sm-6"],["height","400px",3,"src"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1"),s._uU(3,"Result"),s.qZA()()(),s.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5),s.YNc(8,l7,2,1,"div",6),s.qZA()()()()),2&t&&(s.xp6(8),s.Q6J("ngForOf",i.url))},dependencies:[Ln]}),n})()},{path:"course-detail/ca/foundation",component:lO},{path:"course-detail/ca/intermediate",component:lO},{path:"course-detail/ca/final",component:lO},{path:"course-detail/cma/foundation",component:aO},{path:"course-detail/cma/intermediate",component:aO},{path:"course-detail/cma/final",component:aO},{path:"course-detail/cs/foundation",component:oO},{path:"course-detail/cs/intermediate",component:oO},{path:"course-detail/cs/final",component:oO},{path:"admin-list",component:aC},{path:"banner-list",component:aC},{path:"teacher-list",component:aC},{path:"result-list",component:aC},{path:"gallery-list",component:aC},{path:"important-links",component:a7},{path:"admin",component:Iq},{path:"",component:LO},{path:"**",component:LO}];let c7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[v0.forRoot(u7),v0]}),n})();const cm=function(){return["active"]},dm=function(){return{exact:!0}};let d7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:39,vars:28,consts:[[1,"top-navbar"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["href","index.html",1,"navbar-brand"],["src","../../../assets/images/sumitarora.jpg","alt",""],["type","button","data-toggle","collapse","data-target","#navbars-host","aria-controls","navbars-rs-food","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"icon-bar"],["id","navbars-host",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item",3,"routerLinkActive","routerLinkActiveOptions"],["routerLink","home",1,"nav-link"],["routerLink","about",1,"nav-link"],["routerLink","faculty",1,"nav-link"],[1,"nav-item","dropdown",3,"routerLinkActive","routerLinkActiveOptions"],["href","#","id","dropdown-a","data-toggle","dropdown",1,"nav-link","dropdown-toggle"],["aria-labelledby","dropdown-a",1,"dropdown-menu"],["routerLink","ca",1,"dropdown-item"],["routerLink","cs",1,"dropdown-item"],["routerLink","cma",1,"dropdown-item"],["routerLink","gallery",1,"nav-link"],["routerLink","result",1,"nav-link"],["routerLink","important-links",1,"nav-link"]],template:function(t,i){1&t&&(s.TgZ(0,"header",0)(1,"nav",1)(2,"div",2)(3,"a",3),s._UZ(4,"img",4),s.qZA(),s.TgZ(5,"button",5),s._UZ(6,"span",6)(7,"span",6)(8,"span",6),s.qZA(),s.TgZ(9,"div",7)(10,"ul",8)(11,"li",9)(12,"a",10),s._uU(13,"Home"),s.qZA()(),s.TgZ(14,"li",9)(15,"a",11),s._uU(16,"About Us"),s.qZA()(),s.TgZ(17,"li",9)(18,"a",12),s._uU(19,"Faculty"),s.qZA()(),s.TgZ(20,"li",13)(21,"a",14),s._uU(22,"Course "),s.qZA(),s.TgZ(23,"div",15)(24,"a",16),s._uU(25,"CA"),s.qZA(),s.TgZ(26,"a",17),s._uU(27,"CS"),s.qZA(),s.TgZ(28,"a",18),s._uU(29,"CMA"),s.qZA()()(),s.TgZ(30,"li",9)(31,"a",19),s._uU(32,"Gallery"),s.qZA()(),s.TgZ(33,"li",9)(34,"a",20),s._uU(35,"Result"),s.qZA()(),s.TgZ(36,"li",9)(37,"a",21),s._uU(38,"Important Links"),s.qZA()()()()()()()),2&t&&(s.xp6(11),s.Q6J("routerLinkActive",s.DdM(14,cm))("routerLinkActiveOptions",s.DdM(15,dm)),s.xp6(3),s.Q6J("routerLinkActive",s.DdM(16,cm))("routerLinkActiveOptions",s.DdM(17,dm)),s.xp6(3),s.Q6J("routerLinkActive",s.DdM(18,cm))("routerLinkActiveOptions",s.DdM(19,dm)),s.xp6(3),s.Q6J("routerLinkActive",s.DdM(20,cm))("routerLinkActiveOptions",s.DdM(21,dm)),s.xp6(10),s.Q6J("routerLinkActive",s.DdM(22,cm))("routerLinkActiveOptions",s.DdM(23,dm)),s.xp6(3),s.Q6J("routerLinkActive",s.DdM(24,cm))("routerLinkActiveOptions",s.DdM(25,dm)),s.xp6(3),s.Q6J("routerLinkActive",s.DdM(26,cm))("routerLinkActiveOptions",s.DdM(27,dm)))},dependencies:[Ul,I1,OO],styles:["img[_ngcontent-%COMP%]{width:100px}"]}),n})(),h7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:72,vars:0,consts:[[1,"footer"],[1,"container"],[1,"row"],[1,"col-lg-4","col-md-4","col-xs-12"],[1,"widget","clearfix"],[1,"widget-title"],[1,"footer-right"],[1,"footer-links-soi"],["href","https://www.facebook.com/CaSumitAroraClasses"],[1,"fa","fa-facebook"],["href","https://instagram.com/prominent_academy_?igshid=ZDdkNTZiNTM="],[1,"fa","fa-instagram"],["href","https://www.youtube.com/@casumitarora7874"],[1,"fa","fa-youtube"],["href","https://twitter.com/Prominentedu14"],[1,"fa","fa-twitter"],["href","https://www.linkedin.com/in/prominent-academy-aa4542268/"],[1,"fa","fa-linkedin"],[1,"footer-links"],["routerLink","/home"],["routerLink","/about"],["routerLink","/faculty"],["routerLink","/gallery"],["routerLink","/result"],[1,"copyrights"],[1,"footer-distributed"],[1,"footer-center"],[1,"footer-company-name"]],template:function(t,i){1&t&&(s.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),s._uU(7,"About US"),s.qZA()(),s.TgZ(8,"p"),s._uU(9," Chartered Accountants are highly demanded professionals in industry & are handsomely paid. Many students strive for getting proper guidance and coaching. Prominent Academy is dealing in CA, CS and CMA Courses with professional expertise team and with these courses we also develop child overall personality. "),s.qZA(),s.TgZ(10,"div",6)(11,"ul",7)(12,"li")(13,"a",8),s._UZ(14,"i",9),s.qZA()(),s.TgZ(15,"li")(16,"a",10),s._UZ(17,"i",11),s.qZA()(),s.TgZ(18,"li")(19,"a",12),s._UZ(20,"i",13),s.qZA()(),s.TgZ(21,"li")(22,"a",14),s._UZ(23,"i",15),s.qZA()(),s.TgZ(24,"li")(25,"a",16),s._UZ(26,"i",17),s.qZA()()()()()(),s.TgZ(27,"div",3)(28,"div",4)(29,"div",5)(30,"h3"),s._uU(31,"Information Link"),s.qZA()(),s.TgZ(32,"ul",18)(33,"li")(34,"a",19),s._uU(35,"Home"),s.qZA()(),s.TgZ(36,"li")(37,"a",20),s._uU(38,"About Us"),s.qZA()(),s.TgZ(39,"li")(40,"a",21),s._uU(41,"Faculty"),s.qZA()(),s.TgZ(42,"li")(43,"a",22),s._uU(44,"Gallery"),s.qZA()(),s.TgZ(45,"li")(46,"a",23),s._uU(47,"Result"),s.qZA()()()()(),s.TgZ(48,"div",3)(49,"div",4)(50,"div",5)(51,"h3"),s._uU(52,"Contact Details"),s.qZA()(),s.TgZ(53,"ul",18)(54,"li")(55,"a"),s._uU(56,"prominentacademy72@gmail.com"),s.qZA()(),s.TgZ(57,"li"),s._uU(58,"50B Pocket J Sheikh Sarai phase 2, Opposite Bhagat Singh college"),s.qZA(),s.TgZ(59,"li"),s._uU(60,"+91 98913 73960"),s.qZA()()()()()()(),s.TgZ(61,"div",24)(62,"div",1)(63,"div",25)(64,"div",26)(65,"p",27),s._uU(66,"All Rights Reserved. \xa9 2023 "),s.TgZ(67,"a"),s._uU(68,"Prominent Academy"),s.qZA(),s._uU(69," Design By : "),s.TgZ(70,"a"),s._uU(71,"Anveshika Srivastava"),s.qZA()()()()()())},dependencies:[Ul]}),n})(),f7=(()=>{class n{constructor(){this.title="prominent"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,i){1&t&&s._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Ip,d7,h7]}),n})();const FV="@firebase/database";let UO="";function UV(n){UO=n}class g7{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,k.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,k.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class m7{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,k.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const BV=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new g7(e)}}catch{}return new m7},hm=BV("localStorage"),BO=BV("sessionStorage"),Tv=new bo.Yd("@firebase/database"),VV=function(){let n=1;return function(){return n++}}(),ZV=function(n){const e=(0,k.dS)(n),t=new k.gQ;t.update(e);const i=t.digest();return k.US.encodeByteArray(i)},DC=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=DC.apply(null,i):e+="object"==typeof i?(0,k.Wl)(i):i,e+=" "}return e};let fm=null,HV=!0;const jV=function(n,e){(0,k.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Tv.logLevel=bo.in.VERBOSE,fm=Tv.log.bind(Tv),e&&BO.set("logging_enabled",!0)):"function"==typeof n?fm=n:(fm=null,BO.remove("logging_enabled"))},$r=function(...n){if(!0===HV&&(HV=!1,null===fm&&!0===BO.get("logging_enabled")&&jV(!0)),fm){const e=DC.apply(null,n);fm(e)}},IC=function(n){return function(...e){$r(n,...e)}},VO=function(...n){const e="FIREBASE INTERNAL ERROR: "+DC(...n);Tv.error(e)},Ec=function(...n){const e=`FIREBASE FATAL ERROR: ${DC(...n)}`;throw Tv.error(e),new Error(e)},Ns=function(...n){const e="FIREBASE WARNING: "+DC(...n);Tv.warn(e)},LI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Vf="[MIN_NAME]",eh="[MAX_NAME]",pm=function(n,e){if(n===e)return 0;if(n===Vf||e===eh)return-1;if(e===Vf||n===eh)return 1;{const t=qV(n),i=qV(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},v7=function(n,e){return n===e?0:n<e?-1:1},SC=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,k.Wl)(e))},ZO=function(n){if("object"!=typeof n||null===n)return(0,k.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,k.Wl)(e[i]),t+=":",t+=ZO(n[e[i]]);return t+="}",t},GV=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function qr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const $V=function(n){(0,k.hu)(!LI(n),"Invalid JSON number");const i=1023;let r,o,c,h,p;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)y.push(o%2?1:0),o=Math.floor(o/2);y.push(r?1:0),y.reverse();const C=y.join("");let I="";for(p=0;p<64;p+=8){let M=parseInt(C.substr(p,8),2).toString(16);1===M.length&&(M="0"+M),I+=M}return I.toLowerCase()},T7=new RegExp("^-?(0*)\\d{1,10}$"),qV=function(n){if(T7.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Ev=function(n){try{n()}catch(e){setTimeout(()=>{throw Ns("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},AC=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class S7{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ns(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class A7{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?($r("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ns(e)}}let NC=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const QV=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,e3="websocket",t3="long_polling";class jO{constructor(e,t,i,r,o=!1,c="",h=!1,p=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hm.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&hm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function n3(n,e,t){let i;if((0,k.hu)("string"==typeof e,"typeof type must == string"),(0,k.hu)("object"==typeof t,"typeof params must == object"),e===e3)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==t3)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function N7(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return qr(t,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class M7{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,k.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,k.p$)(this.counters_)}}const GO={},$O={};function qO(n){const e=n.toString();return GO[e]||(GO[e]=new M7),GO[e]}class R7{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ev(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Zf{constructor(e,t,i,r,o,c,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=IC(e),this.stats_=qO(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),n3(t,t3,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new R7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,k.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new WO((...o)=>{const[c,h,p,y,C]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&QV.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zf.forceAllow_=!0}static forceDisallow(){Zf.forceDisallow_=!0}static isAvailable(){return!((0,k.Yr)()||!Zf.forceAllow_&&(Zf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,k.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,k.h$)(t),r=GV(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,k.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,k.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class WO{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,k.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=VV(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=WO.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){$r("frame writing exception"),h.stack&&$r(h.stack),$r(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||$r("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,k.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{$r("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let BI=null;typeof MozWebSocket<"u"?BI=MozWebSocket:typeof WebSocket<"u"&&(BI=WebSocket);let Dv=(()=>{class n{constructor(t,i,r,o,c,h,p){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=IC(this.connId),this.stats_=qO(i),this.connURL=n.connectionURL_(i,h,p,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,c){const h={v:"5"};return!(0,k.Yr)()&&typeof location<"u"&&location.hostname&&QV.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),o&&(h.ac=o),c&&(h.p=c),n3(t,e3,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hm.set("previous_websocket_failure",!0);try{let r;if((0,k.Yr)()){r={headers:{"User-Agent":`Firebase/5/${UO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,h=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new BI(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==BI&&!n.forceDisallow_}static previouslyFailed(){return hm.isInMemoryStorage||!0===hm.get("previous_websocket_failure")}markConnectionHealthy(){hm.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,k.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,k.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,k.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=GV(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),u3=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Zf,Dv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Dv&&Dv.isAvailable();let r=i&&!Dv.previouslyFailed();if(t.webSocketOnly&&(i||Ns("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Dv];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class m3{constructor(e,t,i,r,o,c,h,p,y,C){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=IC("c:"+this.id+":"),this.transportManager_=new u3(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=AC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=SC("t",e),i=SC("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=SC("t",e),i=SC("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=SC("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?VO("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):VO("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Ns("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),AC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):AC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class _3{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class y3{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,k.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){(0,k.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class VI extends y3{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,k.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new VI}getInitialEvent(e){return(0,k.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Pn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Sn(){return new Pn("")}function on(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Hf(n){return n.pieces_.length-n.pieceNum_}function Jn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Pn(n.pieces_,e)}function KO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function MC(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function w3(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Pn(e,0)}function Ei(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Pn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Pn(t,0)}function an(n){return n.pieceNum_>=n.pieces_.length}function Qs(n,e){const t=on(n),i=on(e);if(null===t)return e;if(t===i)return Qs(Jn(n),Jn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function e9(n,e){const t=MC(n,0),i=MC(e,0);for(let r=0;r<t.length&&r<i.length;r++){const o=pm(t[r],i[r]);if(0!==o)return o}return t.length===i.length?0:t.length<i.length?-1:1}function YO(n,e){if(Hf(n)!==Hf(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Xa(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Hf(n)>Hf(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class t9{constructor(e,t){this.errorPrefix_=t,this.parts_=MC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,k.ug)(this.parts_[i]);C3(this)}}function C3(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gm(n))}function gm(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class QO extends y3{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new QO}getInitialEvent(e){return(0,k.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const xC=1e3;let HI,mm=(()=>{class n extends _3{constructor(t,i,r,o,c,h,p,y){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=IC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,k.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");QO.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&VI.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,c={r:o,a:t,b:i};this.log_((0,k.Wl)(c)),(0,k.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new k.BH,r={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:h=>{const p=h.d;"ok"===h.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,k.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,k.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const y=p.d,C=p.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",p),"ok"!==C&&this.removeListen_(r,o),t.onComplete&&t.onComplete(C,y))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,k.r3)(t,"w")){const r=(0,k.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Ns(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,k.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,k.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,h=o.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,k.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const c={p:t};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,k.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):VO("Unrecognized action received from server: "+(0,k.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,k.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xC,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=xC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=xC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,_e.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,y=null;const C=function(){y?y.close():(p=!0,o())};t.realtime_={close:C,sendRequest:function(O){(0,k.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(O)}};const M=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[O,B]=yield Promise.all([t.authTokenProvider_.getToken(M),t.appCheckTokenProvider_.getToken(M)]);p?$r("getToken() completed but was canceled"):($r("getToken() completed. Creating connection."),t.authToken_=O&&O.accessToken,t.appCheckToken_=B&&B.token,y=new m3(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,W=>{Ns(W+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(O){t.log_("Failed to get token: "+O),p||(t.repoInfo_.nodeAdmin&&Ns(O),C())}}})()}interrupt(t){$r("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){$r("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,k.xb)(this.interruptReasons_)&&(this.reconnectDelay_=xC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>ZO(c)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Pn(t).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){$r("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){$r("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,k.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+UO.replace(/\./g,"-")]=1,(0,k.uI)()?t["framework.cordova"]=1:(0,k.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=VI.getInstance().currentlyOnline();return(0,k.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class un{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new un(e,t)}}class ZI{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new un(Vf,e),r=new un(Vf,t);return 0!==this.compare(i,r)}minPost(){return un.MIN}}class D3 extends ZI{static get __EMPTY_NODE(){return HI}static set __EMPTY_NODE(e){HI=e}compare(e,t){return pm(e.name,t.name)}isDefinedOn(e){throw(0,k.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return un.MIN}maxPost(){return new un(eh,HI)}makePost(e,t){return(0,k.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new un(e,HI)}toString(){return".key"}}const Dc=new D3;class jI{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let XO,Xl=(()=>{class n{constructor(t,i,r,o,c){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??No.EMPTY_NODE,this.right=c??No.EMPTY_NODE}copy(t,i,r,o,c){return new n(t??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const c=r(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return No.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return No.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class No{constructor(e,t=No.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new No(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Xl.BLACK,null,null))}remove(e){return new No(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xl.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jI(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new jI(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new jI(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new jI(this.root_,null,this.comparator_,!0,e)}}function u9(n,e){return pm(n.name,e.name)}function JO(n,e){return pm(n,e)}No.EMPTY_NODE=new class l9{copy(e,t,i,r,o){return this}insert(e,t,i){return new Xl(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const I3=function(n){return"number"==typeof n?"number:"+$V(n):"string:"+n},S3=function(n){if(n.isLeafNode()){const e=n.val();(0,k.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,k.r3)(e,".sv"),"Priority must be a string or number.")}else(0,k.hu)(n===XO||n.isEmpty(),"priority of unexpected type.");(0,k.hu)(n===XO||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let A3,N3,M3,Iv=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,k.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),S3(this.priorityNode_)}static set __childrenNodeConstructor(t){A3=t}static get __childrenNodeConstructor(){return A3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return an(t)?this:".priority"===on(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=on(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,k.hu)(".priority"!==r||1===Hf(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jn(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+I3(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?$V(this.value_):this.value_,this.lazyHash_=ZV(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,k.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,k.hu)(o>=0,"Unknown leaf type: "+i),(0,k.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ri=new class f9 extends ZI{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?pm(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return un.MIN}maxPost(){return new un(eh,new Iv("[PRIORITY-POST]",M3))}makePost(e,t){const i=N3(e);return new un(t,new Iv("[PRIORITY-POST]",i))}toString(){return".priority"}},p9=Math.log(2);class g9{constructor(e){this.count=parseInt(Math.log(e+1)/p9,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const GI=function(n,e,t,i){n.sort(e);const r=function(p,y){const C=y-p;let I,M;if(0===C)return null;if(1===C)return I=n[p],M=t?t(I):I,new Xl(M,I.node,Xl.BLACK,null,null);{const O=parseInt(C/2,10)+p,B=r(p,O),W=r(O+1,y);return I=n[O],M=t?t(I):I,new Xl(M,I.node,Xl.BLACK,B,W)}},h=function(p){let y=null,C=null,I=n.length;const M=function(B,W){const J=I-B,Ie=I;I-=B;const Fe=r(J+1,Ie),Le=n[J],Ue=t?t(Le):Le;O(new Xl(Ue,Le.node,W,null,Fe))},O=function(B){y?(y.left=B,y=B):(C=B,y=B)};for(let B=0;B<p.count;++B){const W=p.nextBitIsOne(),J=Math.pow(2,p.count-(B+1));W?M(J,Xl.BLACK):(M(J,Xl.BLACK),M(J,Xl.RED))}return C}(new g9(n.length));return new No(i||e,h)};let eP;const Sv={};class th{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,k.hu)(Sv&&ri,"ChildrenNode.ts has not been loaded"),eP=eP||new th({".priority":Sv},{".priority":ri}),eP}get(e){const t=(0,k.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof No?t:null}hasIndex(e){return(0,k.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,k.hu)(e!==Dc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(un.Wrap);let h,c=o.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=o.getNext();h=r?GI(i,e.getCompare()):Sv;const p=e.toString(),y=Object.assign({},this.indexSet_);y[p]=e;const C=Object.assign({},this.indexes_);return C[p]=h,new th(C,y)}addToIndexes(e,t){const i=(0,k.UI)(this.indexes_,(r,o)=>{const c=(0,k.DV)(this.indexSet_,o);if((0,k.hu)(c,"Missing index implementation for "+o),r===Sv){if(c.isDefinedOn(e.node)){const h=[],p=t.getIterator(un.Wrap);let y=p.getNext();for(;y;)y.name!==e.name&&h.push(y),y=p.getNext();return h.push(e),GI(h,c.getCompare())}return Sv}{const h=t.get(e.name);let p=r;return h&&(p=p.remove(new un(e.name,h))),p.insert(e,e.node)}});return new th(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,k.UI)(this.indexes_,r=>{if(r===Sv)return r;{const o=t.get(e.name);return o?r.remove(new un(e.name,o)):r}});return new th(i,this.indexSet_)}}let RC,Kt=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&S3(this.priorityNode_),this.children_.isEmpty()&&(0,k.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return RC||(RC=new n(new No(JO),null,th.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||RC}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?RC:i}}getChild(t){const i=on(t);return null===i?this:this.getImmediateChild(i).getChild(Jn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,k.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new un(t,i);let o,c;i.isEmpty()?(o=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?RC:this.priorityNode_;return new n(o,h,c)}}updateChild(t,i){const r=on(t);if(null===r)return i;{(0,k.hu)(".priority"!==on(t)||1===Hf(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Jn(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(ri,(h,p)=>{i[h]=p.val(t),r++,c&&n.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!t&&c&&o<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+I3(this.getPriority().val())+":"),this.forEachChild(ri,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":ZV(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new un(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new un(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new un(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,un.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,t)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,un.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,t)>0;)o.getNext(),c=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===OC?-1:0}withIndex(t){if(t===Dc||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Dc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ri),o=i.getIterator(ri);let c=r.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=o.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(t){return t===Dc?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const OC=new class m9 extends Kt{constructor(){super(new No(JO),Kt.EMPTY_NODE,th.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Kt.EMPTY_NODE}isEmpty(){return!1}};function Ui(n,e=null){if(null===n)return Kt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,k.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Iv(n,Ui(e));if(n instanceof Array){let t=Kt.EMPTY_NODE;return qr(n,(i,r)=>{if((0,k.r3)(n,i)&&"."!==i.substring(0,1)){const o=Ui(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(Ui(e))}{const t=[];let i=!1;if(qr(n,(c,h)=>{if("."!==c.substring(0,1)){const p=Ui(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new un(c,p)))}}),0===t.length)return Kt.EMPTY_NODE;const o=GI(t,u9,c=>c.name,JO);if(i){const c=GI(t,ri.getCompare());return new Kt(o,Ui(e),new th({".priority":c},{".priority":ri}))}return new Kt(o,Ui(e),th.Default)}}Object.defineProperties(un,{MIN:{value:new un(Vf,Kt.EMPTY_NODE)},MAX:{value:new un(eh,OC)}}),D3.__EMPTY_NODE=Kt.EMPTY_NODE,Iv.__childrenNodeConstructor=Kt,function c9(n){XO=n}(OC),function h9(n){M3=n}(OC),function d9(n){N3=n}(Ui);class tP extends ZI{constructor(e){super(),this.indexPath_=e,(0,k.hu)(!an(e)&&".priority"!==on(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?pm(e.name,t.name):o}makePost(e,t){const i=Ui(e),r=Kt.EMPTY_NODE.updateChild(this.indexPath_,i);return new un(t,r)}maxPost(){const e=Kt.EMPTY_NODE.updateChild(this.indexPath_,OC);return new un(eh,e)}toString(){return MC(this.indexPath_,0).join("/")}}const nP=new class y9 extends ZI{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?pm(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return un.MIN}maxPost(){return un.MAX}makePost(e,t){const i=Ui(e);return new un(t,i)}toString(){return".value"}};function x3(n){return{type:"value",snapshotNode:n}}function Av(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function PC(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function kC(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class iP{constructor(e){this.index_=e}updateChild(e,t,i,r,o,c){(0,k.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(PC(t,h)):(0,k.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Av(t,i)):c.trackChildChange(kC(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(ri,(r,o)=>{t.hasChild(r)||i.trackChildChange(PC(r,o))}),t.isLeafNode()||t.forEachChild(ri,(r,o)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(o)||i.trackChildChange(kC(r,o,c))}else i.trackChildChange(Av(r,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Kt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class FC{constructor(e){this.indexedFilter_=new iP(e.getIndex()),this.index_=e.getIndex(),this.startPost_=FC.getStartPost_(e),this.endPost_=FC.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,o,c){return this.matches(new un(t,i))||(i=Kt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,o,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Kt.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Kt.EMPTY_NODE);const o=this;return t.forEachChild(ri,(c,h)=>{o.matches(new un(c,h))||(r=r.updateImmediateChild(c,Kt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class b9{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new FC(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,o,c){return this.rangedFilter_.matches(new un(t,i))||(i=Kt.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,o,c):this.fullLimitUpdateChild_(e,t,i,o,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Kt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let o;r=Kt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;r=r.updateImmediateChild(h.name,h.node),c++}}}else{let o;r=t.withIndex(this.index_),r=r.updatePriority(Kt.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let c=0;for(;o.hasNext();){const h=o.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:r=r.updateImmediateChild(h.name,Kt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,o){let c;if(this.reverse_){const I=this.index_.getCompare();c=(M,O)=>I(O,M)}else c=this.index_.getCompare();const h=e;(0,k.hu)(h.numChildren()===this.limit_,"");const p=new un(t,i),y=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),C=this.rangedFilter_.matches(p);if(h.hasChild(t)){const I=h.getImmediateChild(t);let M=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=M&&(M.name===t||h.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const O=null==M?1:c(M,p);if(C&&!i.isEmpty()&&O>=0)return o?.trackChildChange(kC(t,i,I)),h.updateImmediateChild(t,i);{o?.trackChildChange(PC(t,I));const W=h.updateImmediateChild(t,Kt.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(o?.trackChildChange(Av(M.name,M.node)),W.updateImmediateChild(M.name,M.node)):W}}return i.isEmpty()?e:C&&c(y,p)>=0?(null!=o&&(o.trackChildChange(PC(y.name,y.node)),o.trackChildChange(Av(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(y.name,Kt.EMPTY_NODE)):e}}class $I{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ri}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vf}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:eh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,k.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ri}copy(){const e=new $I;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function rP(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function sP(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function qI(n,e){const t=n.copy();return t.index_=e,t}function R3(n){const e={};if(n.isDefault())return e;let t;if(n.index_===ri?t="$priority":n.index_===nP?t="$value":n.index_===Dc?t="$key":((0,k.hu)(n.index_ instanceof tP,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,k.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,k.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,k.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,k.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,k.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function O3(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==ri&&(e.i=n.index_.toString()),e}class WI extends _3{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=IC("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,k.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=WI.getListenId_(e,i),h={};this.listens_[c]=h;const p=R3(e._queryParams);this.restRequest_(o+".json",p,(y,C)=>{let I=C;if(404===y&&(I=null,y=null),null===y&&this.onDataUpdate_(o,I,!1,i),(0,k.DV)(this.listens_,c)===h){let M;M=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(M,null)}})}unlisten(e,t){const i=WI.getListenId_(e,t);delete this.listens_[i]}get(e){const t=R3(e._queryParams),i=e._path.toString(),r=new k.BH;return this.restRequest_(i+".json",t,(o,c)=>{let h=c;404===o&&(h=null,o=null),null===o?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,k.xO)(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,k.cI)(h.responseText)}catch{Ns("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&Ns("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class I9{constructor(){this.rootNode_=Kt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function zI(){return{value:null,children:new Map}}function Nv(n,e,t){if(an(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=on(e);n.children.has(i)||n.children.set(i,zI()),Nv(n.children.get(i),e=Jn(e),t)}}function oP(n,e){if(an(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(ri,(i,r)=>{Nv(n,new Pn(i),r)}),oP(n,e)}}if(n.children.size>0){const t=on(e);return e=Jn(e),n.children.has(t)&&oP(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function aP(n,e,t){null!==n.value?t(e,n.value):function S9(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{aP(r,new Pn(e.toString()+"/"+i),t)})}class A9{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&qr(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class x9{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new A9(e);const i=1e4+2e4*Math.random();AC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;qr(e,(r,o)=>{o>0&&(0,k.r3)(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),AC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var el=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(el||(el={})),el))();function cP(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class KI{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=el.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(an(this.path)){if(null!=this.affectedTree.value)return(0,k.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Pn(e));return new KI(Sn(),t,this.revert)}}return(0,k.hu)(on(this.path)===e,"operationForChild called for unrelated child."),new KI(Jn(this.path),this.affectedTree,this.revert)}}class LC{constructor(e,t){this.source=e,this.path=t,this.type=el.LISTEN_COMPLETE}operationForChild(e){return an(this.path)?new LC(this.source,Sn()):new LC(this.source,Jn(this.path))}}class _m{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=el.OVERWRITE}operationForChild(e){return an(this.path)?new _m(this.source,Sn(),this.snap.getImmediateChild(e)):new _m(this.source,Jn(this.path),this.snap)}}class Mv{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=el.MERGE}operationForChild(e){if(an(this.path)){const t=this.children.subtree(new Pn(e));return t.isEmpty()?null:t.value?new _m(this.source,Sn(),t.value):new Mv(this.source,Sn(),t)}return(0,k.hu)(on(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Mv(this.source,Jn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class jf{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(an(e))return this.isFullyInitialized()&&!this.filtered_;const t=on(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class R9{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function UC(n,e,t,i,r,o){const c=i.filter(h=>h.type===t);c.sort((h,p)=>function k9(n,e,t){if(null==e.childName||null==t.childName)throw(0,k.g5)("Should only compare child_ events.");const i=new un(e.childName,e.snapshotNode),r=new un(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),c.forEach(h=>{const p=function P9(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,o);r.forEach(y=>{y.respondsTo(h.type)&&e.push(y.createEvent(p,n.query_))})})}function YI(n,e){return{eventCache:n,serverCache:e}}function BC(n,e,t,i){return YI(new jf(e,t,i),n.serverCache)}function k3(n,e,t,i){return YI(n.eventCache,new jf(e,t,i))}function QI(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ym(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let dP;class si{constructor(e,t=(()=>(dP||(dP=new No(v7)),dP))()){this.value=e,this.children=t}static fromObject(e){let t=new si(null);return qr(e,(i,r)=>{t=t.set(new Pn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Sn(),value:this.value};if(an(e))return null;{const i=on(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Jn(e),t);return null!=o?{path:Ei(new Pn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(an(e))return this;{const t=on(e),i=this.children.get(t);return null!==i?i.subtree(Jn(e)):new si(null)}}set(e,t){if(an(e))return new si(t,this.children);{const i=on(e),o=(this.children.get(i)||new si(null)).set(Jn(e),t),c=this.children.insert(i,o);return new si(this.value,c)}}remove(e){if(an(e))return this.children.isEmpty()?new si(null):new si(null,this.children);{const t=on(e),i=this.children.get(t);if(i){const r=i.remove(Jn(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new si(null):new si(this.value,o)}return this}}get(e){if(an(e))return this.value;{const t=on(e),i=this.children.get(t);return i?i.get(Jn(e)):null}}setTree(e,t){if(an(e))return t;{const i=on(e),o=(this.children.get(i)||new si(null)).setTree(Jn(e),t);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new si(this.value,c)}}fold(e){return this.fold_(Sn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ei(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Sn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(an(e))return null;{const o=on(e),c=this.children.get(o);return c?c.findOnPath_(Jn(e),Ei(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Sn(),t)}foreachOnPath_(e,t,i){if(an(e))return this;{this.value&&i(t,this.value);const r=on(e),o=this.children.get(r);return o?o.foreachOnPath_(Jn(e),Ei(t,r),i):new si(null)}}foreach(e){this.foreach_(Sn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Ei(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class eu{constructor(e){this.writeTree_=e}static empty(){return new eu(new si(null))}}function VC(n,e,t){if(an(e))return new eu(new si(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const c=Qs(r,e);return o=o.updateChild(c,t),new eu(n.writeTree_.set(r,o))}{const r=new si(t),o=n.writeTree_.setTree(e,r);return new eu(o)}}}function hP(n,e,t){let i=n;return qr(t,(r,o)=>{i=VC(i,Ei(e,r),o)}),i}function F3(n,e){if(an(e))return eu.empty();{const t=n.writeTree_.setTree(e,new si(null));return new eu(t)}}function fP(n,e){return null!=vm(n,e)}function vm(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Qs(t.path,e)):null}function L3(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(ri,(i,r)=>{e.push(new un(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new un(i,r.value))}),e}function Gf(n,e){if(an(e))return n;{const t=vm(n,e);return new eu(null!=t?new si(t):n.writeTree_.subtree(e))}}function pP(n){return n.writeTree_.isEmpty()}function xv(n,e){return U3(Sn(),n.writeTree_,e)}function U3(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?((0,k.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=U3(Ei(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Ei(n,".priority"),i)),t}}function JI(n,e){return j3(e,n)}function Z9(n,e){if(n.snap)return Xa(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Xa(Ei(n.path,t),e))return!0;return!1}function j9(n){return n.visible}function B3(n,e,t){let i=eu.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const c=o.path;let h;if(o.snap)Xa(t,c)?(h=Qs(t,c),i=VC(i,h,o.snap)):Xa(c,t)&&(h=Qs(c,t),i=VC(i,Sn(),o.snap.getChild(h)));else{if(!o.children)throw(0,k.g5)("WriteRecord should have .snap or .children");if(Xa(t,c))h=Qs(t,c),i=hP(i,h,o.children);else if(Xa(c,t))if(h=Qs(c,t),an(h))i=hP(i,Sn(),o.children);else{const p=(0,k.DV)(o.children,on(h));if(p){const y=p.getChild(Jn(h));i=VC(i,Sn(),y)}}}}}return i}function V3(n,e,t,i,r){if(i||r){const o=Gf(n.visibleWrites,e);return!r&&pP(o)?t:r||null!=t||fP(o,Sn())?xv(B3(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(Xa(y.path,e)||Xa(e,y.path))},e),t||Kt.EMPTY_NODE):null}{const o=vm(n.visibleWrites,e);if(null!=o)return o;{const c=Gf(n.visibleWrites,e);return pP(c)?t:null!=t||fP(c,Sn())?xv(c,t||Kt.EMPTY_NODE):null}}}function XI(n,e,t,i){return V3(n.writeTree,n.treePath,e,t,i)}function gP(n,e){return function G9(n,e,t){let i=Kt.EMPTY_NODE;const r=vm(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(ri,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(t){const o=Gf(n.visibleWrites,e);return t.forEachChild(ri,(c,h)=>{const p=xv(Gf(o,new Pn(c)),h);i=i.updateImmediateChild(c,p)}),L3(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return L3(Gf(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function Z3(n,e,t,i){return function $9(n,e,t,i,r){(0,k.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ei(e,t);if(fP(n.visibleWrites,o))return null;{const c=Gf(n.visibleWrites,o);return pP(c)?r.getChild(t):xv(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function eS(n,e){return function W9(n,e){return vm(n.visibleWrites,e)}(n.writeTree,Ei(n.treePath,e))}function mP(n,e,t){return function q9(n,e,t,i){const r=Ei(e,t),o=vm(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?xv(Gf(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function H3(n,e){return j3(Ei(n.treePath,e),n.writeTree)}function j3(n,e){return{treePath:n,writeTree:e}}class Q9{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,k.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,k.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,kC(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,PC(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,Av(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw(0,k.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,kC(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const G3=new class J9{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class _P{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new jf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mP(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ym(this.viewCache_),o=function Y9(n,e,t,i,r,o){return function z9(n,e,t,i,r,o,c){let h;const p=Gf(n.visibleWrites,e),y=vm(p,Sn());if(null!=y)h=y;else{if(null==t)return[];h=xv(p,t)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const C=[],I=c.getCompare(),M=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let O=M.getNext();for(;O&&C.length<r;)0!==I(O,i)&&C.push(O),O=M.getNext();return C}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function $3(n,e,t,i,r,o){const c=e.eventCache;if(null!=eS(i,t))return e;{let h,p;if(an(t))if((0,k.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=ym(e),I=gP(i,y instanceof Kt?y:Kt.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),I,o)}else{const y=XI(i,ym(e));h=n.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{const y=on(t);if(".priority"===y){(0,k.hu)(1===Hf(t),"Can't have a priority with additional path components");const C=c.getNode();p=e.serverCache.getNode();const I=Z3(i,t,C,p);h=null!=I?n.filter.updatePriority(C,I):c.getNode()}else{const C=Jn(t);let I;if(c.isCompleteForChild(y)){p=e.serverCache.getNode();const M=Z3(i,t,c.getNode(),p);I=null!=M?c.getNode().getImmediateChild(y).updateChild(C,M):c.getNode().getImmediateChild(y)}else I=mP(i,y,e.serverCache);h=null!=I?n.filter.updateChild(c.getNode(),y,I,C,r,o):c.getNode()}}return BC(e,h,c.isFullyInitialized()||an(t),n.filter.filtersNodes())}}function tS(n,e,t,i,r,o,c,h){const p=e.serverCache;let y;const C=c?n.filter:n.filter.getIndexedFilter();if(an(t))y=C.updateFullNode(p.getNode(),i,null);else if(C.filtersNodes()&&!p.isFiltered()){const O=p.getNode().updateChild(t,i);y=C.updateFullNode(p.getNode(),O,null)}else{const O=on(t);if(!p.isCompleteForPath(t)&&Hf(t)>1)return e;const B=Jn(t),J=p.getNode().getImmediateChild(O).updateChild(B,i);y=".priority"===O?C.updatePriority(p.getNode(),J):C.updateChild(p.getNode(),O,J,B,G3,null)}const I=k3(e,y,p.isFullyInitialized()||an(t),C.filtersNodes());return $3(n,I,t,r,new _P(r,I,o),h)}function yP(n,e,t,i,r,o,c){const h=e.eventCache;let p,y;const C=new _P(r,e,o);if(an(t))y=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=BC(e,y,!0,n.filter.filtersNodes());else{const I=on(t);if(".priority"===I)y=n.filter.updatePriority(e.eventCache.getNode(),i),p=BC(e,y,h.isFullyInitialized(),h.isFiltered());else{const M=Jn(t),O=h.getNode().getImmediateChild(I);let B;if(an(M))B=i;else{const W=C.getCompleteChild(I);B=null!=W?".priority"===KO(M)&&W.getChild(w3(M)).isEmpty()?W:W.updateChild(M,i):Kt.EMPTY_NODE}p=O.equals(B)?e:BC(e,n.filter.updateChild(h.getNode(),I,B,M,C,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function q3(n,e){return n.eventCache.isCompleteForChild(e)}function W3(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function vP(n,e,t,i,r,o,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y,p=e;y=an(t)?i:new si(null).setTree(t,i);const C=e.serverCache.getNode();return y.children.inorderTraversal((I,M)=>{if(C.hasChild(I)){const B=W3(0,e.serverCache.getNode().getImmediateChild(I),M);p=tS(n,p,new Pn(I),B,r,o,c,h)}}),y.children.inorderTraversal((I,M)=>{const O=!e.serverCache.isCompleteForChild(I)&&null===M.value;if(!C.hasChild(I)&&!O){const W=W3(0,e.serverCache.getNode().getImmediateChild(I),M);p=tS(n,p,new Pn(I),W,r,o,c,h)}}),p}class aK{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new iP(i.getIndex()),o=function w9(n){return n.loadsAllData()?new iP(n.getIndex()):n.hasLimit()?new b9(n):new FC(n)}(i);this.processor_=function X9(n){return{filter:n}}(o);const c=t.serverCache,h=t.eventCache,p=r.updateFullNode(Kt.EMPTY_NODE,c.getNode(),null),y=o.updateFullNode(Kt.EMPTY_NODE,h.getNode(),null),C=new jf(p,c.isFullyInitialized(),r.filtersNodes()),I=new jf(y,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=YI(I,C),this.eventGenerator_=new R9(this.query_)}get query(){return this.query_}}function cK(n,e){const t=ym(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!an(e)&&!t.getImmediateChild(on(e)).isEmpty())?t.getChild(e):null}function z3(n){return 0===n.eventRegistrations_.length}function K3(n,e,t){const i=[];if(t){(0,k.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function Y3(n,e,t,i){e.type===el.MERGE&&null!==e.source.queryId&&((0,k.hu)(ym(n.viewCache_),"We should always have a full cache before handling merges"),(0,k.hu)(QI(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function tK(n,e,t,i,r){const o=new Q9;let c,h;if(t.type===el.OVERWRITE){const y=t;y.source.fromUser?c=yP(n,e,y.path,y.snap,i,r,o):((0,k.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered()&&!an(y.path),c=tS(n,e,y.path,y.snap,i,r,h,o))}else if(t.type===el.MERGE){const y=t;y.source.fromUser?c=function iK(n,e,t,i,r,o,c){let h=e;return i.foreach((p,y)=>{const C=Ei(t,p);q3(e,on(C))&&(h=yP(n,h,C,y,r,o,c))}),i.foreach((p,y)=>{const C=Ei(t,p);q3(e,on(C))||(h=yP(n,h,C,y,r,o,c))}),h}(n,e,y.path,y.children,i,r,o):((0,k.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered(),c=vP(n,e,y.path,y.children,i,r,h,o))}else if(t.type===el.ACK_USER_WRITE){const y=t;c=y.revert?function oK(n,e,t,i,r,o){let c;if(null!=eS(i,t))return e;{const h=new _P(i,e,r),p=e.eventCache.getNode();let y;if(an(t)||".priority"===on(t)){let C;if(e.serverCache.isFullyInitialized())C=XI(i,ym(e));else{const I=e.serverCache.getNode();(0,k.hu)(I instanceof Kt,"serverChildren would be complete if leaf node"),C=gP(i,I)}y=n.filter.updateFullNode(p,C,o)}else{const C=on(t);let I=mP(i,C,e.serverCache);null==I&&e.serverCache.isCompleteForChild(C)&&(I=p.getImmediateChild(C)),y=null!=I?n.filter.updateChild(p,C,I,Jn(t),h,o):e.eventCache.getNode().hasChild(C)?n.filter.updateChild(p,C,Kt.EMPTY_NODE,Jn(t),h,o):p,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=XI(i,ym(e)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,o)))}return c=e.serverCache.isFullyInitialized()||null!=eS(i,Sn()),BC(e,y,c,n.filter.filtersNodes())}}(n,e,y.path,i,r,o):function rK(n,e,t,i,r,o,c){if(null!=eS(r,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(an(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return tS(n,e,t,p.getNode().getChild(t),r,o,h,c);if(an(t)){let y=new si(null);return p.getNode().forEachChild(Dc,(C,I)=>{y=y.set(new Pn(C),I)}),vP(n,e,t,y,r,o,h,c)}return e}{let y=new si(null);return i.foreach((C,I)=>{const M=Ei(t,C);p.isCompleteForPath(M)&&(y=y.set(C,p.getNode().getChild(M)))}),vP(n,e,t,y,r,o,h,c)}}(n,e,y.path,y.affectedTree,i,r,o)}else{if(t.type!==el.LISTEN_COMPLETE)throw(0,k.g5)("Unknown operation type: "+t.type);c=function sK(n,e,t,i,r){const o=e.serverCache;return $3(n,k3(e,o.getNode(),o.isFullyInitialized()||an(t),o.isFiltered()),t,i,G3,r)}(n,e,t.path,i,o)}const p=o.getChanges();return function nK(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=QI(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(x3(QI(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,r,e,t,i);return function eK(n,e){(0,k.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,k.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,k.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,Q3(n,o.changes,o.viewCache.eventCache.getNode(),null)}function Q3(n,e,t,i){return function O9(n,e,t,i){const r=[],o=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function v9(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),UC(n,r,"child_removed",e,i,t),UC(n,r,"child_added",e,i,t),UC(n,r,"child_moved",o,i,t),UC(n,r,"child_changed",e,i,t),UC(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let nS,rS;class J3{constructor(){this.views=new Map}}function bP(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return(0,k.hu)(null!=o,"SyncTree gave us an op for an invalid query."),Y3(o,e,t,i)}{let o=[];for(const c of n.views.values())o=o.concat(Y3(c,e,t,i));return o}}function X3(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let h=XI(t,r?i:null),p=!1;h?p=!0:i instanceof Kt?(h=gP(t,i),p=!1):(h=Kt.EMPTY_NODE,p=!1);const y=YI(new jf(h,p,!1),new jf(i,r,!1));return new aK(e,y)}return c}function eZ(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function $f(n,e){let t=null;for(const i of n.views.values())t=t||cK(i,e);return t}function tZ(n,e){return e._queryParams.loadsAllData()?iS(n):n.views.get(e._queryIdentifier)}function nZ(n,e){return null!=tZ(n,e)}function qf(n){return null!=iS(n)}function iS(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let bK=1;class iZ{constructor(e){this.listenProvider_=e,this.syncPointTree_=new si(null),this.pendingWriteTree_=function K9(){return{visibleWrites:eu.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function wP(n,e,t,i,r){return function L9(n,e,t,i,r){(0,k.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=VC(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Rv(n,new _m({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Wf(n,e,t=!1){const i=function B9(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function V9(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,k.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&Z9(h,i.path)?r=!1:Xa(i.path,h.path)&&(o=!0)),c--}return!!r&&(o?(function H9(n){n.visibleWrites=B3(n.allWrites,j9,Sn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=F3(n.visibleWrites,i.path):qr(i.children,p=>{n.visibleWrites=F3(n.visibleWrites,Ei(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let o=new si(null);return null!=i.snap?o=o.set(Sn(),!0):qr(i.children,c=>{o=o.set(new Pn(c),!0)}),Rv(n,new KI(i.path,o,t))}return[]}function ZC(n,e,t){return Rv(n,new _m({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function sS(n,e,t,i,r=!1){const o=e._path,c=n.syncPointTree_.get(o);let h=[];if(c&&("default"===e._queryIdentifier||nZ(c,e))){const p=function _K(n,e,t,i){const r=e._queryIdentifier,o=[];let c=[];const h=qf(n);if("default"===r)for(const[p,y]of n.views.entries())c=c.concat(K3(y,t,i)),z3(y)&&(n.views.delete(p),y.query._queryParams.loadsAllData()||o.push(y.query));else{const p=n.views.get(r);p&&(c=c.concat(K3(p,t,i)),z3(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||o.push(p.query)))}return h&&!qf(n)&&o.push(new(function pK(){return(0,k.hu)(nS,"Reference.ts has not been loaded"),nS}())(e._repo,e._path)),{removed:o,events:c}}(c,e,t,i);(function gK(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const y=p.removed;if(h=p.events,!r){const C=-1!==y.findIndex(M=>M._queryParams.loadsAllData()),I=n.syncPointTree_.findOnPath(o,(M,O)=>qf(O));if(C&&!I){const M=n.syncPointTree_.subtree(o);if(!M.isEmpty()){const O=function SK(n){return n.fold((e,t,i)=>{if(t&&qf(t))return[iS(t)];{let r=[];return t&&(r=eZ(t)),qr(i,(o,c)=>{r=r.concat(c)}),r}})}(M);for(let B=0;B<O.length;++B){const W=O[B],J=W.query,Ie=aZ(n,W);n.listenProvider_.startListening(jC(J),HC(n,J),Ie.hashFn,Ie.onComplete)}}}!I&&y.length>0&&!i&&(C?n.listenProvider_.stopListening(jC(e),null):y.forEach(M=>{const O=n.queryToTagMap.get(aS(M));n.listenProvider_.stopListening(jC(M),O)}))}!function AK(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=aS(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,y)}return h}function rZ(n,e,t,i){const r=TP(n,i);if(null!=r){const o=EP(r),c=o.path,h=o.queryId,p=Qs(c,e);return DP(n,c,new _m(cP(h),p,t))}return[]}function CP(n,e,t,i=!1){const r=e._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(r,(M,O)=>{const B=Qs(M,r);o=o||$f(O,B),c=c||qf(O)});let p,h=n.syncPointTree_.get(r);h?(c=c||qf(h),o=o||$f(h,Sn())):(h=new J3,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=o?p=!0:(p=!1,o=Kt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((O,B)=>{const W=$f(B,Sn());W&&(o=o.updateImmediateChild(O,W))}));const y=nZ(h,e);if(!y&&!e._queryParams.loadsAllData()){const M=aS(e);(0,k.hu)(!n.queryToTagMap.has(M),"View does not exist, but we have a tag");const O=function NK(){return bK++}();n.queryToTagMap.set(M,O),n.tagToQueryMap.set(O,M)}let I=function mK(n,e,t,i,r,o){const c=X3(n,e,i,r,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function dK(n,e){n.eventRegistrations_.push(e)}(c,t),function hK(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(ri,(o,c)=>{i.push(Av(o,c))}),t.isFullyInitialized()&&i.push(x3(t.getNode())),Q3(n,i,t.getNode(),e)}(c,t)}(h,e,t,JI(n.pendingWriteTree_,r),o,p);if(!y&&!c&&!i){const M=tZ(h,e);I=I.concat(function MK(n,e,t){const i=e._path,r=HC(n,e),o=aZ(n,t),c=n.listenProvider_.startListening(jC(e),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,k.hu)(!qf(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((y,C,I)=>{if(!an(y)&&C&&qf(C))return[iS(C).query];{let M=[];return C&&(M=M.concat(eZ(C).map(O=>O.query))),qr(I,(O,B)=>{M=M.concat(B)}),M}});for(let y=0;y<p.length;++y){const C=p[y];n.listenProvider_.stopListening(jC(C),HC(n,C))}}return c}(n,e,M))}return I}function oS(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(c,h)=>{const y=$f(h,Qs(c,e));if(y)return y});return V3(r,e,o,t,!0)}function Rv(n,e){return sZ(e,n.syncPointTree_,null,JI(n.pendingWriteTree_,Sn()))}function sZ(n,e,t,i){if(an(n.path))return oZ(n,e,t,i);{const r=e.get(Sn());null==t&&null!=r&&(t=$f(r,Sn()));let o=[];const c=on(n.path),h=n.operationForChild(c),p=e.children.get(c);if(p&&h){const y=t?t.getImmediateChild(c):null,C=H3(i,c);o=o.concat(sZ(h,p,y,C))}return r&&(o=o.concat(bP(r,n,i,t))),o}}function oZ(n,e,t,i){const r=e.get(Sn());null==t&&null!=r&&(t=$f(r,Sn()));let o=[];return e.children.inorderTraversal((c,h)=>{const p=t?t.getImmediateChild(c):null,y=H3(i,c),C=n.operationForChild(c);C&&(o=o.concat(oZ(C,h,p,y)))}),r&&(o=o.concat(bP(r,n,i,t))),o}function aZ(n,e){const t=e.query,i=HC(n,t);return{hashFn:()=>(function lK(n){return n.viewCache_.serverCache.getNode()}(e)||Kt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function EK(n,e,t){const i=TP(n,t);if(i){const r=EP(i),o=r.path,c=r.queryId,h=Qs(o,e);return DP(n,o,new LC(cP(c),h))}return[]}(n,t._path,i):function TK(n,e){return Rv(n,new LC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const o=function C7(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return sS(n,t,null,o)}}}}function HC(n,e){const t=aS(e);return n.queryToTagMap.get(t)}function aS(n){return n._path.toString()+"$"+n._queryIdentifier}function TP(n,e){return n.tagToQueryMap.get(e)}function EP(n){const e=n.indexOf("$");return(0,k.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Pn(n.substr(0,e))}}function DP(n,e,t){const i=n.syncPointTree_.get(e);return(0,k.hu)(i,"Missing sync point for query tag that we're tracking"),bP(i,t,JI(n.pendingWriteTree_,e),null)}function jC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function vK(){return(0,k.hu)(rS,"Reference.ts has not been loaded"),rS}())(n._repo,n._path):n}class IP{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new IP(t)}node(){return this.node_}}class SP{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ei(this.path_,e);return new SP(this.syncTree_,t)}node(){return oS(this.syncTree_,this.path_)}}const lZ=function(n,e,t){return n&&"object"==typeof n?((0,k.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?RK(n[".sv"],e,t):"object"==typeof n[".sv"]?OK(n[".sv"],e):void(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},RK=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,k.hu)(!1,"Unexpected server value: "+n)},OK=function(n,e,t){n.hasOwnProperty("increment")||(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,k.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,k.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},uZ=function(n,e,t,i){return NP(e,new SP(t,n),i)},AP=function(n,e,t){return NP(n,new IP(e),t)};function NP(n,e,t){const i=n.getPriority().val(),r=lZ(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const c=n,h=lZ(c.getValue(),e,t);return h!==c.getValue()||r!==c.getPriority().val()?new Iv(h,Ui(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new Iv(r))),c.forEachChild(ri,(h,p)=>{const y=NP(p,e.getImmediateChild(h),t);y!==p&&(o=o.updateImmediateChild(h,y))}),o}}class MP{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function lS(n,e){let t=e instanceof Pn?e:new Pn(e),i=n,r=on(t);for(;null!==r;){const o=(0,k.DV)(i.node.children,r)||{children:{},childCount:0};i=new MP(r,i,o),t=Jn(t),r=on(t)}return i}function bm(n){return n.node.value}function xP(n,e){n.node.value=e,RP(n)}function cZ(n){return n.node.childCount>0}function uS(n,e){qr(n.node.children,(t,i)=>{e(new MP(t,n,i))})}function dZ(n,e,t,i){t&&!i&&e(n),uS(n,r=>{dZ(r,e,!0,i)}),t&&i&&e(n)}function GC(n){return new Pn(null===n.parent?n.name:GC(n.parent)+"/"+n.name)}function RP(n){null!==n.parent&&function FK(n,e,t){const i=function PK(n){return void 0===bm(n)&&!cZ(n)}(t),r=(0,k.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,RP(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,RP(n))}(n.parent,n.name,n)}const LK=/[\[\].#$\/\u0000-\u001F\u007F]/,UK=/[\[\].#$\u0000-\u001F\u007F]/,OP=10485760,cS=function(n){return"string"==typeof n&&0!==n.length&&!LK.test(n)},hZ=function(n){return"string"==typeof n&&0!==n.length&&!UK.test(n)},$C=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!LI(n)||n&&"object"==typeof n&&(0,k.r3)(n,".sv")},Ic=function(n,e,t,i){i&&void 0===e||qC((0,k.gK)(n,"value"),e,t)},qC=function(n,e,t){const i=t instanceof Pn?new t9(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+gm(i));if("function"==typeof e)throw new Error(n+"contains a function "+gm(i)+" with contents = "+e.toString());if(LI(e))throw new Error(n+"contains "+e.toString()+" "+gm(i));if("string"==typeof e&&e.length>OP/3&&(0,k.ug)(e)>OP)throw new Error(n+"contains a string greater than "+OP+" utf8 bytes "+gm(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(qr(e,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!cS(c)))throw new Error(n+" contains an invalid key ("+c+") "+gm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function n9(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,k.ug)(e),C3(n)})(i,c),qC(n,h,i),function i9(n){const e=n.parts_.pop();n.byteLength_-=(0,k.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+gm(i)+" in addition to actual children.")}},fZ=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,k.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];qr(e,(c,h)=>{const p=new Pn(c);if(qC(r,h,Ei(t,p)),".priority"===KO(p)&&!$C(h))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const o=MC(i);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!cS(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(e9);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&Xa(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},PP=function(n,e,t){if(!t||void 0!==e){if(LI(e))throw new Error((0,k.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!$C(e))throw new Error((0,k.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},WC=function(n,e,t,i){if(!(i&&void 0===t||cS(t)))throw new Error((0,k.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},zC=function(n,e,t,i){if(!(i&&void 0===t||hZ(t)))throw new Error((0,k.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},tl=function(n,e){if(".info"===on(e))throw new Error(n+" failed = Can't modify data under /.info/")},pZ=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!cS(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hZ(n)}(t))throw new Error((0,k.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class HK{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dS(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!YO(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function gZ(n,e,t){dS(n,t),mZ(n,i=>YO(i,e))}function ca(n,e,t){dS(n,t),mZ(n,i=>Xa(i,e)||Xa(e,i))}function mZ(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(jK(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function jK(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();fm&&$r("event: "+t.toString()),Ev(i)}}}const _Z="repo_interrupt";class $K{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new HK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zI(),this.transactionQueueTree_=new MP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yZ(n){const t=n.infoData_.getNode(new Pn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function KC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:yZ(n)})}function vZ(n,e,t,i,r){n.dataUpdateCount++;const o=new Pn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const p=(0,k.UI)(t,y=>Ui(y));c=function DK(n,e,t,i){const r=TP(n,i);if(r){const o=EP(r),c=o.path,h=o.queryId,p=Qs(c,e),y=si.fromObject(t);return DP(n,c,new Mv(cP(h),p,y))}return[]}(n.serverSyncTree_,o,p,r)}else{const p=Ui(t);c=rZ(n.serverSyncTree_,o,p,r)}else if(i){const p=(0,k.UI)(t,y=>Ui(y));c=function CK(n,e,t){const i=si.fromObject(t);return Rv(n,new Mv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,p)}else{const p=Ui(t);c=ZC(n.serverSyncTree_,o,p)}let h=o;c.length>0&&(h=Pv(n,o)),ca(n.eventQueue_,h,c)}function bZ(n,e){kP(n,"connected",e),!1===e&&function YK(n){Ov(n,"onDisconnectEvents");const e=KC(n),t=zI();aP(n.onDisconnect_,Sn(),(r,o)=>{const c=uZ(r,o,n.serverSyncTree_,e);Nv(t,r,c)});let i=[];aP(t,Sn(),(r,o)=>{i=i.concat(ZC(n.serverSyncTree_,r,o));const c=BP(n,r);Pv(n,c)}),n.onDisconnect_=zI(),ca(n.eventQueue_,Sn(),i)}(n)}function kP(n,e,t){const i=new Pn("/.info/"+e),r=Ui(t);n.infoData_.updateSnapshot(i,r);const o=ZC(n.infoSyncTree_,i,r);ca(n.eventQueue_,i,o)}function hS(n){return n.nextWriteId_++}function FP(n,e,t,i,r){Ov(n,"set",{path:e.toString(),value:t,priority:i});const o=KC(n),c=Ui(t,i),h=oS(n.serverSyncTree_,e),p=AP(c,h,o),y=hS(n),C=wP(n.serverSyncTree_,e,p,y,!0);dS(n.eventQueue_,C),n.server_.put(e.toString(),c.val(!0),(M,O)=>{const B="ok"===M;B||Ns("set at "+e+" failed: "+M);const W=Wf(n.serverSyncTree_,y,!B);ca(n.eventQueue_,e,W),zf(0,r,M,O)});const I=BP(n,e);Pv(n,I),ca(n.eventQueue_,I,[])}function QK(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&oP(n.onDisconnect_,e),zf(0,t,i,r)})}function wZ(n,e,t,i){const r=Ui(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(o,c)=>{"ok"===o&&Nv(n.onDisconnect_,e,r),zf(0,i,o,c)})}function LP(n,e,t){let i;i=".info"===on(e._path)?sS(n.infoSyncTree_,e,t):sS(n.serverSyncTree_,e,t),gZ(n.eventQueue_,e._path,i)}function CZ(n){n.persistentConnection_&&n.persistentConnection_.interrupt(_Z)}function Ov(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),$r(t,...e)}function zf(n,e,t,i){e&&Ev(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,e(c)}})}function UP(n,e,t){return oS(n.serverSyncTree_,e,t)||Kt.EMPTY_NODE}function fS(n,e=n.transactionQueueTree_){if(e||pS(n,e),bm(e)){const t=EZ(n,e);(0,k.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function iY(n,e,t){const i=t.map(y=>y.currentWriteId),r=UP(n,e,i);let o=r;const c=r.hash();for(let y=0;y<t.length;y++){const C=t[y];(0,k.hu)(0===C.status,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const I=Qs(e,C.path);o=o.updateChild(I,C.currentOutputSnapshotRaw)}const h=o.val(!0),p=e;n.server_.put(p.toString(),h,y=>{Ov(n,"transaction put response",{path:p.toString(),status:y});let C=[];if("ok"===y){const I=[];for(let M=0;M<t.length;M++)t[M].status=2,C=C.concat(Wf(n.serverSyncTree_,t[M].currentWriteId)),t[M].onComplete&&I.push(()=>t[M].onComplete(null,!0,t[M].currentOutputSnapshotResolved)),t[M].unwatcher();pS(n,lS(n.transactionQueueTree_,e)),fS(n,n.transactionQueueTree_),ca(n.eventQueue_,e,C);for(let M=0;M<I.length;M++)Ev(I[M])}else{if("datastale"===y)for(let I=0;I<t.length;I++)t[I].status=3===t[I].status?4:0;else{Ns("transaction at "+p.toString()+" failed: "+y);for(let I=0;I<t.length;I++)t[I].status=4,t[I].abortReason=y}Pv(n,e)}},c)}(n,GC(e),t)}else cZ(e)&&uS(e,t=>{fS(n,t)})}function Pv(n,e){const t=TZ(n,e),i=GC(t);return function rY(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],y=Qs(t,p.path);let I,C=!1;if((0,k.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)C=!0,I=p.abortReason,r=r.concat(Wf(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)C=!0,I="maxretry",r=r.concat(Wf(n.serverSyncTree_,p.currentWriteId,!0));else{const M=UP(n,p.path,c);p.currentInputSnapshot=M;const O=e[h].update(M.val());if(void 0!==O){qC("transaction failed: Data returned ",O,p.path);let B=Ui(O);"object"==typeof O&&null!=O&&(0,k.r3)(O,".priority")||(B=B.updatePriority(M.getPriority()));const J=p.currentWriteId,Ie=KC(n),Fe=AP(B,M,Ie);p.currentOutputSnapshotRaw=B,p.currentOutputSnapshotResolved=Fe,p.currentWriteId=hS(n),c.splice(c.indexOf(J),1),r=r.concat(wP(n.serverSyncTree_,p.path,Fe,p.currentWriteId,p.applyLocally)),r=r.concat(Wf(n.serverSyncTree_,J,!0))}else C=!0,I="nodata",r=r.concat(Wf(n.serverSyncTree_,p.currentWriteId,!0))}ca(n.eventQueue_,t,r),r=[],C&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===I?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(I),!1,null)))}pS(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)Ev(i[h]);fS(n,n.transactionQueueTree_)}(n,EZ(n,t),i),i}function TZ(n,e){let t,i=n.transactionQueueTree_;for(t=on(e);null!==t&&void 0===bm(i);)i=lS(i,t),t=on(e=Jn(e));return i}function EZ(n,e){const t=[];return DZ(n,e,t),t.sort((i,r)=>i.order-r.order),t}function DZ(n,e,t){const i=bm(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);uS(e,r=>{DZ(n,r,t)})}function pS(n,e){const t=bm(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,xP(e,t.length>0?t:void 0)}uS(e,i=>{pS(n,i)})}function BP(n,e){const t=GC(TZ(n,e)),i=lS(n.transactionQueueTree_,e);return function kK(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{VP(n,r)}),VP(n,i),dZ(i,r=>{VP(n,r)}),t}function VP(n,e){const t=bm(e);if(t){const i=[];let r=[],o=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,k.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,t[c].status=3,t[c].abortReason="set"):((0,k.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(Wf(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?xP(e,void 0):t.length=o+1,ca(n.eventQueue_,GC(e),r);for(let c=0;c<i.length;c++)Ev(i[c])}}const ZP=function(n,e){const t=aY(n),i=t.namespace;return"firebase.com"===t.domain&&Ec(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Ec("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ns("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new jO(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Pn(t.pathString)}},aY=function(n){let e="",t="",i="",r="",o="",c=!0,h="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(h=n.substring(0,y-1),n=n.substring(y+2));let C=n.indexOf("/");-1===C&&(C=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),e=n.substring(0,Math.min(C,I)),C<I&&(r=function sY(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(C,I)));const M=function oY(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ns(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,I)));y=e.indexOf(":"),y>=0?(c="https"===h||"wss"===h,p=parseInt(e.substring(y+1),10)):y=e.length;const O=e.slice(0,y);if("localhost"===O.toLowerCase())t="localhost";else if(O.split(".").length<=2)t=O;else{const B=e.indexOf(".");i=e.substring(0,B).toLowerCase(),t=e.substring(B+1),o=i}"ns"in M&&(o=M.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:h,pathString:r,namespace:o}},IZ="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lY=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const o=new Array(8);for(r=7;r>=0;r--)o[r]=IZ.charAt(t%64),t=Math.floor(t/64);(0,k.hu)(0===t,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=IZ.charAt(e[r]);return(0,k.hu)(20===c.length,"nextPushId: Length should be 20."),c}}();class SZ{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,k.Wl)(this.snapshot.exportVal())}}class AZ{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class HP{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,k.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class NZ{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new k.BH;return QK(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){tl("OnDisconnect.remove",this._path);const e=new k.BH;return wZ(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){tl("OnDisconnect.set",this._path),Ic("OnDisconnect.set",e,this._path,!1);const t=new k.BH;return wZ(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){tl("OnDisconnect.setWithPriority",this._path),Ic("OnDisconnect.setWithPriority",e,this._path,!1),PP("OnDisconnect.setWithPriority",t,!1);const i=new k.BH;return function JK(n,e,t,i,r){const o=Ui(t,i);n.server_.onDisconnectPut(e.toString(),o.val(!0),(c,h)=>{"ok"===c&&Nv(n.onDisconnect_,e,o),zf(0,r,c,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){tl("OnDisconnect.update",this._path),fZ("OnDisconnect.update",e,this._path,!1);const t=new k.BH;return function XK(n,e,t,i){if((0,k.xb)(t))return $r("onDisconnect().update() called with empty data.  Don't do anything."),void zf(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,o)=>{"ok"===r&&qr(t,(c,h)=>{const p=Ui(h);Nv(n.onDisconnect_,Ei(e,c),p)}),zf(0,i,r,o)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Mo{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return an(this._path)?null:KO(this._path)}get ref(){return new nl(this._repo,this._path)}get _queryIdentifier(){const e=O3(this._queryParams),t=ZO(e);return"{}"===t?"default":t}get _queryObject(){return O3(this._queryParams)}isEqual(e){if(!((e=(0,k.m9)(e))instanceof Mo))return!1;const t=this._repo===e._repo,i=YO(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function X7(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function gS(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Kf(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Dc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Vf)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==eh)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===ri){if(null!=e&&!$C(e)||null!=t&&!$C(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,k.hu)(n.getIndex()instanceof tP||n.getIndex()===nP,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function mS(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class nl extends Mo{constructor(e,t){super(e,t,new $I,!1)}get parent(){const e=w3(this._path);return null===e?null:new nl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class wm{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Pn(e),i=Cm(this.ref,e);return new wm(this._node.getChild(t),i,ri)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new wm(r,Cm(this.ref,i),ri)))}hasChild(e){const t=new Pn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function MZ(n,e){return(n=(0,k.m9)(n))._checkNotDeleted("ref"),void 0!==e?Cm(n._root,e):n._root}function xZ(n,e){(n=(0,k.m9)(n))._checkNotDeleted("refFromURL");const t=ZP(e,n._repo.repoInfo_.nodeAdmin);pZ("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Ec("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),MZ(n,t.path.toString())}function Cm(n,e){return null===on((n=(0,k.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),zC("child","path",t,!1)):zC("child","path",e,!1),new nl(n._repo,Ei(n._path,e));var t}function jP(n,e){n=(0,k.m9)(n),tl("set",n._path),Ic("set",e,n._path,!1);const t=new k.BH;return FP(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function fY(n,e){fZ("update",e,n._path,!1);const t=new k.BH;return function KK(n,e,t,i){Ov(n,"update",{path:e.toString(),value:t});let r=!0;const o=KC(n),c={};if(qr(t,(h,p)=>{r=!1,c[h]=uZ(Ei(e,h),Ui(p),n.serverSyncTree_,o)}),r)$r("update() called with empty data.  Don't do anything."),zf(0,i,"ok",void 0);else{const h=hS(n),p=function wK(n,e,t,i){!function U9(n,e,t,i){(0,k.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=hP(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=si.fromObject(t);return Rv(n,new Mv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,h);dS(n.eventQueue_,p),n.server_.merge(e.toString(),t,(y,C)=>{const I="ok"===y;I||Ns("update at "+e+" failed: "+y);const M=Wf(n.serverSyncTree_,h,!I),O=M.length>0?Pv(n,e):e;ca(n.eventQueue_,O,M),zf(0,i,y,C)}),qr(t,y=>{const C=BP(n,Ei(e,y));Pv(n,C)}),ca(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function pY(n){n=(0,k.m9)(n);const e=new HP(()=>{}),t=new YC(e);return function zK(n,e,t){const i=function IK(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(y,C)=>{const I=Qs(y,t);i=i||$f(C,I)});let r=n.syncPointTree_.get(t);r?i=i||$f(r,Sn()):(r=new J3,n.syncPointTree_=n.syncPointTree_.set(t,r));const o=null!=i,c=o?new jf(i,!0,!1):null;return function uK(n){return QI(n.viewCache_)}(X3(r,e,JI(n.pendingWriteTree_,e._path),o?c.getNode():Kt.EMPTY_NODE,o))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const o=Ui(r).withIndex(e._queryParams.getIndex());let c;if(CP(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())c=ZC(n.serverSyncTree_,e._path,o);else{const h=HC(n.serverSyncTree_,e);c=rZ(n.serverSyncTree_,e._path,o,h)}return ca(n.eventQueue_,e._path,c),sS(n.serverSyncTree_,e,t,null,!0),o},r=>(Ov(n,"get for query "+(0,k.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new wm(i,new nl(n._repo,n._path),n._queryParams.getIndex()))}class YC{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new SZ("value",this,new wm(e.snapshotNode,new nl(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new AZ(this,e,t):null}matches(e){return e instanceof YC&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class _S{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new AZ(this,e,t):null}createEvent(e,t){(0,k.hu)(null!=e.childName,"Child events should have a childName.");const i=Cm(new nl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new SZ(e.type,this,new wm(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof _S&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function QC(n,e,t,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const p=t,y=(C,I)=>{LP(n._repo,n,h),p(C,I)};y.userCallback=t.userCallback,y.context=t.context,t=y}const c=new HP(t,o||void 0),h="value"===e?new YC(c):new _S(e,c);return function eY(n,e,t){let i;i=".info"===on(e._path)?CP(n.infoSyncTree_,e,t):CP(n.serverSyncTree_,e,t),gZ(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>LP(n._repo,n,h)}function GP(n,e,t,i){return QC(n,"value",e,t,i)}function RZ(n,e,t,i){return QC(n,"child_added",e,t,i)}function OZ(n,e,t,i){return QC(n,"child_changed",e,t,i)}function PZ(n,e,t,i){return QC(n,"child_moved",e,t,i)}function kZ(n,e,t,i){return QC(n,"child_removed",e,t,i)}function FZ(n,e,t){let i=null;const r=t?new HP(t):null;"value"===e?i=new YC(r):e&&(i=new _S(e,r)),LP(n._repo,n,i)}class tu{}class LZ extends tu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ic("endAt",this._value,e._path,!0);const t=sP(e._queryParams,this._value,this._key);if(mS(t),Kf(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mo(e._repo,e._path,t,e._orderByCalled)}}class mY extends tu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ic("endBefore",this._value,e._path,!1);const t=function D9(n,e,t){let i;return i=sP(n,e,n.index_===Dc||t?t:Vf),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(mS(t),Kf(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mo(e._repo,e._path,t,e._orderByCalled)}}class UZ extends tu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ic("startAt",this._value,e._path,!0);const t=rP(e._queryParams,this._value,this._key);if(mS(t),Kf(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Mo(e._repo,e._path,t,e._orderByCalled)}}class vY extends tu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ic("startAfter",this._value,e._path,!1);const t=function E9(n,e,t){let i;return i=rP(n,e,n.index_===Dc||t?t:eh),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(mS(t),Kf(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Mo(e._repo,e._path,t,e._orderByCalled)}}class wY extends tu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mo(e._repo,e._path,function C9(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class TY extends tu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mo(e._repo,e._path,function T9(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class DY extends tu{constructor(e){super(),this._path=e}_apply(e){gS(e,"orderByChild");const t=new Pn(this._path);if(an(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new tP(t),r=qI(e._queryParams,i);return Kf(r),new Mo(e._repo,e._path,r,!0)}}class SY extends tu{_apply(e){gS(e,"orderByKey");const t=qI(e._queryParams,Dc);return Kf(t),new Mo(e._repo,e._path,t,!0)}}class NY extends tu{_apply(e){gS(e,"orderByPriority");const t=qI(e._queryParams,ri);return Kf(t),new Mo(e._repo,e._path,t,!0)}}class xY extends tu{_apply(e){gS(e,"orderByValue");const t=qI(e._queryParams,nP);return Kf(t),new Mo(e._repo,e._path,t,!0)}}class OY extends tu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Ic("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new LZ(this._value,this._key)._apply(new UZ(this._value,this._key)._apply(e))}}function nu(n,...e){let t=(0,k.m9)(n);for(const i of e)t=i._apply(t);return t}(function fK(n){(0,k.hu)(!nS,"__referenceConstructor has already been defined"),nS=n})(nl),function yK(n){(0,k.hu)(!rS,"__referenceConstructor has already been defined"),rS=n}(nl);const $P={};function VZ(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Ec("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$r("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,c=ZP(o,r),h=c.repoInfo;typeof process<"u"&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(p=!0,o=`http://${y}?ns=${h.namespace}`,c=ZP(o,r),h=c.repoInfo):p=!c.repoInfo.secure;const C=r&&p?new NC(NC.OWNER):new A7(n.name,n.options,e);pZ("Invalid Firebase Database URL",c),an(c.path)||Ec("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function UY(n,e,t,i){let r=$P[e.name];r||(r={},$P[e.name]=r);let o=r[n.toURLString()];return o&&Ec("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new $K(n,false,t,i),r[n.toURLString()]=o,o}(h,n,C,new S7(n.name,t));return new VY(I,n)}class VY{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function qK(n,e,t){if(n.stats_=qO(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new WI(n.repoInfo_,(i,r,o,c)=>{vZ(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>bZ(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,k.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new mm(n.repoInfo_,e,(i,r,o,c)=>{vZ(n,i,r,o,c)},i=>{bZ(n,i)},i=>{!function WK(n,e){qr(e,(t,i)=>{kP(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function x7(n,e){const t=n.toString();return $O[t]||($O[t]=e()),$O[t]}(n.repoInfo_,()=>new x9(n.stats_,n.server_)),n.infoData_=new I9,n.infoSyncTree_=new iZ({startListening:(i,r,o,c)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=ZC(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),kP(n,"connected",!1),n.serverSyncTree_=new iZ({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(h,p)=>{const y=c(h,p);ca(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nl(this._repo,Sn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function LY(n,e){const t=$P[e];(!t||t[n.key]!==n)&&Ec(`Database ${e}(${n.repoInfo_}) has already been deleted.`),CZ(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ec("Cannot call "+e+" on a deleted database.")}}function ZZ(){u3.IS_TRANSPORT_INITIALIZED&&Ns("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ZY(){ZZ(),Zf.forceDisallow()}function HY(){ZZ(),Dv.forceDisallow(),Zf.forceAllow()}function $Y(n,e){jV(n,e)}const WY={".sv":"timestamp"};class YY{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}mm.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},mm.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function qY(n){UV(Cr.SDK_VERSION),(0,Cr._registerComponent)(new na.wA("database",(e,{instanceIdentifier:t})=>VZ(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Cr.registerVersion)(FV,"0.14.4",n),(0,Cr.registerVersion)(FV,"0.14.4","esm2017")}();const eQ=new bo.Yd("@firebase/database-compat"),jZ=function(n){eQ.warn("FIREBASE WARNING: "+n)};class iQ{constructor(e){this._delegate=e}cancel(e){(0,k.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,k.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,k.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,k.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,k.Dv)("OnDisconnect.set",1,2,arguments.length),(0,k.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,k.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,k.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),o=>i(o)),r}update(e,t){if((0,k.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,jZ("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,k.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class rQ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,k.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Yf{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,k.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,k.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,k.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,k.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,k.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),zC("DataSnapshot.child","path",e,!1),new Yf(this._database,this._delegate.child(e))}hasChild(e){return(0,k.Dv)("DataSnapshot.hasChild",1,1,arguments.length),zC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,k.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,k.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,k.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Yf(this._database,t)))}hasChildren(){return(0,k.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,k.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,k.Dv)("DataSnapshot.ref",0,0,arguments.length),new da(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class us{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var o;(0,k.Dv)("Query.on",2,4,arguments.length),(0,k.Wj)("Query.on","callback",t,!1);const c=us.getCancelAndContextArgs_("Query.on",i,r),h=(y,C)=>{t.call(c.context,new Yf(this.database,y),C)};h.userCallback=t,h.context=c.context;const p=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(e){case"value":return GP(this._delegate,h,p),t;case"child_added":return RZ(this._delegate,h,p),t;case"child_removed":return kZ(this._delegate,h,p),t;case"child_changed":return OZ(this._delegate,h,p),t;case"child_moved":return PZ(this._delegate,h,p),t;default:throw new Error((0,k.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,k.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,k.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,k.Wj)("Query.off","callback",t,!0),(0,k.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,FZ(this._delegate,e,r)}else FZ(this._delegate,e)}get(){return pY(this._delegate).then(e=>new Yf(this.database,e))}once(e,t,i,r){(0,k.Dv)("Query.once",1,4,arguments.length),(0,k.Wj)("Query.once","callback",t,!0);const o=us.getCancelAndContextArgs_("Query.once",i,r),c=new k.BH,h=(y,C)=>{const I=new Yf(this.database,y);t&&t.call(o.context,I,C),c.resolve(I)};h.userCallback=t,h.context=o.context;const p=y=>{o.cancel&&o.cancel.call(o.context,y),c.reject(y)};switch(e){case"value":GP(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":RZ(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":kZ(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":OZ(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":PZ(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,k.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,k.Dv)("Query.limitToFirst",1,1,arguments.length),new us(this.database,nu(this._delegate,function CY(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new wY(n)}(e)))}limitToLast(e){return(0,k.Dv)("Query.limitToLast",1,1,arguments.length),new us(this.database,nu(this._delegate,function EY(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new TY(n)}(e)))}orderByChild(e){return(0,k.Dv)("Query.orderByChild",1,1,arguments.length),new us(this.database,nu(this._delegate,function IY(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return zC("orderByChild","path",n,!1),new DY(n)}(e)))}orderByKey(){return(0,k.Dv)("Query.orderByKey",0,0,arguments.length),new us(this.database,nu(this._delegate,function AY(){return new SY}()))}orderByPriority(){return(0,k.Dv)("Query.orderByPriority",0,0,arguments.length),new us(this.database,nu(this._delegate,function MY(){return new NY}()))}orderByValue(){return(0,k.Dv)("Query.orderByValue",0,0,arguments.length),new us(this.database,nu(this._delegate,function RY(){return new xY}()))}startAt(e=null,t){return(0,k.Dv)("Query.startAt",0,2,arguments.length),new us(this.database,nu(this._delegate,function yY(n=null,e){return WC("startAt","key",e,!0),new UZ(n,e)}(e,t)))}startAfter(e=null,t){return(0,k.Dv)("Query.startAfter",0,2,arguments.length),new us(this.database,nu(this._delegate,function bY(n,e){return WC("startAfter","key",e,!0),new vY(n,e)}(e,t)))}endAt(e=null,t){return(0,k.Dv)("Query.endAt",0,2,arguments.length),new us(this.database,nu(this._delegate,function gY(n,e){return WC("endAt","key",e,!0),new LZ(n,e)}(e,t)))}endBefore(e=null,t){return(0,k.Dv)("Query.endBefore",0,2,arguments.length),new us(this.database,nu(this._delegate,function _Y(n,e){return WC("endBefore","key",e,!0),new mY(n,e)}(e,t)))}equalTo(e,t){return(0,k.Dv)("Query.equalTo",1,2,arguments.length),new us(this.database,nu(this._delegate,function PY(n,e){return WC("equalTo","key",e,!0),new OY(n,e)}(e,t)))}toString(){return(0,k.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,k.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,k.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof us))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,k.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,k.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,k.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new da(this.database,new nl(this._delegate._repo,this._delegate._path))}}class da extends us{constructor(e,t){super(e,new Mo(t._repo,t._path,new $I,!1)),this.database=e,this._delegate=t}getKey(){return(0,k.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,k.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new da(this.database,Cm(this._delegate,e))}getParent(){(0,k.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new da(this.database,e):null}getRoot(){return(0,k.Dv)("Reference.root",0,0,arguments.length),new da(this.database,this._delegate.root)}set(e,t){(0,k.Dv)("Reference.set",1,2,arguments.length),(0,k.Wj)("Reference.set","onComplete",t,!0);const i=jP(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,k.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,jZ("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}tl("Reference.update",this._delegate._path),(0,k.Wj)("Reference.update","onComplete",t,!0);const i=fY(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,k.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,k.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function hY(n,e,t){if(tl("setWithPriority",n._path),Ic("setWithPriority",e,n._path,!1),PP("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new k.BH;return FP(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),o=>i(o)),r}remove(e){(0,k.Dv)("Reference.remove",0,1,arguments.length),(0,k.Wj)("Reference.remove","onComplete",e,!0);const t=function cY(n){return tl("remove",n._path),jP(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,k.Dv)("Reference.transaction",1,3,arguments.length),(0,k.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,k.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,k.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function QY(n,e,t){var i;if(n=(0,k.m9)(n),tl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,o=new k.BH,h=GP(n,()=>{});return function nY(n,e,t,i,r,o){Ov(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:VV(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=UP(n,e,void 0);c.currentInputSnapshot=h;const p=c.update(h.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{qC("transaction failed: Data returned ",p,c.path),c.status=0;const y=lS(n.transactionQueueTree_,e),C=bm(y)||[];let I;C.push(c),xP(y,C),"object"==typeof p&&null!==p&&(0,k.r3)(p,".priority")?(I=(0,k.DV)(p,".priority"),(0,k.hu)($C(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=(oS(n.serverSyncTree_,e)||Kt.EMPTY_NODE).getPriority().val();const M=KC(n),O=Ui(p,I),B=AP(O,h,M);c.currentOutputSnapshotRaw=O,c.currentOutputSnapshotResolved=B,c.currentWriteId=hS(n);const W=wP(n.serverSyncTree_,e,B,c.currentWriteId,c.applyLocally);ca(n.eventQueue_,e,W),fS(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,y,C)=>{let I=null;p?o.reject(p):(I=new wm(C,new nl(n._repo,n._path),ri),o.resolve(new YY(y,I)))},h,r),o.promise}(this._delegate,e,{applyLocally:i}).then(o=>new rQ(o.committed,new Yf(this.database,o.snapshot)));return t&&r.then(o=>t(null,o.committed,o.snapshot),o=>t(o,!1,null)),r}setPriority(e,t){(0,k.Dv)("Reference.setPriority",1,2,arguments.length),(0,k.Wj)("Reference.setPriority","onComplete",t,!0);const i=function dY(n,e){n=(0,k.m9)(n),tl("setPriority",n._path),PP("setPriority",e,!1);const t=new k.BH;return FP(n._repo,Ei(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,k.Dv)("Reference.push",0,2,arguments.length),(0,k.Wj)("Reference.push","onComplete",t,!0);const i=function uY(n,e){n=(0,k.m9)(n),tl("push",n._path),Ic("push",e,n._path,!0);const t=yZ(n._repo),i=lY(t),r=Cm(n,i),o=Cm(n,i);let c;return c=null!=e?jP(o,e).then(()=>o):Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new da(this.database,c));t&&r.then(()=>t(null),c=>t(c));const o=new da(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return tl("Reference.onDisconnect",this._delegate._path),new iQ(new NZ(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class JC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ZY,forceLongPolling:HY}}useEmulator(e,t,i={}){!function HZ(n,e,t,i={}){(n=(0,k.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ec("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Ec('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new NC(NC.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,k.Sg)(i.mockUserToken,n.app.options.projectId);o=new NC(c)}!function FY(n,e,t,i){n.repoInfo_=new jO(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(this._delegate,e,t,i)}ref(e){if((0,k.Dv)("database.ref",0,1,arguments.length),e instanceof da){const t=xZ(this._delegate,e.toString());return new da(this,t)}{const t=MZ(this._delegate,e);return new da(this,t)}}refFromURL(e){(0,k.Dv)("database.refFromURL",1,1,arguments.length);const i=xZ(this._delegate,e);return new da(this,i)}goOffline(){return(0,k.Dv)("database.goOffline",0,0,arguments.length),function jY(n){(n=(0,k.m9)(n))._checkNotDeleted("goOffline"),CZ(n._repo)}(this._delegate)}goOnline(){return(0,k.Dv)("database.goOnline",0,0,arguments.length),function GY(n){(n=(0,k.m9)(n))._checkNotDeleted("goOnline"),function tY(n){n.persistentConnection_&&n.persistentConnection_.resume(_Z)}(n._repo)}(this._delegate)}}JC.ServerValue={TIMESTAMP:function zY(){return WY}(),increment:n=>function KY(n){return{".sv":{increment:n}}}(n)};var oQ=Object.freeze({__proto__:null,initStandalone:function sQ({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){UV(t);const c=new na.zt("auth-internal",new na.H0("database-standalone"));return c.setComponent(new na.wA("auth-internal",()=>i,"PRIVATE")),{instance:new JC(VZ(n,c,void 0,e,o),n),namespace:r}}});const aQ=JC.ServerValue;function GZ(n){return null==n}function $Z(n){return"function"==typeof n.set}function qZ(n,e){return $Z(e)?e:n.ref(e)}function WZ(n,e){if(function uQ(n){return"string"==typeof n}(n))return e.stringCase();if($Z(n))return e.firebaseCase();if(function cQ(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function XC(n,e,t="on",i=Gh.z){return new Un.y(r=>{let o=null;return o=n[t](e,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=o&&n.off(e,o)}}:{unsubscribe(){}}}).pipe((0,Ke.U)(r=>{const{snapshot:o,prevKey:c}=r;let h=null;return o.exists()&&(h=o.key),{type:e,payload:o,prevKey:c,key:h}}),(0,L2.B)())}function zZ(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function fQ(n,e){const{payload:t,prevKey:i,key:r}=e,o=zZ(n,r),c=function hQ(n,e){if(GZ(e))return 0;{const t=zZ(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(p=>{const y={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,y],!1})}return n;case"child_added":if(o>-1){const h=n[o-1];(h&&h.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(o>-1){const h=n.splice(o,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function KZ(n){return(GZ(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function YZ(n,e,t){return function dQ(n,e,t){return XC(n,"value","once",t).pipe(On(i=>{const r=[dt(i)];return e.forEach(o=>r.push(XC(n,o,"on",t))),(0,tI.T)(...r).pipe(Bt(fQ,[]))}),rc())}(n,e=KZ(e),t)}function QZ(n,e,t){const i=(e=KZ(e)).map(r=>XC(n,r,"on",t));return(0,tI.T)(...i)}function JZ(n,e){return function(i,r){return WZ(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function _Q(n){return function(t){return t?WZ(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function XZ(n,e){return function(){return XC(n,"value","on",e)}}!function lQ(n){n.INTERNAL.registerComponent(new na.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new JC(r,i)},"PUBLIC").setServiceProps({Reference:da,Query:us,Database:JC,DataSnapshot:Yf,enableLogging:$Y,INTERNAL:oQ,ServerValue:aQ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(Fp.Z);const bQ=new s.OlP("angularfire2.realtimeDatabaseURL"),wQ=new s.OlP("angularfire2.database.use-emulator");let CQ=(()=>{class n{constructor(t,i,r,o,c,h,p,y,C,I,M,O,B,W,J){this.schedulers=h;const Ie=p,Fe=(0,bi.on)(t,c,i);y&&kR(Fe,c,C,M,O,B,I,W),this.database=(0,bi.cc)(`${Fe.name}.database.${r}`,"AngularFireDatabase",Fe.name,()=>{const Le=c.runOutsideAngular(()=>Fe.database(r||void 0));return Ie&&Le.useEmulator(...Ie),Le},[Ie])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>qZ(this.database,t));let o=r;return i&&(o=i(r)),function yQ(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:JZ(i,"update"),set:JZ(i,"set"),push:r=>i.push(r),remove:_Q(i),snapshotChanges:r=>YZ(n,r,t).pipe(mn.iC),stateChanges:r=>QZ(n,r,t).pipe(mn.iC),auditTrail:r=>function pQ(n,e,t){return function mQ(n,e,t){return function gQ(n,e){return XC(n,"value","on",e).pipe((0,Ke.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(vI(e),(0,Ke.U)(([r,o])=>{const c=r.lastKeyToLoad,h=o.map(p=>p.key);return{actions:o,lastKeyToLoad:c,loadedKeys:h}}),function p7(n){return(0,Yn.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,In.x)(t,o=>(i||(i=!n(o,r++)))&&t.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Ke.U)(r=>r.actions))}(n,QZ(n,e).pipe(Bt((r,o)=>[...r,o],[])),t)}(n,r,t).pipe(mn.iC),valueChanges:(r,o)=>YZ(n,r,t).pipe((0,Ke.U)(h=>h.map(p=>o&&o.idField?Object.assign(Object.assign({},p.payload.val()),{[o.idField]:p.key}):p.payload.val())),mn.iC)}}(o,this)}object(t){return function vQ(n,e){return{query:n,snapshotChanges:()=>XZ(n,e.schedulers.outsideAngular)().pipe(mn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>XZ(n,e.schedulers.outsideAngular)().pipe(mn.iC,(0,Ke.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>qZ(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(bi.Dh),s.LFG(bi.xv,8),s.LFG(bQ,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(mn.HU),s.LFG(wQ,8),s.LFG(iI,8),s.LFG(NR,8),s.LFG(MR,8),s.LFG(xR,8),s.LFG(RR,8),s.LFG(OR,8),s.LFG(PR,8),s.LFG(Od,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),TQ=(()=>{class n{constructor(){W_.Z.registerVersion("angularfire",mn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[CQ]}),n})();(0,Wp.ZF)(M0_firebase);let EQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[f7]}),n.\u0275inj=s.cJS({imports:[Kc,c7,n7,_q,bi.hO.initializeApp(M0_firebase),ZN,TQ,zG,N0,v$]}),n})();(0,s.G48)(),Ru().bootstrapModule(EQ).catch(n=>console.error(n))},9751:(_t,Ae,U)=>{U.d(Ae,{y:()=>fe});var s=U(930),X=U(727),F=U(8822),re=U(9635),ie=U(2416),ce=U(576),ae=U(2806);let fe=(()=>{class Y{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Ce=new Y;return Ce.source=this,Ce.operator=Re,Ce}subscribe(Re,Ce,ut){const ve=function $(Y){return Y&&Y instanceof s.Lv||function G(Y){return Y&&(0,ce.m)(Y.next)&&(0,ce.m)(Y.error)&&(0,ce.m)(Y.complete)}(Y)&&(0,X.Nn)(Y)}(Re)?Re:new s.Hp(Re,Ce,ut);return(0,ae.x)(()=>{const{operator:de,source:at}=this;ve.add(de?de.call(ve,at):at?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Ce){Re.error(Ce)}}forEach(Re,Ce){return new(Ce=pe(Ce))((ut,ve)=>{const de=new s.Hp({next:at=>{try{Re(at)}catch(bt){ve(bt),de.unsubscribe()}},error:ve,complete:ut});this.subscribe(de)})}_subscribe(Re){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Re)}[F.L](){return this}pipe(...Re){return(0,re.U)(Re)(this)}toPromise(Re){return new(Re=pe(Re))((Ce,ut)=>{let ve;this.subscribe(de=>ve=de,de=>ut(de),()=>Ce(ve))})}}return Y.create=ze=>new Y(ze),Y})();function pe(Y){var ze;return null!==(ze=Y??ie.v.Promise)&&void 0!==ze?ze:Promise}},7579:(_t,Ae,U)=>{U.d(Ae,{x:()=>ae});var s=U(9751),X=U(727);const re=(0,U(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=U(8737),ce=U(2806);let ae=(()=>{class pe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Y=new fe(this,this);return Y.operator=$,Y}_throwIfClosed(){if(this.closed)throw new re}next($){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next($)}})}error($){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Y}=this;for(;Y.length;)Y.shift().error($)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Y,isStopped:ze,observers:Re}=this;return Y||ze?X.Lc:(this.currentObservers=null,Re.push($),new X.w0(()=>{this.currentObservers=null,(0,ie.P)(Re,$)}))}_checkFinalizedStatuses($){const{hasError:Y,thrownError:ze,isStopped:Re}=this;Y?$.error(ze):Re&&$.complete()}asObservable(){const $=new s.y;return $.source=this,$}}return pe.create=(G,$)=>new fe(G,$),pe})();class fe extends ae{constructor(G,$){super(),this.destination=G,this.source=$}next(G){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Y||Y.call($,G)}error(G){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Y||Y.call($,G)}complete(){var G,$;null===($=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===$||$.call(G)}_subscribe(G){var $,Y;return null!==(Y=null===($=this.source)||void 0===$?void 0:$.subscribe(G))&&void 0!==Y?Y:X.Lc}}},930:(_t,Ae,U)=>{U.d(Ae,{Hp:()=>ut,Lv:()=>Y});var s=U(576),X=U(727),F=U(2416),re=U(7849),ie=U(5032);const ce=pe("C",void 0,void 0);function pe(Ne,we,Te){return{kind:Ne,value:we,error:Te}}var G=U(3410),$=U(2806);class Y extends X.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,X.Nn)(we)&&we.add(this)):this.destination=bt}static create(we,Te,Ge){return new ut(we,Te,Ge)}next(we){this.isStopped?at(function fe(Ne){return pe("N",Ne,void 0)}(we),this):this._next(we)}error(we){this.isStopped?at(function ae(Ne){return pe("E",void 0,Ne)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?at(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Re(Ne,we){return ze.call(Ne,we)}class Ce{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Te}=this;if(Te.next)try{Te.next(we)}catch(Ge){ve(Ge)}}error(we){const{partialObserver:Te}=this;if(Te.error)try{Te.error(we)}catch(Ge){ve(Ge)}else ve(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Te){ve(Te)}}}class ut extends Y{constructor(we,Te,Ge){let $e;if(super(),(0,s.m)(we)||!we)$e={next:we??void 0,error:Te??void 0,complete:Ge??void 0};else{let j;this&&F.v.useDeprecatedNextContext?(j=Object.create(we),j.unsubscribe=()=>this.unsubscribe(),$e={next:we.next&&Re(we.next,j),error:we.error&&Re(we.error,j),complete:we.complete&&Re(we.complete,j)}):$e=we}this.destination=new Ce($e)}}function ve(Ne){F.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ne):(0,re.h)(Ne)}function at(Ne,we){const{onStoppedNotification:Te}=F.v;Te&&G.z.setTimeout(()=>Te(Ne,we))}const bt={closed:!0,next:ie.Z,error:function de(Ne){throw Ne},complete:ie.Z}},727:(_t,Ae,U)=>{U.d(Ae,{Lc:()=>ce,w0:()=>ie,Nn:()=>ae});var s=U(576);const F=(0,U(3888).d)(pe=>function($){pe(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Y,ze)=>`${ze+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var re=U(8737);class ie{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Re of $)Re.remove(this);else $.remove(this);const{initialTeardown:Y}=this;if((0,s.m)(Y))try{Y()}catch(Re){G=Re instanceof F?Re.errors:[Re]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Re of ze)try{fe(Re)}catch(Ce){G=G??[],Ce instanceof F?G=[...G,...Ce.errors]:G.push(Ce)}}if(G)throw new F(G)}}add(G){var $;if(G&&G!==this)if(this.closed)fe(G);else{if(G instanceof ie){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(G)}}_hasParent(G){const{_parentage:$}=this;return $===G||Array.isArray($)&&$.includes(G)}_addParent(G){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(G),$):$?[$,G]:G}_removeParent(G){const{_parentage:$}=this;$===G?this._parentage=null:Array.isArray($)&&(0,re.P)($,G)}remove(G){const{_finalizers:$}=this;$&&(0,re.P)($,G),G instanceof ie&&G._removeParent(this)}}ie.EMPTY=(()=>{const pe=new ie;return pe.closed=!0,pe})();const ce=ie.EMPTY;function ae(pe){return pe instanceof ie||pe&&"closed"in pe&&(0,s.m)(pe.remove)&&(0,s.m)(pe.add)&&(0,s.m)(pe.unsubscribe)}function fe(pe){(0,s.m)(pe)?pe():pe.unsubscribe()}},2416:(_t,Ae,U)=>{U.d(Ae,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(_t,Ae,U)=>{U.d(Ae,{E:()=>X});const X=new(U(9751).y)(ie=>ie.complete())},8996:(_t,Ae,U)=>{U.d(Ae,{D:()=>we});var s=U(8421),X=U(5363),F=U(9468),ce=U(9751),fe=U(2202),pe=U(576),G=U(9672);function Y(Te,Ge){if(!Te)throw new Error("Iterable cannot be null");return new ce.y($e=>{(0,G.f)($e,Ge,()=>{const j=Te[Symbol.asyncIterator]();(0,G.f)($e,Ge,()=>{j.next().then(me=>{me.done?$e.complete():$e.next(me.value)})},0,!0)})})}var ze=U(3670),Re=U(8239),Ce=U(1144),ut=U(6495),ve=U(2206),de=U(4532),at=U(3260);function we(Te,Ge){return Ge?function Ne(Te,Ge){if(null!=Te){if((0,ze.c)(Te))return function re(Te,Ge){return(0,s.Xf)(Te).pipe((0,F.R)(Ge),(0,X.Q)(Ge))}(Te,Ge);if((0,Ce.z)(Te))return function ae(Te,Ge){return new ce.y($e=>{let j=0;return Ge.schedule(function(){j===Te.length?$e.complete():($e.next(Te[j++]),$e.closed||this.schedule())})})}(Te,Ge);if((0,Re.t)(Te))return function ie(Te,Ge){return(0,s.Xf)(Te).pipe((0,F.R)(Ge),(0,X.Q)(Ge))}(Te,Ge);if((0,ve.D)(Te))return Y(Te,Ge);if((0,ut.T)(Te))return function $(Te,Ge){return new ce.y($e=>{let j;return(0,G.f)($e,Ge,()=>{j=Te[fe.h](),(0,G.f)($e,Ge,()=>{let me,Ze;try{({value:me,done:Ze}=j.next())}catch(tt){return void $e.error(tt)}Ze?$e.complete():$e.next(me)},0,!0)}),()=>(0,pe.m)(j?.return)&&j.return()})}(Te,Ge);if((0,at.L)(Te))return function bt(Te,Ge){return Y((0,at.Q)(Te),Ge)}(Te,Ge)}throw(0,de.z)(Te)}(Te,Ge):(0,s.Xf)(Te)}},8421:(_t,Ae,U)=>{U.d(Ae,{Xf:()=>ze});var s=U(655),X=U(1144),F=U(8239),re=U(9751),ie=U(3670),ce=U(2206),ae=U(4532),fe=U(6495),pe=U(3260),G=U(576),$=U(7849),Y=U(8822);function ze(Ne){if(Ne instanceof re.y)return Ne;if(null!=Ne){if((0,ie.c)(Ne))return function Re(Ne){return new re.y(we=>{const Te=Ne[Y.L]();if((0,G.m)(Te.subscribe))return Te.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,X.z)(Ne))return function Ce(Ne){return new re.y(we=>{for(let Te=0;Te<Ne.length&&!we.closed;Te++)we.next(Ne[Te]);we.complete()})}(Ne);if((0,F.t)(Ne))return function ut(Ne){return new re.y(we=>{Ne.then(Te=>{we.closed||(we.next(Te),we.complete())},Te=>we.error(Te)).then(null,$.h)})}(Ne);if((0,ce.D)(Ne))return de(Ne);if((0,fe.T)(Ne))return function ve(Ne){return new re.y(we=>{for(const Te of Ne)if(we.next(Te),we.closed)return;we.complete()})}(Ne);if((0,pe.L)(Ne))return function at(Ne){return de((0,pe.Q)(Ne))}(Ne)}throw(0,ae.z)(Ne)}function de(Ne){return new re.y(we=>{(function bt(Ne,we){var Te,Ge,$e,j;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Te=(0,s.KL)(Ne);!(Ge=yield Te.next()).done;)if(we.next(Ge.value),we.closed)return}catch(me){$e={error:me}}finally{try{Ge&&!Ge.done&&(j=Te.return)&&(yield j.call(Te))}finally{if($e)throw $e.error}}we.complete()})})(Ne,we).catch(Te=>we.error(Te))})}},6451:(_t,Ae,U)=>{U.d(Ae,{T:()=>ce});var s=U(8189),X=U(8421),F=U(515),re=U(3269),ie=U(8996);function ce(...ae){const fe=(0,re.yG)(ae),pe=(0,re._6)(ae,1/0),G=ae;return G.length?1===G.length?(0,X.Xf)(G[0]):(0,s.J)(pe)((0,ie.D)(G,fe)):F.E}},5403:(_t,Ae,U)=>{U.d(Ae,{x:()=>X});var s=U(930);function X(re,ie,ce,ae,fe){return new F(re,ie,ce,ae,fe)}class F extends s.Lv{constructor(ie,ce,ae,fe,pe,G){super(ie),this.onFinalize=pe,this.shouldUnsubscribe=G,this._next=ce?function($){try{ce($)}catch(Y){ie.error(Y)}}:super._next,this._error=fe?function($){try{fe($)}catch(Y){ie.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch($){ie.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(_t,Ae,U)=>{U.d(Ae,{U:()=>F});var s=U(4482),X=U(5403);function F(re,ie){return(0,s.e)((ce,ae)=>{let fe=0;ce.subscribe((0,X.x)(ae,pe=>{ae.next(re.call(ie,pe,fe++))}))})}},8189:(_t,Ae,U)=>{U.d(Ae,{J:()=>F});var s=U(5577),X=U(4671);function F(re=1/0){return(0,s.z)(X.y,re)}},5577:(_t,Ae,U)=>{U.d(Ae,{z:()=>fe});var s=U(4004),X=U(8421),F=U(4482),re=U(9672),ie=U(5403),ae=U(576);function fe(pe,G,$=1/0){return(0,ae.m)(G)?fe((Y,ze)=>(0,s.U)((Re,Ce)=>G(Y,Re,ze,Ce))((0,X.Xf)(pe(Y,ze))),$):("number"==typeof G&&($=G),(0,F.e)((Y,ze)=>function ce(pe,G,$,Y,ze,Re,Ce,ut){const ve=[];let de=0,at=0,bt=!1;const Ne=()=>{bt&&!ve.length&&!de&&G.complete()},we=Ge=>de<Y?Te(Ge):ve.push(Ge),Te=Ge=>{Re&&G.next(Ge),de++;let $e=!1;(0,X.Xf)($(Ge,at++)).subscribe((0,ie.x)(G,j=>{ze?.(j),Re?we(j):G.next(j)},()=>{$e=!0},void 0,()=>{if($e)try{for(de--;ve.length&&de<Y;){const j=ve.shift();Ce?(0,re.f)(G,Ce,()=>Te(j)):Te(j)}Ne()}catch(j){G.error(j)}}))};return pe.subscribe((0,ie.x)(G,we,()=>{bt=!0,Ne()})),()=>{ut?.()}}(Y,ze,pe,$)))}},5363:(_t,Ae,U)=>{U.d(Ae,{Q:()=>re});var s=U(9672),X=U(4482),F=U(5403);function re(ie,ce=0){return(0,X.e)((ae,fe)=>{ae.subscribe((0,F.x)(fe,pe=>(0,s.f)(fe,ie,()=>fe.next(pe),ce),()=>(0,s.f)(fe,ie,()=>fe.complete(),ce),pe=>(0,s.f)(fe,ie,()=>fe.error(pe),ce)))})}},3099:(_t,Ae,U)=>{U.d(Ae,{B:()=>ie});var s=U(8421),X=U(7579),F=U(930),re=U(4482);function ie(ae={}){const{connector:fe=(()=>new X.x),resetOnError:pe=!0,resetOnComplete:G=!0,resetOnRefCountZero:$=!0}=ae;return Y=>{let ze,Re,Ce,ut=0,ve=!1,de=!1;const at=()=>{Re?.unsubscribe(),Re=void 0},bt=()=>{at(),ze=Ce=void 0,ve=de=!1},Ne=()=>{const we=ze;bt(),we?.unsubscribe()};return(0,re.e)((we,Te)=>{ut++,!de&&!ve&&at();const Ge=Ce=Ce??fe();Te.add(()=>{ut--,0===ut&&!de&&!ve&&(Re=ce(Ne,$))}),Ge.subscribe(Te),!ze&&ut>0&&(ze=new F.Hp({next:$e=>Ge.next($e),error:$e=>{de=!0,at(),Re=ce(bt,pe,$e),Ge.error($e)},complete:()=>{ve=!0,at(),Re=ce(bt,G),Ge.complete()}}),(0,s.Xf)(we).subscribe(ze))})(Y)}}function ce(ae,fe,...pe){if(!0===fe)return void ae();if(!1===fe)return;const G=new F.Hp({next:()=>{G.unsubscribe(),ae()}});return fe(...pe).subscribe(G)}},9468:(_t,Ae,U)=>{U.d(Ae,{R:()=>X});var s=U(4482);function X(F,re=0){return(0,s.e)((ie,ce)=>{ce.add(F.schedule(()=>ie.subscribe(ce),re))})}},8505:(_t,Ae,U)=>{U.d(Ae,{b:()=>ie});var s=U(576),X=U(4482),F=U(5403),re=U(4671);function ie(ce,ae,fe){const pe=(0,s.m)(ce)||ae||fe?{next:ce,error:ae,complete:fe}:ce;return pe?(0,X.e)((G,$)=>{var Y;null===(Y=pe.subscribe)||void 0===Y||Y.call(pe);let ze=!0;G.subscribe((0,F.x)($,Re=>{var Ce;null===(Ce=pe.next)||void 0===Ce||Ce.call(pe,Re),$.next(Re)},()=>{var Re;ze=!1,null===(Re=pe.complete)||void 0===Re||Re.call(pe),$.complete()},Re=>{var Ce;ze=!1,null===(Ce=pe.error)||void 0===Ce||Ce.call(pe,Re),$.error(Re)},()=>{var Re,Ce;ze&&(null===(Re=pe.unsubscribe)||void 0===Re||Re.call(pe)),null===(Ce=pe.finalize)||void 0===Ce||Ce.call(pe)}))}):re.y}},4408:(_t,Ae,U)=>{U.d(Ae,{o:()=>ie});var s=U(727);class X extends s.w0{constructor(ae,fe){super()}schedule(ae,fe=0){return this}}const F={setInterval(ce,ae,...fe){const{delegate:pe}=F;return pe?.setInterval?pe.setInterval(ce,ae,...fe):setInterval(ce,ae,...fe)},clearInterval(ce){const{delegate:ae}=F;return(ae?.clearInterval||clearInterval)(ce)},delegate:void 0};var re=U(8737);class ie extends X{constructor(ae,fe){super(ae,fe),this.scheduler=ae,this.work=fe,this.pending=!1}schedule(ae,fe=0){var pe;if(this.closed)return this;this.state=ae;const G=this.id,$=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId($,G,fe)),this.pending=!0,this.delay=fe,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId($,this.id,fe),this}requestAsyncId(ae,fe,pe=0){return F.setInterval(ae.flush.bind(ae,this),pe)}recycleAsyncId(ae,fe,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return fe;null!=fe&&F.clearInterval(fe)}execute(ae,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ae,fe);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,fe){let G,pe=!1;try{this.work(ae)}catch($){pe=!0,G=$||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ae,scheduler:fe}=this,{actions:pe}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(pe,this),null!=ae&&(this.id=this.recycleAsyncId(fe,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(_t,Ae,U)=>{U.d(Ae,{v:()=>F});var s=U(6063);class X{constructor(ie,ce=X.now){this.schedulerActionCtor=ie,this.now=ce}schedule(ie,ce=0,ae){return new this.schedulerActionCtor(this,ie).schedule(ae,ce)}}X.now=s.l.now;class F extends X{constructor(ie,ce=X.now){super(ie,ce),this.actions=[],this._active=!1}flush(ie){const{actions:ce}=this;if(this._active)return void ce.push(ie);let ae;this._active=!0;do{if(ae=ie.execute(ie.state,ie.delay))break}while(ie=ce.shift());if(this._active=!1,ae){for(;ie=ce.shift();)ie.unsubscribe();throw ae}}}},4986:(_t,Ae,U)=>{U.d(Ae,{P:()=>re,z:()=>F});var s=U(4408);const F=new(U(7565).v)(s.o),re=F},6063:(_t,Ae,U)=>{U.d(Ae,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(_t,Ae,U)=>{U.d(Ae,{z:()=>s});const s={setTimeout(X,F,...re){const{delegate:ie}=s;return ie?.setTimeout?ie.setTimeout(X,F,...re):setTimeout(X,F,...re)},clearTimeout(X){const{delegate:F}=s;return(F?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(_t,Ae,U)=>{U.d(Ae,{h:()=>X});const X=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_t,Ae,U)=>{U.d(Ae,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(_t,Ae,U)=>{U.d(Ae,{_6:()=>ce,jO:()=>re,yG:()=>ie});var s=U(576),X=U(3532);function F(ae){return ae[ae.length-1]}function re(ae){return(0,s.m)(F(ae))?ae.pop():void 0}function ie(ae){return(0,X.K)(F(ae))?ae.pop():void 0}function ce(ae,fe){return"number"==typeof F(ae)?ae.pop():fe}},8737:(_t,Ae,U)=>{function s(X,F){if(X){const re=X.indexOf(F);0<=re&&X.splice(re,1)}}U.d(Ae,{P:()=>s})},3888:(_t,Ae,U)=>{function s(X){const re=X(ie=>{Error.call(ie),ie.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}U.d(Ae,{d:()=>s})},2806:(_t,Ae,U)=>{U.d(Ae,{O:()=>re,x:()=>F});var s=U(2416);let X=null;function F(ie){if(s.v.useDeprecatedSynchronousErrorHandling){const ce=!X;if(ce&&(X={errorThrown:!1,error:null}),ie(),ce){const{errorThrown:ae,error:fe}=X;if(X=null,ae)throw fe}}else ie()}function re(ie){s.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ie)}},9672:(_t,Ae,U)=>{function s(X,F,re,ie=0,ce=!1){const ae=F.schedule(function(){re(),ce?X.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(X.add(ae),!ce)return ae}U.d(Ae,{f:()=>s})},4671:(_t,Ae,U)=>{function s(X){return X}U.d(Ae,{y:()=>s})},1144:(_t,Ae,U)=>{U.d(Ae,{z:()=>s});const s=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(_t,Ae,U)=>{U.d(Ae,{D:()=>X});var s=U(576);function X(F){return Symbol.asyncIterator&&(0,s.m)(F?.[Symbol.asyncIterator])}},576:(_t,Ae,U)=>{function s(X){return"function"==typeof X}U.d(Ae,{m:()=>s})},3670:(_t,Ae,U)=>{U.d(Ae,{c:()=>F});var s=U(8822),X=U(576);function F(re){return(0,X.m)(re[s.L])}},6495:(_t,Ae,U)=>{U.d(Ae,{T:()=>F});var s=U(2202),X=U(576);function F(re){return(0,X.m)(re?.[s.h])}},8239:(_t,Ae,U)=>{U.d(Ae,{t:()=>X});var s=U(576);function X(F){return(0,s.m)(F?.then)}},3260:(_t,Ae,U)=>{U.d(Ae,{L:()=>re,Q:()=>F});var s=U(655),X=U(576);function F(ie){return(0,s.FC)(this,arguments,function*(){const ae=ie.getReader();try{for(;;){const{value:fe,done:pe}=yield(0,s.qq)(ae.read());if(pe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(fe)}}finally{ae.releaseLock()}})}function re(ie){return(0,X.m)(ie?.getReader)}},3532:(_t,Ae,U)=>{U.d(Ae,{K:()=>X});var s=U(576);function X(F){return F&&(0,s.m)(F.schedule)}},4482:(_t,Ae,U)=>{U.d(Ae,{A:()=>X,e:()=>F});var s=U(576);function X(re){return(0,s.m)(re?.lift)}function F(re){return ie=>{if(X(ie))return ie.lift(function(ce){try{return re(ce,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(_t,Ae,U)=>{function s(){}U.d(Ae,{Z:()=>s})},9635:(_t,Ae,U)=>{U.d(Ae,{U:()=>F,z:()=>X});var s=U(4671);function X(...re){return F(re)}function F(re){return 0===re.length?s.y:1===re.length?re[0]:function(ce){return re.reduce((ae,fe)=>fe(ae),ce)}}},7849:(_t,Ae,U)=>{U.d(Ae,{h:()=>F});var s=U(2416),X=U(3410);function F(re){X.z.setTimeout(()=>{const{onUnhandledError:ie}=s.v;if(!ie)throw re;ie(re)})}},4532:(_t,Ae,U)=>{function s(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Ae,{z:()=>s})},655:(_t,Ae,U)=>{function re(oe,ge){var be={};for(var Oe in oe)Object.prototype.hasOwnProperty.call(oe,Oe)&&ge.indexOf(Oe)<0&&(be[Oe]=oe[Oe]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(Oe=Object.getOwnPropertySymbols(oe);Pe<Oe.length;Pe++)ge.indexOf(Oe[Pe])<0&&Object.prototype.propertyIsEnumerable.call(oe,Oe[Pe])&&(be[Oe[Pe]]=oe[Oe[Pe]])}return be}function Y(oe,ge,be,Oe){return new(be||(be=Promise))(function(Ee,gt){function Zt(ln){try{st(Oe.next(ln))}catch(Tt){gt(Tt)}}function pn(ln){try{st(Oe.throw(ln))}catch(Tt){gt(Tt)}}function st(ln){ln.done?Ee(ln.value):function Pe(Ee){return Ee instanceof be?Ee:new be(function(gt){gt(Ee)})}(ln.value).then(Zt,pn)}st((Oe=Oe.apply(oe,ge||[])).next())})}function Ne(oe){return this instanceof Ne?(this.v=oe,this):new Ne(oe)}function we(oe,ge,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Oe=be.apply(oe,ge||[]),Ee=[];return Pe={},gt("next"),gt("throw"),gt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function gt(Nt){Oe[Nt]&&(Pe[Nt]=function(Di){return new Promise(function(xn,kn){Ee.push([Nt,Di,xn,kn])>1||Zt(Nt,Di)})})}function Zt(Nt,Di){try{!function pn(Nt){Nt.value instanceof Ne?Promise.resolve(Nt.value.v).then(st,ln):Tt(Ee[0][2],Nt)}(Oe[Nt](Di))}catch(xn){Tt(Ee[0][3],xn)}}function st(Nt){Zt("next",Nt)}function ln(Nt){Zt("throw",Nt)}function Tt(Nt,Di){Nt(Di),Ee.shift(),Ee.length&&Zt(Ee[0][0],Ee[0][1])}}function Ge(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ge=oe[Symbol.asyncIterator];return ge?ge.call(oe):(oe=function ut(oe){var ge="function"==typeof Symbol&&Symbol.iterator,be=ge&&oe[ge],Oe=0;if(be)return be.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Oe>=oe.length&&(oe=void 0),{value:oe&&oe[Oe++],done:!oe}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),be={},Oe("next"),Oe("throw"),Oe("return"),be[Symbol.asyncIterator]=function(){return this},be);function Oe(Ee){be[Ee]=oe[Ee]&&function(gt){return new Promise(function(Zt,pn){!function Pe(Ee,gt,Zt,pn){Promise.resolve(pn).then(function(st){Ee({value:st,done:Zt})},gt)}(Zt,pn,(gt=oe[Ee](gt)).done,gt.value)})}}}U.d(Ae,{FC:()=>we,KL:()=>Ge,_T:()=>re,mG:()=>Y,qq:()=>Ne})},4650:(_t,Ae,U)=>{U.d(Ae,{$8M:()=>ku,$Z:()=>y_,AFp:()=>Sg,ALo:()=>my,AaK:()=>fe,BQk:()=>P_,CHM:()=>_u,CRH:()=>Vd,CZH:()=>xy,CqO:()=>TT,D6c:()=>gD,DdM:()=>jb,EJc:()=>ft,EpF:()=>CT,F$t:()=>sN,F4k:()=>zp,FYo:()=>Op,FiY:()=>je,G48:()=>gc,Gf:()=>Xb,GfV:()=>E1,Gpc:()=>$,Hsn:()=>oN,Ikx:()=>eg,JOm:()=>Hs,KtG:()=>yu,LFG:()=>zt,LMc:()=>MM,LSH:()=>Bh,Lbi:()=>hc,Lck:()=>YN,MAs:()=>vT,MGl:()=>tb,MMx:()=>ug,MT6:()=>mb,NdJ:()=>ET,OlP:()=>Mn,Oqu:()=>fb,PXZ:()=>ww,Q6J:()=>Jh,QGY:()=>Wp,QP$:()=>Mt,Qsj:()=>$S,QtT:()=>cE,R0b:()=>To,RDi:()=>b,Rgc:()=>ac,SBq:()=>yd,SDv:()=>oy,Sil:()=>ke,Suo:()=>ew,TTD:()=>ps,TgZ:()=>vo,Tol:()=>ub,Udp:()=>ab,VKq:()=>pg,W1O:()=>iw,WLB:()=>Gb,X6Q:()=>CM,XFs:()=>rt,Xpm:()=>Se,Xts:()=>l_,Y36:()=>Xu,YKP:()=>pE,YNc:()=>eN,Yjl:()=>K,Yz7:()=>st,Z0I:()=>Di,ZZ4:()=>Zy,_Bn:()=>lg,_UZ:()=>R_,_Vd:()=>zu,_c5:()=>Nw,_uU:()=>V_,aQg:()=>Dn,c2e:()=>ki,cJS:()=>Tt,cg1:()=>Od,dDg:()=>et,dqk:()=>wn,eFA:()=>se,ekj:()=>lb,eoX:()=>Ag,f3M:()=>D,g9A:()=>Hd,h0i:()=>oc,hGG:()=>pD,hij:()=>Z_,iGM:()=>Jb,ifc:()=>Ct,ip1:()=>_w,jDz:()=>uy,kEZ:()=>lf,kL8:()=>q_,lG2:()=>Z,lcZ:()=>Wb,lqb:()=>Wu,lri:()=>QE,n5z:()=>Us,oAB:()=>Wt,oxw:()=>ST,pQV:()=>ay,q4F:()=>D1,qLn:()=>vd,qOj:()=>Y0,qZA:()=>qp,rWj:()=>fi,s9C:()=>AT,sBO:()=>Mg,sIi:()=>Dd,s_b:()=>Ty,soG:()=>mf,tb:()=>Ry,tp0:()=>mt,uIk:()=>M_,vHH:()=>Ce,vpe:()=>qa,wAp:()=>Pt,xp6:()=>x1,ynx:()=>O_,z2F:()=>ky,zSh:()=>g0,zs3:()=>Ua});var s=U(7579),X=U(727),F=U(9751),re=U(6451),ie=U(3099);function ce(a){for(let l in a)if(a[l]===ce)return l;throw Error("Could not find renamed property on target object.")}function ae(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function fe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(fe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function pe(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const G=ce({__forward_ref__:ce});function $(a){return a.__forward_ref__=$,a.toString=function(){return fe(this())},a}function Y(a){return ze(a)?a():a}function ze(a){return"function"==typeof a&&a.hasOwnProperty(G)&&a.__forward_ref__===$}class Ce extends Error{constructor(l,u){super(function ut(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function ve(a){return"string"==typeof a?a:null==a?"":String(a)}function we(a,l){throw new Ce(-201,!1)}function Ee(a,l,u,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${u} ${d} ${l} <=Actual]`))}function st(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Tt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Nt(a){return xn(a,Wr)||xn(a,Ar)}function Di(a){return null!==Nt(a)}function xn(a,l){return a.hasOwnProperty(l)?a[l]:null}function sr(a){return a&&(a.hasOwnProperty(gr)||a.hasOwnProperty(fa))?a[gr]:null}const Wr=ce({\u0275prov:ce}),gr=ce({\u0275inj:ce}),Ar=ce({ngInjectableDef:ce}),fa=ce({ngInjectorDef:ce});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let zi;function Ii(a){const l=zi;return zi=a,l}function Nr(a,l,u){const d=Nt(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&rt.Optional?null:void 0!==l?l:void we(fe(a))}function $n(a){return{toString:a}.toString()}var oi=(()=>((oi=oi||{})[oi.OnPush=0]="OnPush",oi[oi.Default=1]="Default",oi))(),Ct=(()=>{return(a=Ct||(Ct={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Ct;var a})();const wn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ai={},Lt=[],Ms=ce({\u0275cmp:ce}),cn=ce({\u0275dir:ce}),zr=ce({\u0275pipe:ce}),dn=ce({\u0275mod:ce}),Ni=ce({\u0275fac:ce}),or=ce({__NG_ELEMENT_ID__:ce});let ht=0;function Se(a){return $n(()=>{const u=!0===a.standalone,d={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===oi.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Lt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Ct.Emulated,id:"c"+ht++,styles:a.styles||Lt,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.dependencies,v=a.features;return f.inputs=H(a.inputs,d),f.outputs=H(a.outputs),v&&v.forEach(T=>T(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(Ot).filter(Ut):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(Qe).filter(Ut):null,f})}function Ot(a){return le(a)||te(a)}function Ut(a){return null!==a}function Wt(a){return $n(()=>({type:a.type,bootstrap:a.bootstrap||Lt,declarations:a.declarations||Lt,imports:a.imports||Lt,exports:a.exports||Lt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function H(a,l){if(null==a)return Ai;const u={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=d,l&&(l[f]=m)}return u}const Z=Se;function K(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function le(a){return a[Ms]||null}function te(a){return a[cn]||null}function Qe(a){return a[zr]||null}function Mt(a){const l=le(a)||te(a)||Qe(a);return null!==l&&l.standalone}function Qt(a,l){const u=a[dn]||null;if(!u&&!0===l)throw new Error(`Type ${fe(a)} does not have '\u0275mod' property.`);return u}function Mi(a){return Array.isArray(a)&&"object"==typeof a[1]}function ar(a){return Array.isArray(a)&&!0===a[1]}function ou(a){return 0!=(8&a.flags)}function sl(a){return 2==(2&a.flags)}function Mc(a){return 1==(1&a.flags)}function Yi(a){return null!==a.template}function Jf(a){return 0!=(256&a[2])}function fs(a,l){return a.hasOwnProperty(Ni)?a[Ni]:null}class Rs{constructor(l,u,d){this.previousValue=l,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function ps(){return Po}function Po(a){return a.type.prototype.ngOnChanges&&(a.setInput=lu),ol}function ol(){const a=tp(this),l=a?.current;if(l){const u=a.previous;if(u===Ai)a.previous=l;else for(let d in l)u[d]=l[d];a.current=null,this.ngOnChanges(l)}}function lu(a,l,u,d){const f=tp(a)||function ga(a,l){return a[Oc]=l}(a,{previous:Ai,current:null}),m=f.current||(f.current={}),v=f.previous,T=this.declaredInputs[u],E=v[T];m[T]=new Rs(E&&E.currentValue,l,v===Ai),a[d]=l}ps.ngInherit=!0;const Oc="__ngSimpleChanges__";function tp(a){return a[Oc]||null}function qn(a){for(;Array.isArray(a);)a=a[0];return a}function xr(a,l){return qn(l[a])}function Qi(a,l){return qn(l[a.index])}function ko(a,l){return a.data[l]}function Ps(a,l){return a[l]}function rn(a,l){const u=l[a];return Mi(u)?u:u[0]}function Fo(a){return 64==(64&a[2])}function Qr(a,l){return null==l?null:a[l]}function fu(a){a[18]=0}function Zn(a,l){a[5]+=l;let u=a,d=a[3];for(;null!==d&&(1===l&&1===u[5]||-1===l&&0===u[5]);)d[5]+=l,u=d,d=d[3]}const Ft={lFrame:Gc(null),bindingsEnabled:!0};function ks(){return Ft.bindingsEnabled}function Me(){return Ft.lFrame.lView}function Jt(){return Ft.lFrame.tView}function _u(a){return Ft.lFrame.contextLView=a,a[8]}function yu(a){return Ft.lFrame.contextLView=null,a}function Wn(){let a=vu();for(;null!==a&&64===a.type;)a=a.parent;return a}function vu(){return Ft.lFrame.currentTNode}function _a(){const a=Ft.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function Rr(a,l){const u=Ft.lFrame;u.currentTNode=a,u.isParent=l}function ll(){return Ft.lFrame.isParent}function ul(){Ft.lFrame.isParent=!1}function zn(){const a=Ft.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function gs(){return Ft.lFrame.bindingIndex}function Lo(){return Ft.lFrame.bindingIndex++}function Fs(a){const l=Ft.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function dl(a){Ft.lFrame.inI18n=a}function Pm(a,l){const u=Ft.lFrame;u.bindingIndex=u.bindingRootIndex=a,bu(l)}function bu(a){Ft.lFrame.currentDirectiveIndex=a}function Zc(){return Ft.lFrame.currentQueryIndex}function fl(a){Ft.lFrame.currentQueryIndex=a}function Hc(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function wu(a,l,u){if(u&rt.SkipSelf){let f=l,m=a;for(;!(f=f.parent,null!==f||u&rt.Host||(f=Hc(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,a=m}const d=Ft.lFrame=jc();return d.currentTNode=l,d.lView=a,!0}function Cu(a){const l=jc(),u=a[1];Ft.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function jc(){const a=Ft.lFrame,l=null===a?null:a.child;return null===l?Gc(a):l}function Gc(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function $c(){const a=Ft.lFrame;return Ft.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const ch=$c;function Uo(){const a=$c();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function _i(){return Ft.lFrame.selectedIndex}function _r(a){Ft.lFrame.selectedIndex=a}function Nn(){const a=Ft.lFrame;return ko(a.tView,a.selectedIndex)}function Du(a,l){for(let u=l.directiveStart,d=l.directiveEnd;u<d;u++){const m=a.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:T,ngAfterViewInit:E,ngAfterViewChecked:A,ngOnDestroy:R}=m;v&&(a.contentHooks||(a.contentHooks=[])).push(-u,v),T&&((a.contentHooks||(a.contentHooks=[])).push(u,T),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,T)),E&&(a.viewHooks||(a.viewHooks=[])).push(-u,E),A&&((a.viewHooks||(a.viewHooks=[])).push(u,A),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,A)),null!=R&&(a.destroyHooks||(a.destroyHooks=[])).push(u,R)}}function Vo(a,l,u){va(a,l,3,u)}function ya(a,l,u,d){(3&a[2])===u&&va(a,l,u,d)}function fh(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function va(a,l,u,d){const m=d??-1,v=l.length-1;let T=0;for(let E=void 0!==d?65535&a[18]:0;E<v;E++)if("number"==typeof l[E+1]){if(T=l[E],null!=d&&T>=d)break}else l[E]<0&&(a[18]+=65536),(T<m||-1==m)&&(ph(a,u,l,E),a[18]=(4294901760&a[18])+E+2),E++}function ph(a,l,u,d){const f=u[d]<0,m=u[d+1],T=a[f?-u[d]:u[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(T)}finally{}}}else try{m.call(T)}finally{}}class oo{constructor(l,u,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function wa(a,l,u){let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const m=u[d++],v=u[d++],T=u[d++];a.setAttribute(l,v,T,m)}else{const m=f,v=u[++d];Nu(m)?a.setProperty(l,m,v):a.setAttribute(l,m,v),d++}}return d}function Ho(a){return 3===a||4===a||6===a}function Nu(a){return 64===a.charCodeAt(0)}function pl(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?u=f:0===u||mh(a,u,f,null,-1===u||2===u?l[++d]:null)}}return a}function mh(a,l,u,d,f){let m=0,v=a.length;if(-1===l)v=-1;else for(;m<a.length;){const T=a[m++];if("number"==typeof T){if(T===l){v=-1;break}if(T>l){v=m-1;break}}}for(;m<a.length;){const T=a[m];if("number"==typeof T)break;if(T===u){if(null===d)return void(null!==f&&(a[m+1]=f));if(d===a[m+1])return void(a[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(a.splice(v,0,l),m=v+1),a.splice(m++,0,u),null!==d&&a.splice(m++,0,d),null!==f&&a.splice(m++,0,f)}function _h(a){return-1!==a}function xi(a){return 32767&a}function ml(a,l){let u=function gl(a){return a>>16}(a),d=l;for(;u>0;)d=d[15],u--;return d}let ms=!0;function _l(a){const l=ms;return ms=a,l}let ei=0;const Jr={};function jo(a,l){const u=xu(a,l);if(-1!==u)return u;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,vl(d.data,a),vl(l,null),vl(d.blueprint,null));const f=Ru(a,l),m=a.injectorIndex;if(_h(f)){const v=xi(f),T=ml(f,l),E=T[1].data;for(let A=0;A<8;A++)l[m+A]=T[v+A]|E[v+A]}return l[m+8]=f,m}function vl(a,l){a.push(0,0,0,0,0,0,0,0,l)}function xu(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Ru(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,d=null,f=l;for(;null!==f;){if(d=Ea(f),null===d)return-1;if(u++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function ao(a,l,u){!function Mu(a,l,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(or)&&(d=u[or]),null==d&&(d=u[or]=ei++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,u)}function lo(a,l,u){if(u&rt.Optional||void 0!==a)return a;we()}function Kc(a,l,u,d){if(u&rt.Optional&&void 0===d&&(d=null),0==(u&(rt.Self|rt.Host))){const f=a[9],m=Ii(void 0);try{return f?f.get(l,d,u&rt.Optional):Nr(l,d,u&rt.Optional)}finally{Ii(m)}}return lo(d,0,u)}function Go(a,l,u,d=rt.Default,f){if(null!==a){if(1024&l[2]){const v=function Ta(a,l,u,d,f){let m=a,v=l;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const T=bl(m,v,u,d|rt.Self,Jr);if(T!==Jr)return T;let E=m.parent;if(!E){const A=v[21];if(A){const R=A.get(u,Jr,d);if(R!==Jr)return R}E=Ea(v),v=v[15]}m=E}return f}(a,l,u,d,Jr);if(v!==Jr)return v}const m=bl(a,l,u,d,Jr);if(m!==Jr)return m}return Kc(l,u,d,f)}function bl(a,l,u,d,f){const m=function Yc(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(or)?a[or]:void 0;return"number"==typeof l?l>=0?255&l:Qc:l}(u);if("function"==typeof m){if(!wu(l,a,d))return d&rt.Host?lo(f,0,d):Kc(l,u,d,f);try{const v=m(d);if(null!=v||d&rt.Optional)return v;we()}finally{ch()}}else if("number"==typeof m){let v=null,T=xu(a,l),E=-1,A=d&rt.Host?l[16][6]:null;for((-1===T||d&rt.SkipSelf)&&(E=-1===T?Ru(a,l):l[T+8],-1!==E&&wl(d,!1)?(v=l[1],T=xi(E),l=ml(E,l)):T=-1);-1!==T;){const R=l[1];if(Ou(m,T,R.data)){const L=bh(T,l,u,v,d,A);if(L!==Jr)return L}E=l[T+8],-1!==E&&wl(d,l[1].data[T+8]===A)&&Ou(m,T,l)?(v=R,T=xi(E),l=ml(E,l)):T=-1}}return f}function bh(a,l,u,d,f,m){const v=l[1],T=v.data[a+8],R=Ca(T,v,u,null==d?sl(T)&&ms:d!=v&&0!=(3&T.type),f&rt.Host&&m===T);return null!==R?Ls(l,v,R,T):Jr}function Ca(a,l,u,d,f){const m=a.providerIndexes,v=l.data,T=1048575&m,E=a.directiveStart,R=m>>20,q=f?T+R:a.directiveEnd;for(let ee=d?T:T+R;ee<q;ee++){const ye=v[ee];if(ee<E&&u===ye||ee>=E&&ye.type===u)return ee}if(f){const ee=v[E];if(ee&&Yi(ee)&&ee.type===u)return E}return null}function Ls(a,l,u,d){let f=a[u];const m=l.data;if(function Zo(a){return a instanceof oo}(f)){const v=f;v.resolving&&function at(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${a}${u}`)}(function de(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ve(a)}(m[u]));const T=_l(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?Ii(v.injectImpl):null;wu(a,d,rt.Default);try{f=a[u]=v.factory(void 0,m,a,d),l.firstCreatePass&&u>=d.directiveStart&&function hh(a,l,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const v=Po(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,m))}(u,m[u],l)}finally{null!==E&&Ii(E),_l(T),v.resolving=!1,ch()}}return f}function Ou(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function wl(a,l){return!(a&rt.Self||a&rt.Host&&l)}class $o{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,d){return Go(this._tNode,this._lView,l,d,u)}}function Qc(){return new $o(Wn(),Me())}function Us(a){return $n(()=>{const l=a.prototype.constructor,u=l[Ni]||Pu(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const m=f[Ni]||Pu(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Pu(a){return ze(a)?()=>{const l=Pu(Y(a));return l&&l()}:fs(a)}function Ea(a){const l=a[1],u=l.type;return 2===u?l.declTNode:1===u?a[6]:null}function ku(a){return function vh(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const m=u[f];if(Ho(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(m===l)return u[f+1];f+=2}}}return null}(Wn(),a)}const uo="__parameters__";function Sa(a,l,u){return $n(()=>{const d=function Fu(a){return function(...u){if(a){const d=a(...u);for(const f in d)this[f]=d[f]}}}(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return T.annotation=v,T;function T(E,A,R){const L=E.hasOwnProperty(uo)?E[uo]:Object.defineProperty(E,uo,{value:[]})[uo];for(;L.length<=R;)L.push(null);return(L[R]=L[R]||[]).push(v),E}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class Mn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=st({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function en(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let d=a[u];Array.isArray(d)?(l===a&&(l=a.slice(0,u)),en(d,l)):l!==a&&l.push(d)}return l}function Xr(a,l){a.forEach(u=>Array.isArray(u)?Xr(u,l):l(u))}function Tl(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Un(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function co(a,l){const u=[];for(let d=0;d<a;d++)u.push(l);return u}function Ke(a,l,u){let d=ho(a,l);return d>=0?a[1|d]=u:(d=~d,function Xc(a,l,u,d){let f=a.length;if(f==l)a.push(u,d);else if(1===f)a.push(d,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=d}}(a,d,l,u)),d}function Dl(a,l){const u=ho(a,l);if(u>=0)return a[1|u]}function ho(a,l){return function Na(a,l,u){let d=0,f=a.length>>u;for(;f!==d;){const m=d+(f-d>>1),v=a[m<<u];if(l===v)return m<<u;v>l?f=m:d=m+1}return~(f<<u)}(a,l,1)}const es={},nd="__NG_DI_FLAG__",br="ngTempTokenPath",ts=/\n/gm,Yn="__source";let po;function Vs(a){const l=po;return po=a,l}function On(a,l=rt.Default){if(void 0===po)throw new Ce(-203,!1);return null===po?Nr(a,void 0,l):po.get(a,l&rt.Optional?null:void 0,l)}function zt(a,l=rt.Default){return(function cs(){return zi}()||On)(Y(a),l)}function D(a,l=rt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),zt(a,l)}function S(a){const l=[];for(let u=0;u<a.length;u++){const d=Y(a[u]);if(Array.isArray(d)){if(0===d.length)throw new Ce(900,!1);let f,m=rt.Default;for(let v=0;v<d.length;v++){const T=d[v],E=V(T);"number"==typeof E?-1===E?f=T.token:m|=E:f=T}l.push(zt(f,m))}else l.push(zt(d))}return l}function x(a,l){return a[nd]=l,a.prototype[nd]=l,a}function V(a){return a[nd]}const je=x(Sa("Optional"),8),mt=x(Sa("SkipSelf"),4);var Hs=(()=>((Hs=Hs||{})[Hs.Important=1]="Important",Hs[Hs.DashCase=2]="DashCase",Hs))();const sd=/^>|^->|<!--|-->|--!>|<!-$/g,Wv=/(<|>)/;const ld=new Map;let gp=0;const Yo="__ngContext__";function ji(a,l){Mi(l)?(a[Yo]=l[20],function Kv(a){ld.set(a[20],a)}(l)):a[Yo]=l}let Ih;function Sh(a,l){return Ih(a,l)}function Ml(a){const l=a[3];return ar(l)?l[3]:l}function xl(a){return zm(a[13])}function Qo(a){return zm(a[4])}function zm(a){for(;null!==a&&!ar(a);)a=a[4];return a}function Jo(a,l,u,d,f){if(null!=d){let m,v=!1;ar(d)?m=d:Mi(d)&&(v=!0,d=d[0]);const T=qn(d);0===a&&null!==u?null==f?Xm(l,u,T):ea(l,u,T,f||null,!0):1===a&&null!==u?ea(l,u,T,f||null,!0):2===a?Fh(l,T,v):3===a&&l.destroyNode(T),null!=m&&function Tp(a,l,u,d,f){const m=u[7];m!==qn(u)&&Jo(l,a,d,m,f);for(let T=10;T<u.length;T++){const E=u[T];Ra(E[1],E,a,l,d,m)}}(l,a,m,u,f)}}function Ah(a,l){return a.createText(l)}function _p(a,l,u){a.setValue(l,u)}function Xo(a,l){return a.createComment(function ad(a){return a.replace(sd,l=>l.replace(Wv,"\u200b$1\u200b"))}(l))}function Gu(a,l,u){return a.createElement(l,u)}function yp(a,l){const u=a[9],d=u.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,Zn(f,-1)),u.splice(d,1)}function vp(a,l){if(a.length<=10)return;const u=10+l,d=a[u];if(d){const f=d[17];null!==f&&f!==a&&yp(f,d),l>0&&(a[u-1][4]=d[4]);const m=Un(a,10+l);!function Rl(a,l){Ra(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Qm(a,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&Ra(a,l,u,3,null,null),function n0(a){let l=a[13];if(!l)return bp(a[1],a);for(;l;){let u=null;if(Mi(l))u=l[13];else{const d=l[10];d&&(u=d)}if(!u){for(;l&&!l[4]&&l!==a;)Mi(l)&&bp(l[1],l),l=l[3];null===l&&(l=a),Mi(l)&&bp(l[1],l),u=l&&l[4]}l=u}}(l)}}function bp(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function Jm(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let d=0;d<u.length;d+=2){const f=l[u[d]];if(!(f instanceof oo)){const m=u[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const T=f[m[v]],E=m[v+1];try{E.call(T)}finally{}}else try{m.call(f)}finally{}}}}(a,l),function s0(a,l){const u=a.cleanup,d=l[7];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+1],T="function"==typeof v?v(l):qn(l[v]),E=d[f=u[m+2]],A=u[m+3];"boolean"==typeof A?T.removeEventListener(u[m],E,A):A>=0?d[f=A]():d[f=-A].unsubscribe(),m+=2}else{const v=d[f=u[m+1]];u[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&ar(l[3])){u!==l[3]&&yp(u,l);const d=l[19];null!==d&&d.detachView(a)}!function Th(a){ld.delete(a[20])}(l)}}function Mh(a,l,u){return xh(a,l.parent,u)}function xh(a,l,u){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return u[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===Ct.None||f===Ct.Emulated)return null}return Qi(d,u)}function ea(a,l,u,d,f){a.insertBefore(l,u,d,f)}function Xm(a,l,u){a.appendChild(l,u)}function dd(a,l,u,d,f){null!==d?ea(a,l,u,d,f):Xm(a,l,u)}function dr(a,l){return a.parentNode(l)}function Cp(a,l,u){return Rh(a,l,u)}function hd(a,l,u){return 40&a.type?Qi(a,u):null}let mo,$u,Sp,Rh=hd;function Oh(a,l){Rh=a,mo=l}function Ph(a,l,u,d){const f=Mh(a,d,l),m=l[11],T=Cp(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(u))for(let E=0;E<u.length;E++)dd(m,f,u[E],T,!1);else dd(m,f,u,T,!1);void 0!==mo&&mo(m,d,l,u,f)}function Pr(a,l){if(null!==l){const u=l.type;if(3&u)return Qi(l,a);if(4&u)return fd(-1,a[l.index]);if(8&u){const d=l.child;if(null!==d)return Pr(a,d);{const f=a[l.index];return ar(f)?fd(-1,f):qn(f)}}if(32&u)return Sh(l,a)()||qn(a[l.index]);{const d=kh(a,l);return null!==d?Array.isArray(d)?d[0]:Pr(Ml(a[16]),d):Pr(a,l.next)}}return null}function kh(a,l){return null!==l?a[16][6].projection[l.projection]:null}function fd(a,l){const u=10+a+1;if(u<l.length){const d=l[u],f=d[1].firstChild;if(null!==f)return Pr(d,f)}return l[7]}function Fh(a,l,u){const d=dr(a,l);d&&function wp(a,l,u,d){a.removeChild(l,u,d)}(a,d,l,u)}function pd(a,l,u,d,f,m,v){for(;null!=u;){const T=d[u.index],E=u.type;if(v&&0===l&&(T&&ji(qn(T),d),u.flags|=4),64!=(64&u.flags))if(8&E)pd(a,l,u.child,d,f,m,!1),Jo(l,a,f,T,m);else if(32&E){const A=Sh(u,d);let R;for(;R=A();)Jo(l,a,f,R,m);Jo(l,a,f,T,m)}else 16&E?Oa(a,l,d,u,f,m):Jo(l,a,f,T,m);u=v?u.projectionNext:u.next}}function Ra(a,l,u,d,f,m){pd(u,d,a.firstChild,l,f,m,!1)}function Oa(a,l,u,d,f,m){const v=u[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let A=0;A<E.length;A++)Jo(l,a,f,E[A],m);else pd(a,l,E,v[3],f,m,!0)}function ws(a,l,u){a.setAttribute(l,"style",u)}function Pa(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function ka(a){return function gd(){if(void 0===$u&&($u=null,wn.trustedTypes))try{$u=wn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return $u}()?.createHTML(a)||a}function b(a){Sp=a}class he{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Oi(a){return a instanceof he?a.changingThisBreaksApplicationSecurity:a}class Pl{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(ka(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class r_{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ka(l),u;const d=this.inertDocument.createElement("body");return d.innerHTML=ka(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const kl=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Fl(a){return(a=String(a)).match(kl)?a:"unsafe:"+a}function Ll(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function Ap(...a){const l={};for(const u of a)for(const d in u)u.hasOwnProperty(d)&&(l[d]=!0);return l}const o1=Ll("area,br,col,hr,img,wbr"),a1=Ll("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),l1=Ll("rp,rt"),Np=Ap(o1,Ap(a1,Ll("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ap(l1,Ll("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ap(l1,a1)),Uh=Ll("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),u1=Ap(Uh,Ll("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ll("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var vi=(()=>((vi=vi||{})[vi.NONE=0]="NONE",vi[vi.HTML=1]="HTML",vi[vi.STYLE=2]="STYLE",vi[vi.SCRIPT=3]="SCRIPT",vi[vi.URL=4]="URL",vi[vi.RESOURCE_URL=5]="RESOURCE_URL",vi))();function Bh(a){const l=function qu(){const a=Me();return a&&a[12]}();return l?l.sanitize(vi.URL,a)||"":function Cs(a,l){const u=function e_(a){return a instanceof he&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}(a,"URL")?Oi(a):Fl(ve(a))}const l_=new Mn("ENVIRONMENT_INITIALIZER"),Vh=new Mn("INJECTOR",-1),d0=new Mn("INJECTOR_DEF_TYPES");class p1{get(l,u=es){if(u===es){const d=new Error(`NullInjectorError: No provider for ${fe(l)}!`);throw d.name="NullInjectorError",d}return u}}function OS(...a){return{\u0275providers:g1(0,a)}}function g1(a,...l){const u=[],d=new Set;let f;return Xr(l,m=>{const v=m;h0(v,u,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&m1(f,u),u}function m1(a,l){for(let u=0;u<a.length;u++){const{providers:f}=a[u];Xr(f,m=>{l.push(m)})}}function h0(a,l,u,d){if(!(a=Y(a)))return!1;let f=null,m=sr(a);const v=!m&&le(a);if(m||v){if(v&&!v.standalone)return!1;f=a}else{const E=a.ngModule;if(m=sr(E),!m)return!1;f=E}const T=d.has(f);if(v){if(T)return!1;if(d.add(f),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of E)h0(A,l,u,d)}}else{if(!m)return!1;{if(null!=m.imports&&!T){let A;d.add(f);try{Xr(m.imports,R=>{h0(R,l,u,d)&&(A||(A=[]),A.push(R))})}finally{}void 0!==A&&m1(A,l)}if(!T){const A=fs(f)||(()=>new f);l.push({provide:f,useFactory:A,deps:Lt},{provide:d0,useValue:f,multi:!0},{provide:l_,useValue:()=>zt(f),multi:!0})}const E=m.providers;null==E||T||Xr(E,R=>{l.push(R)})}}return f!==a&&void 0!==a.providers}const PS=ce({provide:String,useValue:ce});function p0(a){return null!==a&&"object"==typeof a&&PS in a}function _d(a){return"function"==typeof a}const g0=new Mn("Set Injector scope."),xp={},FS={};let u_;function Rp(){return void 0===u_&&(u_=new p1),u_}class Wu{}class m0 extends Wu{constructor(l,u,d,f){super(),this.parent=u,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,d_(l,v=>this.processProvider(v)),this.records.set(Vh,Zh(void 0,this)),f.has("environment")&&this.records.set(Wu,Zh(void 0,this));const m=this.records.get(g0);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(d0.multi,Lt,rt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=Vs(this),d=Ii(void 0);try{return l()}finally{Vs(u),Ii(d)}}get(l,u=es,d=rt.Default){this.assertNotDestroyed();const f=Vs(this),m=Ii(void 0);try{if(!(d&rt.SkipSelf)){let T=this.records.get(l);if(void 0===T){const E=function b1(a){return"function"==typeof a||"object"==typeof a&&a instanceof Mn}(l)&&Nt(l);T=E&&this.injectableDefInScope(E)?Zh(c_(l),xp):null,this.records.set(l,T)}if(null!=T)return this.hydrate(l,T)}return(d&rt.Self?Rp():this.parent).get(l,u=d&rt.Optional&&u===es?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[br]=v[br]||[]).unshift(fe(l)),f)throw v;return function Q(a,l,u,d){const f=a[br];throw l[Yn]&&f.unshift(l[Yn]),a.message=function ne(a,l,u,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=fe(l);if(Array.isArray(l))f=l.map(fe).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let T=l[v];m.push(v+":"+("string"==typeof T?JSON.stringify(T):fe(T)))}f=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${a.replace(ts,"\n  ")}`}("\n"+a.message,f,u,d),a.ngTokenPath=f,a[br]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{Ii(m),Vs(f)}}resolveInjectorInitializers(){const l=Vs(this),u=Ii(void 0);try{const d=this.get(l_.multi,Lt,rt.Self);for(const f of d)f()}finally{Vs(l),Ii(u)}}toString(){const l=[],u=this.records;for(const d of u.keys())l.push(fe(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(l){let u=_d(l=Y(l))?l:Y(l&&l.provide);const d=function US(a){return p0(a)?Zh(void 0,a.useValue):Zh(v1(a),xp)}(l);if(_d(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=Zh(void 0,xp,!0),f.factory=()=>S(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,d)}hydrate(l,u){return u.value===xp&&(u.value=FS,u.value=u.factory()),"object"==typeof u.value&&u.value&&function VS(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=Y(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function c_(a){const l=Nt(a),u=null!==l?l.factory:fs(a);if(null!==u)return u;if(a instanceof Mn)throw new Ce(204,!1);if(a instanceof Function)return function LS(a){const l=a.length;if(l>0)throw co(l,"?"),new Ce(204,!1);const u=function kn(a){const l=a&&(a[Wr]||a[Ar]);if(l){const u=function Gn(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Ce(204,!1)}function v1(a,l,u){let d;if(_d(a)){const f=Y(a);return fs(f)||c_(f)}if(p0(a))d=()=>Y(a.useValue);else if(function y1(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...S(a.deps||[]));else if(function _1(a){return!(!a||!a.useExisting)}(a))d=()=>zt(Y(a.useExisting));else{const f=Y(a&&(a.useClass||a.provide));if(!function BS(a){return!!a.deps}(a))return fs(f)||c_(f);d=()=>new f(...S(a.deps))}return d}function Zh(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function _0(a){return!!a.\u0275providers}function d_(a,l){for(const u of a)Array.isArray(u)?d_(u,l):_0(u)?d_(u.\u0275providers,l):l(u)}class ZS{}class jS{resolveComponentFactory(l){throw function HS(a){const l=Error(`No component factory found for ${fe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let zu=(()=>{class a{}return a.NULL=new jS,a})();function T1(){return Ku(Wn(),Me())}function Ku(a,l){return new yd(Qi(a,l))}let yd=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=T1,a})();function GS(a){return a instanceof yd?a.nativeElement:a}class Op{}let $S=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function qS(){const a=Me(),u=rn(Wn().index,a);return(Mi(u)?u:a)[11]}(),a})(),WS=(()=>{class a{}return a.\u0275prov=st({token:a,providedIn:"root",factory:()=>null}),a})();class E1{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const D1=new E1("14.2.12"),h_={};function f_(a){return a.ngOriginalError}class vd{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&f_(l);for(;u&&f_(u);)u=f_(u);return u||null}}function La(a){return a instanceof Function?a():a}function y0(a,l,u){let d=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||a.charCodeAt(f+m)<=32)return f}u=f+1}}const m_="ng-template";function XS(a,l,u){let d=0;for(;d<a.length;){let f=a[d++];if(u&&"class"===f){if(f=a[d],-1!==y0(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function A1(a){return 4===a.type&&a.value!==m_}function eA(a,l,u){return l===(4!==a.type||u?a.value:m_)}function N1(a,l,u){let d=4;const f=a.attrs||[],m=function M1(a){for(let l=0;l<a.length;l++)if(Ho(a[l]))return l;return a.length}(f);let v=!1;for(let T=0;T<l.length;T++){const E=l[T];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!eA(a,E,u)||""===E&&1===l.length){if(ta(d))return!1;v=!0}}else{const A=8&d?E:l[++T];if(8&d&&null!==a.attrs){if(!XS(a.attrs,A,u)){if(ta(d))return!1;v=!0}continue}const L=rk(8&d?"class":E,f,A1(a),u);if(-1===L){if(ta(d))return!1;v=!0;continue}if(""!==A){let q;q=L>m?"":f[L+1].toLowerCase();const ee=8&d?q:null;if(ee&&-1!==y0(ee,A,0)||2&d&&A!==q){if(ta(d))return!1;v=!0}}}}else{if(!v&&!ta(d)&&!ta(E))return!1;if(v&&ta(E))continue;v=!1,d=E|1&d}}return ta(d)||v}function ta(a){return 0==(1&a)}function rk(a,l,u,d){if(null===l)return-1;let f=0;if(d||!u){let m=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let T=l[++f];for(;"string"==typeof T;)T=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function tA(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const d=a[u];if("number"==typeof d)return-1;if(d===l)return u;u++}return-1}(l,a)}function kp(a,l,u=!1){for(let d=0;d<l.length;d++)if(N1(a,l[d],u))return!0;return!1}function nA(a,l){e:for(let u=0;u<l.length;u++){const d=l[u];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function v0(a,l){return a?":not("+l.trim()+")":l}function iA(a){let l=a[0],u=1,d=2,f="",m=!1;for(;u<a.length;){let v=a[u];if("string"==typeof v)if(2&d){const T=a[++u];f+="["+v+(T.length>0?'="'+T+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!ta(v)&&(l+=v0(m,f),f=""),d=v,m=m||!ta(d);u++}return""!==f&&(l+=v0(m,f)),l}const qt={};function x1(a){b0(Jt(),Me(),_i()+a,!1)}function b0(a,l,u,d){if(!d)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&Vo(l,m,u)}else{const m=a.preOrderHooks;null!==m&&ya(l,m,0,u)}_r(u)}function P1(a,l=null,u=null,d){const f=C0(a,l,u,d);return f.resolveInjectorInitializers(),f}function C0(a,l=null,u=null,d,f=new Set){const m=[u||Lt,OS(a)];return d=d||("object"==typeof a?void 0:fe(a)),new m0(m,l||Rp(),d||null,f)}let Ua=(()=>{class a{static create(u,d){if(Array.isArray(u))return P1({name:""},d,u,"");{const f=u.name??"";return P1({name:f},u.parent,u.providers,f)}}}return a.THROW_IF_NOT_FOUND=es,a.NULL=new p1,a.\u0275prov=st({token:a,providedIn:"any",factory:()=>zt(Vh)}),a.__NG_ELEMENT_ID__=-1,a})();function Xu(a,l=rt.Default){const u=Me();return null===u?zt(a,l):Go(Wn(),u,Y(a),l)}function y_(){throw new Error("invalid")}function v_(a,l){return a<<17|l<<2}function js(a){return a>>17&32767}function V1(a){return 2|a}function Bl(a){return(131068&a)>>2}function N0(a,l){return-131069&a|l<<2}function Z1(a){return 1|a}function q1(a,l){const u=a.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const f=u[d],m=u[d+1];if(-1!==m){const v=a.data[m];fl(f),v.contentQueries(2,l[m],m)}}}function Lp(a,l,u,d,f,m,v,T,E,A,R){const L=l.blueprint.slice();return L[0]=f,L[2]=76|d,(null!==R||a&&1024&a[2])&&(L[2]|=1024),fu(L),L[3]=L[15]=a,L[8]=u,L[10]=v||a&&a[10],L[11]=T||a&&a[11],L[12]=E||a&&a[12]||null,L[9]=A||a&&a[9]||null,L[6]=m,L[20]=function zv(){return gp++}(),L[21]=R,L[16]=2==l.type?a[16]:L,L}function nc(a,l,u,d,f){let m=a.data[l];if(null===m)m=Up(a,l,u,d,f),function Om(){return Ft.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=d,m.attrs=f;const v=_a();m.injectorIndex=null===v?-1:v.injectorIndex}return Rr(m,!0),m}function Up(a,l,u,d,f){const m=vu(),v=ll(),E=a.data[l]=function xA(a,l,u,d,f,m){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,l,d,f);return null===a.firstChild&&(a.firstChild=E),null!==m&&(v?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}function Es(a,l,u,d){if(0===u)return-1;const f=l.length;for(let m=0;m<u;m++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function E_(a,l,u){Cu(l);try{const d=a.viewQuery;null!==d&&A_(1,d,u);const f=a.template;null!==f&&P0(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&q1(a,l),a.staticViewQueries&&A_(2,a.viewQuery,u);const m=a.components;null!==m&&function T_(a,l){for(let u=0;u<l.length;u++)Za(a,l[u])}(l,m)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,Uo()}}function ia(a,l,u,d){const f=l[2];if(128!=(128&f)){Cu(l);try{fu(l),function Bc(a){return Ft.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&P0(a,l,u,2,d);const v=3==(3&f);if(v){const A=a.preOrderCheckHooks;null!==A&&Vo(l,A,null)}else{const A=a.preOrderHooks;null!==A&&ya(l,A,0,null),fh(l,0)}if(function UA(a){for(let l=xl(a);null!==l;l=Qo(l)){if(!l[2])continue;const u=l[9];for(let d=0;d<u.length;d++){const f=u[d],m=f[3];0==(512&f[2])&&Zn(m,1),f[2]|=512}}}(l),function iT(a){for(let l=xl(a);null!==l;l=Qo(l))for(let u=10;u<l.length;u++){const d=l[u],f=d[1];Fo(d)&&ia(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&q1(a,l),v){const A=a.contentCheckHooks;null!==A&&Vo(l,A)}else{const A=a.contentHooks;null!==A&&ya(l,A,1),fh(l,1)}!function SA(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)_r(~f);else{const m=f,v=u[++d],T=u[++d];Pm(v,m),T(2,l[m])}}}finally{_r(-1)}}(a,l);const T=a.components;null!==T&&function AA(a,l){for(let u=0;u<l.length;u++)BA(a,l[u])}(l,T);const E=a.viewQuery;if(null!==E&&A_(2,E,d),v){const A=a.viewCheckHooks;null!==A&&Vo(l,A)}else{const A=a.viewHooks;null!==A&&ya(l,A,2),fh(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Zn(l[3],-1))}finally{Uo()}}}function P0(a,l,u,d,f){const m=_i(),v=2&d;try{_r(-1),v&&l.length>22&&b0(a,l,22,!1),u(d,f)}finally{_r(m)}}function W1(a,l,u){if(ou(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=a.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function Wh(a,l,u){!ks()||(function Ba(a,l,u,d){const f=u.directiveStart,m=u.directiveEnd;a.firstCreatePass||jo(u,l),ji(d,l);const v=u.initialInputs;for(let T=f;T<m;T++){const E=a.data[T],A=Yi(E);A&&Vp(l,u,E);const R=Ls(l,a,T,u);ji(R,l),null!==v&&tT(0,T-f,R,E,0,v),A&&(rn(u.index,l)[8]=R)}}(a,l,u,Qi(u,l)),128==(128&u.flags)&&function V0(a,l,u){const d=u.directiveStart,f=u.directiveEnd,m=u.index,v=function Vc(){return Ft.lFrame.currentDirectiveIndex}();try{_r(m);for(let T=d;T<f;T++){const E=a.data[T],A=l[T];bu(T),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&X1(E,A)}}finally{_r(-1),bu(v)}}(a,l,u))}function k0(a,l,u=Qi){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],T=-1===v?u(l,a):a[v];a[f++]=T}}}function z1(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=F0(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function F0(a,l,u,d,f,m,v,T,E,A){const R=22+d,L=R+f,q=function NA(a,l){const u=[];for(let d=0;d<l;d++)u.push(d<a?null:qt);return u}(R,L),ee="function"==typeof A?A():A;return q[1]={type:a,blueprint:q,template:u,queries:null,viewQuery:T,declTNode:l,data:q.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:ee,incompleteFirstPass:!1}}function K1(a,l,u,d){const f=$0(l);null===u?f.push(d):(f.push(u),a.firstCreatePass&&rT(a).push(d,f.length-1))}function Y1(a,l,u){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(l,f):u[d]=[l,f]}return u}function Ds(a,l){const d=l.directiveEnd,f=a.data,m=l.attrs,v=[];let T=null,E=null;for(let A=l.directiveStart;A<d;A++){const R=f[A],L=R.inputs,q=null===m||A1(l)?null:LA(L,m);v.push(q),T=Y1(L,A,T),E=Y1(R.outputs,A,E)}null!==T&&(T.hasOwnProperty("class")&&(l.flags|=16),T.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=T,l.outputs=E}function ns(a,l,u,d,f,m,v,T){const E=Qi(l,u);let R,A=l.inputs;!T&&null!=A&&(R=A[d])?(q0(a,u,R,d,f),sl(l)&&U0(u,l.index)):3&l.type&&(d=function L0(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,l.value||"",d):f,m.setProperty(E,d,f))}function U0(a,l){const u=rn(l,a);16&u[2]||(u[2]|=32)}function B0(a,l,u,d){let f=!1;if(ks()){const m=function kA(a,l,u){const d=a.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];kp(u,v.selectors,!1)&&(f||(f=[]),ao(jo(u,l),a,v.type),Yi(v)?(Z0(a,u),f.unshift(v)):f.push(v))}return f}(a,l,u),v=null===d?null:{"":-1};if(null!==m){f=!0,Bp(u,a.data.length,m.length);for(let R=0;R<m.length;R++){const L=m[R];L.providersResolver&&L.providersResolver(L)}let T=!1,E=!1,A=Es(a,l,m.length,null);for(let R=0;R<m.length;R++){const L=m[R];u.mergedAttrs=pl(u.mergedAttrs,L.hostAttrs),eT(a,u,l,A,L),is(A,L,v),null!==L.contentQueries&&(u.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(u.flags|=128);const q=L.type.prototype;!T&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),T=!0),!E&&(q.ngOnChanges||q.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),E=!0),A++}Ds(a,u)}v&&function FA(a,l,u){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const m=u[l[f+1]];if(null==m)throw new Ce(-301,!1);d.push(l[f],m)}}}(u,d,v)}return u.mergedAttrs=pl(u.mergedAttrs,u.attrs),f}function J1(a,l,u,d,f,m){const v=m.hostBindings;if(v){let T=a.hostBindingOpCodes;null===T&&(T=a.hostBindingOpCodes=[]);const E=~l.index;(function PA(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(T)!=E&&T.push(E),T.push(d,f,v)}}function X1(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Z0(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function is(a,l,u){if(u){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)u[l.exportAs[d]]=a;Yi(l)&&(u[""]=a)}}function Bp(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function eT(a,l,u,d,f){a.data[d]=f;const m=f.factory||(f.factory=fs(f.type)),v=new oo(m,Yi(f),Xu);a.blueprint[d]=v,u[d]=v,J1(a,l,0,d,Es(a,u,f.hostVars,qt),f)}function Vp(a,l,u){const d=Qi(l,a),f=z1(u),m=a[10],v=I_(a,Lp(a,f,null,u.onPush?32:16,d,l,m,m.createRenderer(d,u),null,null,null));a[l.index]=v}function H0(a,l,u,d,f,m,v){if(null==m)a.removeAttribute(l,f,u);else{const T=null==v?ve(m):v(m,d||"",f);a.setAttribute(l,f,T,u)}}function tT(a,l,u,d,f,m){const v=m[l];if(null!==v){const T=d.setInput;for(let E=0;E<v.length;){const A=v[E++],R=v[E++],L=v[E++];null!==T?d.setInput(u,L,A,R):u[R]=L}}}function LA(a,l){let u=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return u}function j0(a,l,u,d){return new Array(a,!0,!1,l,null,0,d,u,null,null)}function BA(a,l){const u=rn(l,a);if(Fo(u)){const d=u[1];48&u[2]?ia(d,u,d.template,u[8]):u[5]>0&&_o(u)}}function _o(a){for(let d=xl(a);null!==d;d=Qo(d))for(let f=10;f<d.length;f++){const m=d[f];if(Fo(m))if(512&m[2]){const v=m[1];ia(v,m,v.template,m[8])}else m[5]>0&&_o(m)}const u=a[1].components;if(null!==u)for(let d=0;d<u.length;d++){const f=rn(u[d],a);Fo(f)&&f[5]>0&&_o(f)}}function Za(a,l){const u=rn(l,a),d=u[1];(function D_(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(d,u),E_(d,u,u[8])}function I_(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function G0(a){for(;a;){a[2]|=32;const l=Ml(a);if(Jf(a)&&!l)return a;a=l}return null}function Vl(a,l,u,d=!0){const f=l[10];f.begin&&f.begin();try{ia(a,l,a.template,u)}catch(v){throw d&&oT(l,v),v}finally{f.end&&f.end()}}function A_(a,l,u){fl(0),l(a,u)}function $0(a){return a[7]||(a[7]=[])}function rT(a){return a.cleanup||(a.cleanup=[])}function oT(a,l){const u=a[9],d=u?u.get(vd,null):null;d&&d.handleError(l)}function q0(a,l,u,d,f){for(let m=0;m<u.length;){const v=u[m++],T=u[m++],E=l[v],A=a.data[v];null!==A.setInput?A.setInput(E,f,d,T):E[T]=f}}function Zp(a,l,u){let d=u?a.styles:null,f=u?a.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const T=l[v];"number"==typeof T?m=T:1==m?f=pe(f,T):2==m&&(d=pe(d,T+": "+l[++v]+";"))}u?a.styles=d:a.stylesWithoutHost=d,u?a.classes=f:a.classesWithoutHost=f}function wd(a,l,u,d,f=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&d.push(qn(m)),ar(m))for(let T=10;T<m.length;T++){const E=m[T],A=E[1].firstChild;null!==A&&wd(E[1],E,A,d)}const v=u.type;if(8&v)wd(a,l,u.child,d);else if(32&v){const T=Sh(u,l);let E;for(;E=T();)d.push(E)}else if(16&v){const T=kh(l,u);if(Array.isArray(T))d.push(...T);else{const E=Ml(l[16]);wd(E[1],E,T,d,!0)}}u=f?u.projectionNext:u.next}return d}class Cd{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return wd(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(ar(l)){const u=l[8],d=u?u.indexOf(this):-1;d>-1&&(vp(l,d),Un(u,d))}this._attachedToViewContainer=!1}Qm(this._lView[1],this._lView)}onDestroy(l){K1(this._lView[1],this._lView,null,l)}markForCheck(){G0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Vl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ym(a,l){Ra(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=l}}class VA extends Cd{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Vl(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class W0 extends zu{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=le(l);return new Xi(u,this.ngModule)}}function z0(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class HA{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,d){const f=this.injector.get(l,h_,d);return f!==h_||u===h_?f:this.parentInjector.get(l,u,d)}}class Xi extends ZS{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function rA(a){return a.map(iA).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return z0(this.componentDef.inputs)}get outputs(){return z0(this.componentDef.outputs)}create(l,u,d,f){let m=(f=f||this.ngModule)instanceof Wu?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new HA(l,m):l,T=v.get(Op,null);if(null===T)throw new Ce(407,!1);const E=v.get(WS,null),A=T.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",L=d?function MA(a,l,u){return a.selectRootElement(l,u===Ct.ShadowDom)}(A,d,this.componentDef.encapsulation):Gu(A,R,function ZA(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(R)),q=this.componentDef.onPush?288:272,ee=F0(0,null,null,1,0,null,null,null,null,null),ye=Lp(null,ee,null,q,null,null,T,A,E,v,null);let He,Ye;Cu(ye);try{const ot=function GA(a,l,u,d,f,m){const v=u[1];u[22]=a;const E=nc(v,22,2,"#host",null),A=E.mergedAttrs=l.hostAttrs;null!==A&&(Zp(E,A,!0),null!==a&&(wa(f,a,A),null!==E.classes&&Pa(f,a,E.classes),null!==E.styles&&ws(f,a,E.styles)));const R=d.createRenderer(a,l),L=Lp(u,z1(l),null,l.onPush?32:16,u[22],E,d,R,m||null,null,null);return v.firstCreatePass&&(ao(jo(E,u),v,l.type),Z0(v,E),Bp(E,u.length,1)),I_(u,L),u[22]=L}(L,this.componentDef,ye,T,A);if(L)if(d)wa(A,L,["ng-version",D1.full]);else{const{attrs:At,classes:xe}=function sA(a){const l=[],u=[];let d=1,f=2;for(;d<a.length;){let m=a[d];if("string"==typeof m)2===f?""!==m&&l.push(m,a[++d]):8===f&&u.push(m);else{if(!ta(f))break;f=m}d++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);At&&wa(A,L,At),xe&&xe.length>0&&Pa(A,L,xe.join(" "))}if(Ye=ko(ee,22),void 0!==u){const At=Ye.projection=[];for(let xe=0;xe<this.ngContentSelectors.length;xe++){const kt=u[xe];At.push(null!=kt?Array.from(kt):null)}}He=function $A(a,l,u,d){const f=u[1],m=function Q1(a,l,u){const d=Wn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),eT(a,d,l,Es(a,l,1,null),u),Ds(a,d));const f=Ls(l,a,d.directiveStart,d);ji(f,l);const m=Qi(d,l);return m&&ji(m,l),f}(f,u,l);if(a[8]=u[8]=m,null!==d)for(const T of d)T(m,l);if(l.contentQueries){const T=Wn();l.contentQueries(1,m,T.directiveStart)}const v=Wn();return!f.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(_r(v.index),J1(u[1],v,0,v.directiveStart,v.directiveEnd,l),X1(l,m)),m}(ot,this.componentDef,ye,[ra]),E_(ee,ye,null)}finally{Uo()}return new zh(this.componentType,He,Ku(Ye,ye),ye,Ye)}}class zh extends class w1{}{constructor(l,u,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new VA(f),this.componentType=l}setInput(l,u){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const m=this._rootLView;q0(m[1],m,f,l,u),U0(m,this._tNode.index)}}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function ra(){const a=Wn();Du(Me()[1],a)}function Y0(a){let l=function aT(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const d=[a];for(;l;){let f;if(Yi(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ce(903,!1);f=l.\u0275dir}if(f){if(u){d.push(f);const v=a;v.inputs=Q0(a.inputs),v.declaredInputs=Q0(a.declaredInputs),v.outputs=Q0(a.outputs);const T=f.hostBindings;T&&WA(a,T);const E=f.viewQuery,A=f.contentQueries;if(E&&lT(a,E),A&&Td(a,A),ae(a.inputs,f.inputs),ae(a.declaredInputs,f.declaredInputs),ae(a.outputs,f.outputs),Yi(f)&&f.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const T=m[v];T&&T.ngInherit&&T(a),T===Y0&&(u=!1)}}l=Object.getPrototypeOf(l)}!function qA(a){let l=0,u=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=pl(f.hostAttrs,u=pl(u,f.hostAttrs))}}(d)}function Q0(a){return a===Ai?{}:a===Lt?[]:a}function lT(a,l){const u=a.viewQuery;a.viewQuery=u?(d,f)=>{l(d,f),u(d,f)}:l}function Td(a,l){const u=a.contentQueries;a.contentQueries=u?(d,f,m)=>{l(d,f,m),u(d,f,m)}:l}function WA(a,l){const u=a.hostBindings;a.hostBindings=u?(d,f)=>{l(d,f),u(d,f)}:l}let N_=null;function Ed(){if(!N_){const a=wn.Symbol;if(a&&a.iterator)N_=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const d=l[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(N_=d)}}}return N_}function Dd(a){return!!J0(a)&&(Array.isArray(a)||!(a instanceof Map)&&Ed()in a)}function J0(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function ja(a,l,u){return a[l]=u}function Lr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function Id(a,l,u,d){const f=Lr(a,l,u);return Lr(a,l+1,d)||f}function M_(a,l,u,d){const f=Me();return Lr(f,Lo(),l)&&(Jt(),function Va(a,l,u,d,f,m){const v=Qi(a,l);H0(l[11],v,m,a.value,u,d,f)}(Nn(),f,a,l,u,d)),M_}function ic(a,l,u,d){return Lr(a,Lo(),u)?l+ve(u)+d:qt}function eN(a,l,u,d,f,m,v,T){const E=Me(),A=Jt(),R=a+22,L=A.firstCreatePass?function Dk(a,l,u,d,f,m,v,T,E){const A=l.consts,R=nc(l,a,4,v||null,Qr(A,T));B0(l,u,R,Qr(A,E)),Du(l,R);const L=R.tViews=F0(2,R,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,R),L.queries=l.queries.embeddedTView(R)),R}(R,A,E,l,u,d,f,m,v):A.data[R];Rr(L,!1);const q=E[11].createComment("");Ph(A,E,q,L),ji(q,E),I_(E,E[R]=j0(q,E,q,L)),Mc(L)&&Wh(A,E,L),null!=v&&k0(E,L,T)}function vT(a){return Ps(function Uc(){return Ft.lFrame.contextLView}(),22+a)}function Jh(a,l,u){const d=Me();return Lr(d,Lo(),l)&&ns(Jt(),Nn(),d,a,l,d[11],u,!1),Jh}function x_(a,l,u,d,f){const v=f?"class":"style";q0(a,u,l.inputs[v],v,d)}function vo(a,l,u,d){const f=Me(),m=Jt(),v=22+a,T=f[11],E=f[v]=Gu(T,l,function Eu(){return Ft.lFrame.currentNamespace}()),A=m.firstCreatePass?function bT(a,l,u,d,f,m,v){const T=l.consts,A=nc(l,a,2,f,Qr(T,m));return B0(l,u,A,Qr(T,v)),null!==A.attrs&&Zp(A,A.attrs,!1),null!==A.mergedAttrs&&Zp(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(v,m,f,0,l,u,d):m.data[v];Rr(A,!0);const R=A.mergedAttrs;null!==R&&wa(T,E,R);const L=A.classes;null!==L&&Pa(T,E,L);const q=A.styles;return null!==q&&ws(T,E,q),64!=(64&A.flags)&&Ph(m,f,E,A),0===function gu(){return Ft.lFrame.elementDepthCount}()&&ji(E,f),function mu(){Ft.lFrame.elementDepthCount++}(),Mc(A)&&(Wh(m,f,A),W1(m,A,f)),null!==d&&k0(f,A),vo}function qp(){let a=Wn();ll()?ul():(a=a.parent,Rr(a,!1));const l=a;!function kc(){Ft.lFrame.elementDepthCount--}();const u=Jt();return u.firstCreatePass&&(Du(u,a),ou(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Au(a){return 0!=(16&a.flags)}(l)&&x_(u,l,Me(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function gh(a){return 0!=(32&a.flags)}(l)&&x_(u,l,Me(),l.stylesWithoutHost,!1),qp}function R_(a,l,u,d){return vo(a,l,u,d),qp(),R_}function O_(a,l,u){const d=Me(),f=Jt(),m=a+22,v=f.firstCreatePass?function nN(a,l,u,d,f){const m=l.consts,v=Qr(m,d),T=nc(l,a,8,"ng-container",v);return null!==v&&Zp(T,v,!0),B0(l,u,T,Qr(m,f)),null!==l.queries&&l.queries.elementStart(l,T),T}(m,f,d,l,u):f.data[m];Rr(v,!0);const T=d[m]=d[11].createComment("");return Ph(f,d,T,v),ji(T,d),Mc(v)&&(Wh(f,d,v),W1(f,v,d)),null!=u&&k0(d,v),O_}function P_(){let a=Wn();const l=Jt();return ll()?ul():(a=a.parent,Rr(a,!1)),l.firstCreatePass&&(Du(l,a),ou(a)&&l.queries.elementEnd(a)),P_}function CT(){return Me()}function Wp(a){return!!a&&"function"==typeof a.then}function zp(a){return!!a&&"function"==typeof a.subscribe}const TT=zp;function ET(a,l,u,d){const f=Me(),m=Jt(),v=Wn();return function iN(a,l,u,d,f,m,v,T){const E=Mc(d),R=a.firstCreatePass&&rT(a),L=l[8],q=$0(l);let ee=!0;if(3&d.type||T){const Ye=Qi(d,l),ot=T?T(Ye):Ye,At=q.length,xe=T?vn=>T(qn(vn[d.index])):d.index;let kt=null;if(!T&&E&&(kt=function eb(a,l,u,d){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===u&&f[m+1]===d){const T=l[7],E=f[m+2];return T.length>E?T[E]:null}"string"==typeof v&&(m+=2)}return null}(a,l,f,d.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=m,kt.__ngLastListenerFn__=m,ee=!1;else{m=IT(d,l,L,m,!1);const vn=u.listen(ot,f,m);q.push(m,vn),R&&R.push(f,xe,At,At+1)}}else m=IT(d,l,L,m,!1);const ye=d.outputs;let He;if(ee&&null!==ye&&(He=ye[f])){const Ye=He.length;if(Ye)for(let ot=0;ot<Ye;ot+=2){const Bn=l[He[ot]][He[ot+1]].subscribe(m),zl=q.length;q.push(m,Bn),R&&R.push(f,d.index,zl,-(zl+1))}}}(m,f,f[11],v,a,l,0,d),ET}function rN(a,l,u,d){try{return!1!==u(d)}catch(f){return oT(a,f),!1}}function IT(a,l,u,d,f){return function m(v){if(v===Function)return d;G0(2&a.flags?rn(a.index,l):l);let E=rN(l,0,d,v),A=m.__ngNextListenerFn__;for(;A;)E=rN(l,0,A,v)&&E,A=A.__ngNextListenerFn__;return f&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function ST(a=1){return function Bo(a){return(Ft.lFrame.contextLView=function Tu(a,l){for(;a>0;)l=l[15],a--;return l}(a,Ft.lFrame.contextLView))[8]}(a)}function Ik(a,l){let u=null;const d=function sk(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?kp(a,m,!0):nA(d,m))return f}else u=f}return u}function sN(a){const l=Me()[16][6];if(!l.projection){const d=l.projection=co(a?a.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const v=a?Ik(m,a):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function oN(a,l=0,u){const d=Me(),f=Jt(),m=nc(f,22+a,16,null,u||null);null===m.projection&&(m.projection=l),ul(),64!=(64&m.flags)&&function kr(a,l,u){Oa(l[11],0,l,u,Mh(a,u,l),Cp(u.parent||l[6],u,l))}(f,d,m)}function AT(a,l,u){return tb(a,"",l,"",u),AT}function tb(a,l,u,d,f){const m=Me(),v=ic(m,l,u,d);return v!==qt&&ns(Jt(),Nn(),m,a,v,m[11],f,!1),tb}function MT(a,l,u,d,f){const m=a[u+1],v=null===l;let T=d?js(m):Bl(m),E=!1;for(;0!==T&&(!1===E||v);){const R=a[T+1];cN(a[T],l)&&(E=!0,a[T+1]=d?Z1(R):V1(R)),T=d?js(R):Bl(R)}E&&(a[u+1]=d?V1(m):Z1(m))}function cN(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&ho(a,l)>=0}const er={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rb(a){return a.substring(er.key,er.keyEnd)}function xT(a,l){const u=er.textEnd;return u===l?-1:(l=er.keyEnd=function sb(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,er.key=l,u),Md(a,l,u))}function Md(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function ab(a,l,u){return wo(a,l,u,!1),ab}function lb(a,l){return wo(a,l,null,!0),lb}function ub(a){sa(Ke,Gs,a,!0)}function Gs(a,l){for(let u=function hN(a){return function Kp(a){er.key=0,er.keyEnd=0,er.value=0,er.valueEnd=0,er.textEnd=a.length}(a),xT(a,Md(a,0,er.textEnd))}(l);u>=0;u=xT(l,u))Ke(a,rb(l),!0)}function wo(a,l,u,d){const f=Me(),m=Jt(),v=Fs(2);m.firstUpdatePass&&PT(m,a,v,d),l!==qt&&Lr(f,v,l)&&B_(m,m.data[_i()],f,f[11],a,f[v+1]=function BT(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=fe(Oi(a)))),a}(l,u),d,v)}function sa(a,l,u,d){const f=Jt(),m=Fs(2);f.firstUpdatePass&&PT(f,null,m,d);const v=Me();if(u!==qt&&Lr(v,m,u)){const T=f.data[_i()];if(hb(T,d)&&!OT(f,m)){let E=d?T.classesWithoutHost:T.stylesWithoutHost;null!==E&&(u=pe(E,u||"")),x_(f,T,v,u,d)}else!function db(a,l,u,d,f,m,v,T){f===qt&&(f=Lt);let E=0,A=0,R=0<f.length?f[0]:null,L=0<m.length?m[0]:null;for(;null!==R||null!==L;){const q=E<f.length?f[E+1]:void 0,ee=A<m.length?m[A+1]:void 0;let He,ye=null;R===L?(E+=2,A+=2,q!==ee&&(ye=L,He=ee)):null===L||null!==R&&R<L?(E+=2,ye=R):(A+=2,ye=L,He=ee),null!==ye&&B_(a,l,u,d,ye,He,v,T),R=E<f.length?f[E]:null,L=A<m.length?m[A]:null}}(f,T,v,v[11],v[m+1],v[m+1]=function Jp(a,l,u){if(null==u||""===u)return Lt;const d=[],f=Oi(u);if(Array.isArray(f))for(let m=0;m<f.length;m++)a(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&a(d,m,f[m]);else"string"==typeof f&&l(d,f);return d}(a,l,u),d,m)}}function OT(a,l){return l>=a.expandoStartIndex}function PT(a,l,u,d){const f=a.data;if(null===f[u+1]){const m=f[_i()],v=OT(a,u);hb(m,d)&&null===l&&!v&&(l=!1),l=function pN(a,l,u,d){const f=function hl(a){const l=Ft.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(u=Xh(u=Qp(null,a,l,u,d),l.attrs,d),m=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(u=Qp(f,a,l,u,d),null===m){let E=function kT(a,l,u){const d=u?l.classBindings:l.styleBindings;if(0!==Bl(d))return a[js(d)]}(a,l,d);void 0!==E&&Array.isArray(E)&&(E=Qp(null,a,l,E[1],d),E=Xh(E,l.attrs,d),function cb(a,l,u,d){a[js(u?l.classBindings:l.styleBindings)]=d}(a,l,d,E))}else m=function FT(a,l,u){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=Xh(d,a[m].hostAttrs,u);return Xh(d,l.attrs,u)}(a,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),u}(f,m,l,d),function F_(a,l,u,d,f,m){let v=m?l.classBindings:l.styleBindings,T=js(v),E=Bl(v);a[d]=u;let R,A=!1;if(Array.isArray(u)){const L=u;R=L[1],(null===R||ho(L,R)>0)&&(A=!0)}else R=u;if(f)if(0!==E){const q=js(a[T+1]);a[d+1]=v_(q,T),0!==q&&(a[q+1]=N0(a[q+1],d)),a[T+1]=function hk(a,l){return 131071&a|l<<17}(a[T+1],d)}else a[d+1]=v_(T,0),0!==T&&(a[T+1]=N0(a[T+1],d)),T=d;else a[d+1]=v_(E,0),0===T?T=d:a[E+1]=N0(a[E+1],d),E=d;A&&(a[d+1]=V1(a[d+1])),MT(a,R,d,!0),MT(a,R,d,!1),function ib(a,l,u,d,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&ho(m,l)>=0&&(u[d+1]=Z1(u[d+1]))}(l,R,a,d,m),v=v_(T,E),m?l.classBindings=v:l.styleBindings=v}(f,m,l,u,v,d)}}function Qp(a,l,u,d,f){let m=null;const v=u.directiveEnd;let T=u.directiveStylingLast;for(-1===T?T=u.directiveStart:T++;T<v&&(m=l[T],d=Xh(d,m.hostAttrs,f),m!==a);)T++;return null!==a&&(u.directiveStylingLast=T),d}function Xh(a,l,u){const d=u?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ke(a,v,!!u||l[++m]))}return void 0===a?null:a}function B_(a,l,u,d,f,m,v,T){if(!(3&l.type))return;const E=a.data,A=E[T+1];ef(function bA(a){return 1==(1&a)}(A)?UT(E,l,u,f,Bl(A),v):void 0)||(ef(m)||function B1(a){return 2==(2&a)}(A)&&(m=UT(E,null,u,f,T,v)),function o0(a,l,u,d,f){if(l)f?a.addClass(u,d):a.removeClass(u,d);else{let m=-1===d.indexOf("-")?void 0:Hs.DashCase;null==f?a.removeStyle(u,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Hs.Important),a.setStyle(u,d,f,m))}}(d,v,xr(_i(),u),f,m))}function UT(a,l,u,d,f,m){const v=null===l;let T;for(;f>0;){const E=a[f],A=Array.isArray(E),R=A?E[1]:E,L=null===R;let q=u[f+1];q===qt&&(q=L?Lt:void 0);let ee=L?Dl(q,d):R===d?q:void 0;if(A&&!ef(ee)&&(ee=Dl(E,d)),ef(ee)&&(T=ee,v))return T;const ye=a[f+1];f=v?js(ye):Bl(ye)}if(null!==l){let E=m?l.residualClasses:l.residualStyles;null!=E&&(T=Dl(E,d))}return T}function ef(a){return void 0!==a}function hb(a,l){return 0!=(a.flags&(l?16:32))}function V_(a,l=""){const u=Me(),d=Jt(),f=a+22,m=d.firstCreatePass?nc(d,f,1,l,null):d.data[f],v=u[f]=Ah(u[11],l);Ph(d,u,v,m),Rr(m,!1)}function fb(a){return Z_("",a,""),fb}function Z_(a,l,u){const d=Me(),f=ic(d,a,l,u);return f!==qt&&function Ha(a,l,u){const d=xr(l,a);_p(a[11],d,u)}(d,_i(),f),Z_}function mb(a,l,u,d,f){sa(Ke,Gs,function Sd(a,l,u,d,f,m){const T=Id(a,gs(),u,f);return Fs(2),T?l+ve(u)+d+ve(f)+m:qt}(Me(),a,l,u,d,f),!0)}function eg(a,l,u){const d=Me();return Lr(d,Lo(),l)&&ns(Jt(),Nn(),d,a,l,d[11],u,!0),eg}const xd=void 0;var xN=["en",[["a","p"],["AM","PM"],xd],[["AM","PM"],xd,xd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xd,"{1} 'at' {0}",xd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $T(a){const u=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Rd={};function Od(a){const l=function ON(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=RN(l);if(u)return u;const d=l.split("-")[0];if(u=RN(d),u)return u;if("en"===d)return xN;throw new Ce(701,!1)}function q_(a){return Od(a)[Pt.PluralCase]}function RN(a){return a in Rd||(Rd[a]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[a]),Rd[a]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const PN=["zero","one","two","few","many"],tg="en-US",Tb={marker:"element"},Eb={marker:"ICU"};var Pi=(()=>((Pi=Pi||{})[Pi.SHIFT=2]="SHIFT",Pi[Pi.APPEND_EAGERLY=1]="APPEND_EAGERLY",Pi[Pi.COMMENT=2]="COMMENT",Pi))();let FN=tg;function W_(a){(function Pe(a,l){null==a&&Ee(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(FN=a.toLowerCase().replace(/_/g,"-"))}function Db(a,l,u){const d=l.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?hd(a,0,u):qn(u[f])}function ng(a,l,u,d,f){const m=l.insertBeforeIndex;if(Array.isArray(m)){let v=d,T=null;if(3&l.type||(T=v,v=f),null!==v&&0==(2&l.flags))for(let E=1;E<m.length;E++)ea(a,v,u[m[E]],T,!1)}}function WT(a,l){if(a.push(l),a.length>1)for(let u=a.length-2;u>=0;u--){const d=a[u];zT(d)||UN(d,l)&&null===BN(d)&&Ib(d,l.index)}}function zT(a){return!(64&a.type)}function UN(a,l){return zT(l)||a.index>l.index}function BN(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function Ib(a,l){const u=a.insertBeforeIndex;Array.isArray(u)?u[0]=l:(Oh(Db,ng),a.insertBeforeIndex=l)}function z_(a,l){const u=a.data[l];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function Sb(a,l,u){const d=Up(a,u,64,null,null);return WT(l,d),d}function rc(a,l){const u=l[a.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function KT(a){return a>>>17}function HN(a){return(131070&a)>>>1}let pt=0,Pd=0;function nf(a,l,u,d){const f=u[11];let v,m=null;for(let T=0;T<l.length;T++){const E=l[T];if("string"==typeof E){const A=l[++T];null===u[A]&&(u[A]=Ah(f,E))}else if("number"==typeof E)switch(1&E){case 0:const A=KT(E);let R,L;if(null===m&&(m=A,v=dr(f,d)),A===m?(R=d,L=v):(R=null,L=qn(u[A])),null!==L){const He=HN(E);ea(f,L,u[He],R,!1);const ot=z_(a,He);if(null!==ot&&"object"==typeof ot){const At=rc(ot,u);null!==At&&nf(a,ot.create[At],u,u[ot.anchorIdx])}}break;case 1:const ee=l[++T],ye=l[++T];H0(f,xr(E>>>1,u),null,null,ee,ye,null)}else switch(E){case Eb:const A=l[++T],R=l[++T];null===u[R]&&ji(u[R]=Xo(f,A),u);break;case Tb:const L=l[++T],q=l[++T];null===u[q]&&ji(u[q]=Gu(f,L,null),u)}}}function QT(a,l,u,d,f){for(let m=0;m<u.length;m++){const v=u[m],T=u[++m];if(v&f){let E="";for(let A=m+1;A<=m+T;A++){const R=u[A];if("string"==typeof R)E+=R;else if("number"==typeof R)if(R<0)E+=ve(l[d-R]);else{const L=R>>>2;switch(3&R){case 1:const q=u[++A],ee=u[++A],ye=a.data[L];"string"==typeof ye?H0(l[11],l[L],null,ye,q,E,ee):ns(a,ye,l,q,E,l[11],ee,!1);break;case 0:const He=l[L];null!==He&&_p(l[11],He,E);break;case 2:jN(a,z_(a,L),l,E);break;case 3:Q_(a,z_(a,L),d,l)}}}}else{const E=u[m+1];if(E>0&&3==(3&E)){const R=z_(a,E>>>2);l[R.currentCaseLViewIndex]<0&&Q_(a,R,d,l)}}m+=T}}function Q_(a,l,u,d){let f=d[l.currentCaseLViewIndex];if(null!==f){let m=pt;f<0&&(f=d[l.currentCaseLViewIndex]=~f,m=-1),QT(a,d,l.update[f],u,m)}}function jN(a,l,u,d){const f=function GN(a,l){let u=a.cases.indexOf(l);if(-1===u)switch(a.type){case 1:{const d=function Mk(a,l){const u=q_(l)(parseInt(a,10)),d=PN[u];return void 0!==d?d:"other"}(l,function LN(){return FN}());u=a.cases.indexOf(d),-1===u&&"other"!==d&&(u=a.cases.indexOf("other"));break}case 0:u=a.cases.indexOf("other")}return-1===u?null:u}(l,d);if(rc(l,u)!==f&&(JT(a,l,u),u[l.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const v=u[l.anchorIdx];v&&nf(a,l.create[f],u,v)}}function JT(a,l,u){let d=rc(l,u);if(null!==d){const f=l.remove[d];for(let m=0;m<f.length;m++){const v=f[m];if(v>0){const T=xr(v,u);null!==T&&Fh(u[11],T)}else JT(a,z_(a,~v),u)}}}function Br(){const a=[];let u,d,l=-1;function m(T,E){l=0;const A=rc(T,E);d=null!==A?T.remove[A]:Lt}function v(){if(l<d.length){const T=d[l++];return T>0?u[T]:(a.push(l,d),m(u[1].data[~T],u),v())}return 0===a.length?null:(d=a.pop(),l=a.pop(),v())}return function f(T,E){for(u=E;a.length;)a.pop();return m(T.value,E),v}}const rf=/\ufffd(\d+):?\d*\ufffd/gi,Zr=/\ufffd(\d+)\ufffd/,eE=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,tE=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Mb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,J_=/\uE500/g;function nE(a,l,u,d,f,m,v){const T=Es(a,d,1,null);let E=T<<Pi.SHIFT,A=_a();l===A&&(A=null),null===A&&(E|=Pi.APPEND_EAGERLY),v&&(E|=Pi.COMMENT,function $m(a){void 0===Ih&&(Ih=a())}(Br)),f.push(E,null===m?"":m);const R=Up(a,T,v?32:1,null===m?"":m,null);WT(u,R);const L=R.index;return Rr(R,!1),null!==A&&l!==A&&function ZN(a,l){let u=a.insertBeforeIndex;null===u?(Oh(Db,ng),u=a.insertBeforeIndex=[null,l]):(function me(a,l,u){a!=l&&Ee(u,a,l,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(l))}(A,L),R}function $N(a,l,u,d,f,m,v){const T=v.match(rf),E=nE(a,l,u,m,d,T?null:v,!1);T&&af(f,v,E.index,null,0,null)}function af(a,l,u,d,f,m){const v=a.length,T=v+1;a.push(null,null);const E=v+2,A=l.split(rf);let R=0;for(let L=0;L<A.length;L++){const q=A[L];if(1&L){const ee=f+parseInt(q,10);a.push(-1-ee),R|=Ob(ee)}else""!==q&&a.push(q)}return a.push(u<<2|(d?1:0)),d&&a.push(d,m),a[v]=R,a[T]=a.length-E,R}function Ob(a){return 1<<Math.min(a,31)}function Pb(a){let l,m,u="",d=0,f=!1;for(;null!==(l=tE.exec(a));)f?l[0]===`\ufffd/*${m}\ufffd`&&(d=l.index,f=!1):(u+=a.substring(d,l.index+l[0].length),m=l[1],f=!0);return u+=a.slice(d),u}function ey(a,l,u,d,f,m){let v=0;const T={type:f.type,currentCaseLViewIndex:Es(a,l,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function zN(a,l,u){a.push(Ob(l.mainBinding),2,-1-l.mainBinding,u<<2|2)})(u,f,m),function VN(a,l,u){const d=a.data[l];null===d?a.data[l]=u:d.value=u}(a,m,T);const E=f.values;for(let A=0;A<E.length;A++){const R=E[A],L=[];for(let q=0;q<R.length;q++){const ee=R[q];if("string"!=typeof ee){const ye=L.push(ee)-1;R[q]=`\x3c!--\ufffd${ye}\ufffd--\x3e`}}v=WN(a,T,l,u,d,f.cases[A],R.join(""),L)|v}v&&function rg(a,l,u){a.push(l,1,u<<2|3)}(u,v,m)}function kb(a){const l=[],u=[];let d=1,f=0;const m=ig(a=a.replace(eE,function(v,T,E){return d="select"===E?0:1,f=parseInt(T.slice(1),10),""}));for(let v=0;v<m.length;){let T=m[v++].trim();1===d&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&l.push(T);const E=ig(m[v++]);l.length>u.length&&u.push(E)}return{type:d,mainBinding:f,cases:l,values:u}}function ig(a){if(!a)return[];let l=0;const u=[],d=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(a);){const T=m.index;if("}"==m[0]){if(u.pop(),0==u.length){const E=a.substring(l,T);eE.test(E)?d.push(kb(E)):d.push(E),l=T+1}}else{if(0==u.length){const E=a.substring(l,T);d.push(E),l=T+1}u.push("{")}}const v=a.substring(l);return d.push(v),d}function WN(a,l,u,d,f,m,v,T){const E=[],A=[],R=[];l.cases.push(m),l.create.push(E),l.remove.push(A),l.update.push(R);const q=function Fa(a){const l=new r_(a);return function l0(){try{return!!(new window.DOMParser).parseFromString(ka(""),"text/html")}catch{return!1}}()?new Pl(l):l}(function g(){return void 0!==Sp?Sp:typeof document<"u"?document:void 0}()).getInertBodyElement(v),ee=function o_(a){return"content"in a&&function AS(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}(q)||q;return ee?iE(a,l,u,d,E,A,R,ee,f,T,0):0}function iE(a,l,u,d,f,m,v,T,E,A,R){let L=0,q=T.firstChild;for(;q;){const ee=Es(a,u,1,null);switch(q.nodeType){case Node.ELEMENT_NODE:const ye=q,He=ye.tagName.toLowerCase();if(Np.hasOwnProperty(He)){Fb(f,Tb,He,E,ee),a.data[ee]=He;const xe=ye.attributes;for(let kt=0;kt<xe.length;kt++){const vn=xe.item(kt),Bn=vn.name.toLowerCase();vn.value.match(rf)?u1.hasOwnProperty(Bn)&&af(v,vn.value,ee,vn.name,0,Uh[Bn]?Fl:null):sg(f,ee,vn)}L=iE(a,l,u,d,f,m,v,q,ee,A,R+1)|L,ty(m,ee,R)}break;case Node.TEXT_NODE:const Ye=q.textContent||"",ot=Ye.match(rf);Fb(f,null,ot?"":Ye,E,ee),ty(m,ee,R),ot&&(L=af(v,Ye,ee,null,0,null)|L);break;case Node.COMMENT_NODE:const At=Zr.exec(q.textContent||"");if(At){const kt=A[parseInt(At[1],10)];Fb(f,Eb,"",E,ee),ey(a,u,d,E,kt,ee),rE(m,ee,R)}}q=q.nextSibling}return L}function ty(a,l,u){0===u&&a.push(l)}function rE(a,l,u){0===u&&(a.push(~l),a.push(l))}function Fb(a,l,u,d,f){null!==l&&a.push(l),a.push(u,f,function Zl(a,l,u){return a|l<<17|u<<1}(0,d,f))}function sg(a,l,u){a.push(l<<1|1,u.name,u.value)}function ry(a,l,u=-1){const d=Jt(),f=Me(),m=22+a,v=Qr(d.consts,l),T=_a();d.firstCreatePass&&function xb(a,l,u,d,f,m){const v=_a(),T=[],E=[],A=[[]];f=function X_(a,l){if(function qN(a){return-1===a}(l))return Pb(a);{const u=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,d=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return Pb(a.substring(u,d))}}(f,m);const R=function $a(a){return a.replace(J_," ")}(f).split(Mb);for(let L=0;L<R.length;L++){let q=R[L];if(0==(1&L)){const ee=ig(q);for(let ye=0;ye<ee.length;ye++){let He=ee[ye];if(0==(1&ye)){const Ye=He;""!==Ye&&$N(a,v,A[0],T,E,u,Ye)}else{const Ye=He;if("object"!=typeof Ye)throw new Error(`Unable to parse ICU expression in "${f}" message.`);ey(a,u,E,l,Ye,nE(a,v,A[0],u,T,"",!0).index)}}}else{const ee=47===q.charCodeAt(0),He=(q.charCodeAt(ee?1:0),22+Number.parseInt(q.substring(ee?2:1)));if(ee)A.shift(),Rr(_a(),!1);else{const Ye=Sb(a,A[0],He);A.unshift([]),Rr(Ye,!0)}}}a.data[d]={create:T,update:E}}(d,null===T?0:T.index,f,m,v,u);const E=d.data[m],R=xh(d,T===f[6]?null:T,f);(function Y_(a,l,u,d){const f=a[11];for(let m=0;m<l.length;m++){const v=l[m++],T=l[m],E=(v&Pi.COMMENT)===Pi.COMMENT,A=(v&Pi.APPEND_EAGERLY)===Pi.APPEND_EAGERLY,R=v>>>Pi.SHIFT;let L=a[R];null===L&&(L=a[R]=E?f.createComment(T):Ah(f,T)),A&&null!==u&&ea(f,u,L,d,!1)}})(f,E.create,R,T&&8&T.type?f[T.index]:null),dl(!0)}function oy(a,l,u){ry(a,l,u),function sy(){dl(!1)}()}function ay(a){return function $t(a){a&&(pt|=1<<Math.min(Pd,31)),Pd++}(Lr(Me(),Lo(),a)),ay}function cE(a){!function K_(a,l,u){if(Pd>0){const d=a.data[u];QT(a,l,Array.isArray(d)?d:d.update,gs()-Pd-1,pt)}pt=0,Pd=0}(Jt(),Me(),a+22)}function og(a,l,u,d,f){if(a=Y(a),Array.isArray(a))for(let m=0;m<a.length;m++)og(a[m],l,u,d,f);else{const m=Jt(),v=Me();let T=_d(a)?a:Y(a.provide),E=v1(a);const A=Wn(),R=1048575&A.providerIndexes,L=A.directiveStart,q=A.providerIndexes>>20;if(_d(a)||!a.multi){const ee=new oo(E,f,Xu),ye=ag(T,l,f?R:R+q,L);-1===ye?(ao(jo(A,v),m,T),ly(m,a,l.length),l.push(T),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),u.push(ee),v.push(ee)):(u[ye]=ee,v[ye]=ee)}else{const ee=ag(T,l,R+q,L),ye=ag(T,l,R,R+q),He=ee>=0&&u[ee],Ye=ye>=0&&u[ye];if(f&&!Ye||!f&&!He){ao(jo(A,v),m,T);const ot=function Tr(a,l,u,d,f){const m=new oo(a,u,Xu);return m.multi=[],m.index=l,m.componentProviders=0,fE(m,f,d&&!u),m}(f?Vb:Bb,u.length,f,d,E);!f&&Ye&&(u[ye].providerFactory=ot),ly(m,a,l.length,0),l.push(T),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),u.push(ot),v.push(ot)}else ly(m,a,ee>-1?ee:ye,fE(u[f?ye:ee],E,!f&&d));!f&&d&&Ye&&u[ye].componentProviders++}}}function ly(a,l,u,d){const f=_d(l),m=function kS(a){return!!a.useClass}(l);if(f||m){const E=(m?Y(l.useClass):l).prototype.ngOnDestroy;if(E){const A=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const R=A.indexOf(u);-1===R?A.push(u,[d,E]):A[R+1].push(d,E)}else A.push(u,E)}}}function fE(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function ag(a,l,u,d){for(let f=u;f<d;f++)if(l[f]===a)return f;return-1}function Bb(a,l,u,d){return Gi(this.multi,[])}function Vb(a,l,u,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,T=Ls(u,u[1],this.providerFactory.index,d);m=T.slice(0,v),Gi(f,m);for(let E=v;E<T.length;E++)m.push(T[E])}else m=[],Gi(f,m);return m}function Gi(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function lg(a,l=[]){return u=>{u.providersResolver=(d,f)=>function hE(a,l,u){const d=Jt();if(d.firstCreatePass){const f=Yi(a);og(u,d.data,d.blueprint,f,!0),og(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class oc{}class pE{}function YN(a,l){return new gE(a,l??null)}class gE extends oc{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new W0(this);const d=Qt(l);this._bootstrapComponents=La(d.bootstrap),this._r3Injector=C0(l,u,[{provide:oc,useValue:this},{provide:zu,useValue:this.componentFactoryResolver}],fe(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Zb extends pE{constructor(l){super(),this.moduleType=l}create(l){return new gE(this.moduleType,l)}}class mE extends oc{constructor(l,u,d){super(),this.componentFactoryResolver=new W0(this),this.instance=null;const f=new m0([...l,{provide:oc,useValue:this},{provide:zu,useValue:this.componentFactoryResolver}],u||Rp(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function ug(a,l,u=null){return new mE(a,l,u).injector}let JN=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=g1(0,u.type),f=d.length>0?ug([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=st({token:a,providedIn:"environment",factory:()=>new a(zt(Wu))}),a})();function uy(a){a.getStandaloneInjector=l=>l.get(JN).getOrCreateStandaloneInjector(a)}function jb(a,l,u){const d=zn()+a,f=Me();return f[d]===qt?ja(f,d,u?l.call(u):l()):function Kh(a,l){return a[l]}(f,d)}function pg(a,l,u,d){return $b(Me(),zn(),a,l,u,d)}function Gb(a,l,u,d,f){return function qb(a,l,u,d,f,m,v){const T=l+u;return Id(a,T,f,m)?ja(a,T+2,v?d.call(v,f,m):d(f,m)):Ld(a,T+2)}(Me(),zn(),a,l,u,d,f)}function lf(a,l,u,d,f,m){return function uf(a,l,u,d,f,m,v,T){const E=l+u;return function Hp(a,l,u,d,f){const m=Id(a,l,u,d);return Lr(a,l+2,f)||m}(a,E,f,m,v)?ja(a,E+3,T?d.call(T,f,m,v):d(f,m,v)):Ld(a,E+3)}(Me(),zn(),a,l,u,d,f,m)}function Ld(a,l){const u=a[l];return u===qt?void 0:u}function $b(a,l,u,d,f,m){const v=l+u;return Lr(a,v,f)?ja(a,v+1,m?d.call(m,f):d(f)):Ld(a,v+1)}function my(a,l){const u=Jt();let d;const f=a+22;u.firstCreatePass?(d=function _y(a,l){if(l)for(let u=l.length-1;u>=0;u--){const d=l[u];if(a===d.name)return d}}(l,u.pipeRegistry),u.data[f]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,d.onDestroy)):d=u.data[f];const m=d.factory||(d.factory=fs(d.type)),v=Ii(Xu);try{const T=_l(!1),E=m();return _l(T),function tN(a,l,u,d){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=d}(u,Me(),f,E),E}finally{Ii(v)}}function Wb(a,l,u){const d=a+22,f=Me(),m=Ps(f,d);return function cf(a,l){return a[1].data[l].pure}(f,d)?$b(f,zn(),l,m.transform,u,m):m.transform(u)}function by(a){return l=>{setTimeout(a,void 0,l)}}const qa=class TE extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,d){let f=l,m=u||(()=>null),v=d;if(l&&"object"==typeof l){const E=l;f=E.next?.bind(E),m=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(m=by(m),f&&(f=by(f)),v&&(v=by(v)));const T=super.subscribe({next:f,error:m,complete:v});return l instanceof X.w0&&l.add(T),T}};function mg(){return this._results[Ed()]()}class wy{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ed(),d=wy.prototype;d[u]||(d[u]=mg)}get changes(){return this._changes||(this._changes=new qa)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const d=this;d.dirty=!1;const f=en(l);(this._changesDetected=!function gn(a,l,u){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],m=l[d];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ac=(()=>{class a{}return a.__NG_ELEMENT_ID__=Yb,a})();const _g=ac,Ud=class extends _g{constructor(l,u,d){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(l,u){const d=this._declarationTContainer.tViews,f=Lp(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,u||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),E_(d,f,l),new Cd(f)}};function Yb(){return Cy(Wn(),Me())}function Cy(a,l){return 4&a.type?new Ud(l,a,Ku(a,l)):null}let Ty=(()=>{class a{}return a.__NG_ELEMENT_ID__=EE,a})();function EE(){return yg(Wn(),Me())}const DE=Ty,IE=class extends DE{constructor(l,u,d){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=d}get element(){return Ku(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const l=Ru(this._hostTNode,this._hostLView);if(_h(l)){const u=ml(l,this._hostLView),d=xi(l);return new $o(u[1].data[d+8],u)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=lc(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const v=l.createEmbeddedView(u||{},m);return this.insert(v,f),v}createComponent(l,u,d,f,m){const v=l&&!function vr(a){return"function"==typeof a}(l);let T;if(v)T=u;else{const L=u||{};T=L.index,d=L.injector,f=L.projectableNodes,m=L.environmentInjector||L.ngModuleRef}const E=v?l:new Xi(le(l)),A=d||this.parentInjector;if(!m&&null==E.ngModule){const q=(v?A:this.parentInjector).get(Wu,null);q&&(m=q)}const R=E.create(A,f,void 0,m);return this.insert(R.hostView,T),R}insert(l,u){const d=l._lView,f=d[1];if(function hu(a){return ar(a[3])}(d)){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const L=d[3],q=new IE(L,L[6],L[3]);q.detach(q.indexOf(l))}}const m=this._adjustIndex(u),v=this._lContainer;!function cd(a,l,u,d){const f=10+d,m=u.length;d>0&&(u[f-1][4]=l),d<m-10?(l[4]=u[f],Tl(u,10+d,l)):(u.push(l),l[4]=null),l[3]=u;const v=l[17];null!==v&&u!==v&&function r0(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(v,l);const T=l[19];null!==T&&T.insertView(a),l[2]|=64}(f,d,v,m);const T=fd(m,v),E=d[11],A=dr(E,v[7]);return null!==A&&function Nh(a,l,u,d,f,m){d[0]=f,d[6]=l,Ra(a,d,u,1,f,m)}(f,v[6],E,d,A,T),l.attachToViewContainerRef(),Tl(oa(v),m,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=lc(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),d=vp(this._lContainer,u);d&&(Un(oa(this._lContainer),u),Qm(d[1],d))}detach(l){const u=this._adjustIndex(l,-1),d=vp(this._lContainer,u);return d&&null!=Un(oa(this._lContainer),u)?new Cd(d):null}_adjustIndex(l,u=0){return l??this.length+u}};function lc(a){return a[8]}function oa(a){return a[8]||(a[8]=[])}function yg(a,l){let u;const d=l[a.index];if(ar(d))u=d;else{let f;if(8&a.type)f=qn(d);else{const m=l[11];f=m.createComment("");const v=Qi(a,l);ea(m,dr(m,v),f,function Ol(a,l){return a.nextSibling(l)}(m,v),!1)}l[a.index]=u=j0(d,l,f,a),I_(l,u)}return new IE(u,a,l)}class df{constructor(l){this.queryList=l,this.matches=null}clone(){return new df(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bd{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const d=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let m=0;m<d;m++){const v=u.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new Bd(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==nw(l,u).matches&&this.queries[u].setDirty()}}class hf{constructor(l,u,d=null){this.predicate=l,this.flags=u,this.read=d}}class Qb{constructor(l=[]){this.queries=l}elementStart(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new Qb(u):null}template(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Dy{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new Dy(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,u,sM(u,m)),this.matchTNodeWithReadOption(l,u,Ca(u,l,m,!1,!1))}else d===ac?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Ca(u,l,d,!1,!1))}matchTNodeWithReadOption(l,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===yd||f===Ty||f===ac&&4&u.type)this.addMatch(u.index,-2);else{const m=Ca(u,l,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function sM(a,l){const u=a.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===l)return u[d+1];return null}function aM(a,l,u,d){return-1===u?function oM(a,l){return 11&a.type?Ku(a,l):4&a.type?Cy(a,l):null}(l,a):-2===u?function lM(a,l,u){return u===yd?Ku(l,a):u===ac?Cy(l,a):u===Ty?yg(l,a):void 0}(a,l,d):Ls(a,a[1],u,l)}function ff(a,l,u,d){const f=l[19].queries[d];if(null===f.matches){const m=a.data,v=u.matches,T=[];for(let E=0;E<v.length;E+=2){const A=v[E];T.push(A<0?null:aM(l,m[A],v[E+1],u.metadata.read))}f.matches=T}return f.matches}function Wa(a,l,u,d){const f=a.queries.getByIndex(u),m=f.matches;if(null!==m){const v=ff(a,l,f,u);for(let T=0;T<m.length;T+=2){const E=m[T];if(E>0)d.push(v[T/2]);else{const A=m[T+1],R=l[-E];for(let L=10;L<R.length;L++){const q=R[L];q[17]===q[3]&&Wa(q[1],q,A,d)}if(null!==R[9]){const L=R[9];for(let q=0;q<L.length;q++){const ee=L[q];Wa(ee[1],ee,A,d)}}}}}return d}function Jb(a){const l=Me(),u=Jt(),d=Zc();fl(d+1);const f=nw(u,d);if(a.dirty&&function du(a){return 4==(4&a[2])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?Wa(u,l,d,[]):ff(u,l,f,d);a.reset(m,GS),a.notifyOnChanges()}return!0}return!1}function Xb(a,l,u){const d=Jt();d.firstCreatePass&&(tw(d,new hf(a,l,u),-1),2==(2&l)&&(d.staticViewQueries=!0)),AE(d,Me(),l)}function ew(a,l,u,d){const f=Jt();if(f.firstCreatePass){const m=Wn();tw(f,new hf(l,u,d),m.index),function cM(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}AE(f,Me(),u)}function Vd(){return function uM(a,l){return a[19].queries[l].queryList}(Me(),Zc())}function AE(a,l,u){const d=new wy(4==(4&u));K1(a,l,d,d.destroy),null===l[19]&&(l[19]=new Bd),l[19].queries.push(new df(d))}function tw(a,l,u){null===a.queries&&(a.queries=new Qb),a.queries.track(new Dy(l,u))}function nw(a,l){return a.queries.getByIndex(l)}function iw(a,l){return Cy(a,l)}function My(...a){}const _w=new Mn("Application Initializer");let xy=(()=>{class a{constructor(u){this.appInits=u,this.resolve=My,this.reject=My,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Wp(m))u.push(m);else if(TT(m)){const v=new Promise((T,E)=>{m.subscribe({complete:T,error:E})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(f=>{this.reject(f)}),0===u.length&&d(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(zt(_w,8))},a.\u0275prov=st({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Sg=new Mn("AppId",{providedIn:"root",factory:function $E(){return`${$i()}${$i()}${$i()}`}});function $i(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Hd=new Mn("Platform Initializer"),hc=new Mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ry=new Mn("appBootstrapListener");let ki=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=st({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const mf=new Mn("LocaleId",{providedIn:"root",factory:()=>D(mf,rt.Optional|rt.SkipSelf)||function jd(){return typeof $localize<"u"&&$localize.locale||tg}()}),ft=new Mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ue{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let ke=(()=>{class a{compileModuleSync(u){return new Zb(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),m=La(Qt(u).declarations).reduce((v,T)=>{const E=le(T);return E&&v.push(new Xi(E)),v},[]);return new ue(d,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=st({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const zE=(()=>Promise.resolve(0))();function yw(a){typeof Zone>"u"?zE.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class To{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qa(!1),this.onMicrotaskEmpty=new qa(!1),this.onStable=new qa(!1),this.onError=new qa(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Vk(){let a=wn.requestAnimationFrame,l=wn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function YE(a){const l=()=>{!function _f(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(wn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,jn(a),a.isCheckStableRunning=!0,Ht(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),jn(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,m,v,T)=>{try{return St(a),u.invokeTask(f,m,v,T)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),yf(a)}},onInvoke:(u,d,f,m,v,T,E)=>{try{return St(a),u.invoke(f,m,v,T,E)}finally{a.shouldCoalesceRunChangeDetection&&l(),yf(a)}},onHasTask:(u,d,f,m)=>{u.hasTask(f,m),d===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,jn(a),Ht(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,f,m)=>(u.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!To.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(To.isInAngularZone())throw new Ce(909,!1)}run(l,u,d){return this._inner.run(l,u,d)}runTask(l,u,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,KE,My,My);try{return m.runTask(v,u,d)}finally{m.cancelTask(v)}}runGuarded(l,u,d){return this._inner.runGuarded(l,u,d)}runOutsideAngular(l){return this._outer.run(l)}}const KE={};function Ht(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function jn(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function St(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function yf(a){a._nesting--,Ht(a)}class _n{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qa,this.onMicrotaskEmpty=new qa,this.onStable=new qa,this.onError=new qa}run(l,u,d){return l.apply(u,d)}runGuarded(l,u,d){return l.apply(u,d)}runOutsideAngular(l){return l()}runTask(l,u,d,f){return l.apply(u,d)}}const QE=new Mn(""),fi=new Mn("");let jl,et=(()=>{class a{constructor(u,d,f){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jl||(function vw(a){jl=a}(f),f.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{To.assertNotInAngularZone(),yw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yw(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(zt(To),zt(Ag),zt(fi))},a.\u0275prov=st({token:a,factory:a.\u0275fac}),a})(),Ag=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return jl?.findTestabilityInTree(this,u,d)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=st({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),fc=null;const Ng=new Mn("AllowMultipleToken"),bw=new Mn("PlatformDestroyListeners");class ww{constructor(l,u){this.name=l,this.token=u}}function se(a,l,u=[]){const d=`Platform: ${l}`,f=new Mn(d);return(m=[])=>{let v=Gd();if(!v||v.injector.get(Ng,!1)){const T=[...u,...m,{provide:f,useValue:!0}];a?a(T):function XE(a){if(fc&&!fc.get(Ng,!1))throw new Ce(400,!1);fc=a;const l=a.get($l);(function Gl(a){const l=a.get(Hd,null);l&&l.forEach(u=>u())})(a)}(function Eo(a=[],l){return Ua.create({name:l,providers:[{provide:g0,useValue:"platform"},{provide:bw,useValue:new Set([()=>fc=null])},...a]})}(T,d))}return function Oy(a){const l=Gd();if(!l)throw new Ce(401,!1);return l}()}}function Gd(){return fc?.get($l)??null}let $l=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const f=function pc(a,l){let u;return u="noop"===a?new _n:("zone.js"===a?void 0:a)||new To(l),u}(d?.ngZone,function nD(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:To,useValue:f}];return f.run(()=>{const v=Ua.create({providers:m,parent:this.injector,name:u.moduleType.name}),T=u.create(v),E=T.injector.get(vd,null);if(!E)throw new Ce(402,!1);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{E.handleError(R)}});T.onDestroy(()=>{Fy(this._modules,T),A.unsubscribe()})}),function Cw(a,l,u){try{const d=u();return Wp(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(E,f,()=>{const A=T.injector.get(xy);return A.runInitializers(),A.donePromise.then(()=>(W_(T.injector.get(mf,tg)||tg),this._moduleDoBootstrap(T),T))})})}bootstrapModule(u,d=[]){const f=Py({},d);return function JE(a,l,u){const d=new Zb(u);return Promise.resolve(d)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const d=u.injector.get(ky);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Ce(403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(bw,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(zt(Ua))},a.\u0275prov=st({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Py(a,l){return Array.isArray(l)?l.reduce(Py,a):{...a,...l}}let ky=(()=>{class a{constructor(u,d,f){this._zone=u,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new F.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),v=new F.y(T=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{To.assertNotInAngularZone(),yw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{To.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{E.unsubscribe(),A.unsubscribe()}});this.isStable=(0,re.T)(m,v.pipe((0,ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const f=u instanceof ZS;if(!this._injector.get(xy).done)throw!f&&Mt(u),new Ce(405,false);let v;v=f?u:this._injector.get(zu).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const T=function qs(a){return a.isBoundToModule}(v)?void 0:this._injector.get(oc),A=v.create(Ua.NULL,[],d||v.selector,T),R=A.location.nativeElement,L=A.injector.get(QE,null);return L?.registerApplication(R),A.onDestroy(()=>{this.detachView(A.hostView),Fy(this.components,A),L?.unregisterApplication(R)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Fy(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Ry,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Fy(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Ce(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(zt(To),zt(Wu),zt(vd))},a.\u0275prov=st({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Fy(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let Ly=!0,iD=!1;function CM(){return iD=!0,Ly}function gc(){if(iD)throw new Error("Cannot enable prod mode after platform setup.");Ly=!1}let Mg=(()=>{class a{}return a.__NG_ELEMENT_ID__=xg,a})();function xg(a){return function rD(a,l,u){if(sl(a)&&!u){const d=rn(a.index,l);return new Cd(d,d)}return 47&a.type?new Cd(l[16],l):null}(Wn(),Me(),16==(16&a))}class Dw{constructor(){}supports(l){return Dd(l)}create(l){return new Vy(l)}}const lD=(a,l)=>l;class Vy{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||lD}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,d=this._removalsHead,f=0,m=null;for(;u||d;){const v=!d||u&&u.currentIndex<dD(d,f,m)?u:d,T=dD(v,f,m),E=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{m||(m=[]);const A=T-f,R=E-f;if(A!=R){for(let q=0;q<A;q++){const ee=q<m.length?m[q]:m[q]=0,ye=ee+q;R<=ye&&ye<A&&(m[q]=ee+1)}m[v.previousIndex]=R-A}}T!==E&&l(v,T,E)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Dd(l))throw new Ce(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,u=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let T=0;T<this.length;T++)m=l[T],v=this._trackByFn(T,m),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,m,v,T)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,T),d=!0),u=u._next}else f=0,function QA(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Ed()]();let d;for(;!(d=u.next()).done;)l(d.value)}}(l,T=>{v=this._trackByFn(f,T),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,T,v,f)),Object.is(u.item,T)||this._addIdentityChange(u,T)):(u=this._mismatch(u,T,v,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,f)):l=this._addAfter(new Pg(u,d),m,f),l}_verifyReinsertion(l,u,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,u,d),this._addToMoves(l,d),l}_moveAfter(l,u,d){return this._unlink(l),this._insertAfter(l,u,d),this._addToMoves(l,d),l}_addAfter(l,u,d){return this._insertAfter(l,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,d){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new cD),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,d=l._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cD),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Pg{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uD{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const u=l._prevDup,d=l._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class cD{constructor(){this.map=new Map}put(l){const u=l.trackById;let d=this.map.get(u);d||(d=new uD,this.map.set(u,d)),d.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dD(a,l,u){const d=a.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+l+f}class Iw{constructor(){}supports(l){return l instanceof Map||J0(l)}create(){return new hD}}class hD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||J0(l)))throw new Ce(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const d=l._prev;return u._next=l,u._prev=d,l._prev=u,d&&(d._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new mc(l);return this._records.set(l,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(d=>u(l[d],d))}}class mc{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Sw(){return new Zy([new Dw])}let Zy=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(null!=d){const f=d.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||Sw()),deps:[[a,new mt,new je]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(null!=d)return d;throw new Ce(901,!1)}}return a.\u0275prov=st({token:a,providedIn:"root",factory:Sw}),a})();function sn(){return new Dn([new Iw])}let Dn=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(d){const f=d.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||sn()),deps:[[a,new mt,new je]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(d)return d;throw new Ce(901,!1)}}return a.\u0275prov=st({token:a,providedIn:"root",factory:sn}),a})();const Nw=se(null,"core",[]);let pD=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(zt(ky))},a.\u0275mod=Wt({type:a}),a.\u0275inj=Tt({}),a})();function gD(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function MM(a,l){const u=le(a),d=l.elementInjector||Rp();return new Xi(u).create(d,l.projectableNodes,l.hostElement,l.environmentInjector)}},3942:(_t,Ae,U)=>{U.d(Ae,{Z:()=>Ce});var s=U(2090),X=U(4859),F=U(9681),re=U(1877);class ie{constructor(ve,de){this._delegate=ve,this.firebase=de,(0,F._addComponent)(ve,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ve,de=F._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const bt=this._delegate.container.getProvider(ve);return!bt.isInitialized()&&"EXPLICIT"===(null===(at=bt.getComponent())||void 0===at?void 0:at.instantiationMode)&&bt.initialize(),bt.getImmediate({identifier:de})}_removeServiceInstance(ve,de=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(de)}_addComponent(ve){(0,F._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,F._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function pe(){const ut=function fe(ut){const ve={},de={__esModule:!0,initializeApp:function Ne($e,j={}){const me=F.initializeApp($e,j);if((0,s.r3)(ve,me.name))return ve[me.name];const Ze=new ut(me,de);return ve[me.name]=Ze,Ze},app:bt,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Te($e){const j=$e.name,me=j.replace("-compat","");if(F._registerComponent($e)&&"PUBLIC"===$e.type){const Ze=(tt=bt())=>{if("function"!=typeof tt[me])throw ae.create("invalid-app-argument",{appName:j});return tt[me]()};void 0!==$e.serviceProps&&(0,s.ZB)(Ze,$e.serviceProps),de[me]=Ze,ut.prototype[me]=function(...tt){return this._getService.bind(this,j).apply(this,$e.multipleInstances?tt:[])}}return"PUBLIC"===$e.type?de[me]:null},removeApp:function at($e){delete ve[$e]},useAsService:function Ge($e,j){return"serverAuth"===j?null:j},modularAPIs:F}};function bt($e){if(!(0,s.r3)(ve,$e=$e||F._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:$e});return ve[$e]}return de.default=de,Object.defineProperty(de,"apps",{get:function we(){return Object.keys(ve).map($e=>ve[$e])}}),bt.App=ut,de}(ie);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ve(de){(0,s.ZB)(ut,de)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),ut}(),$=new re.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=G;!function Re(ut){(0,F.registerVersion)("@firebase/app-compat","0.2.5",ut)}()},9681:(_t,Ae,U)=>{U.r(Ae),U.d(Ae,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>sr,_DEFAULT_ENTRY_NAME:()=>Pe,_addComponent:()=>pn,_addOrOverwriteComponent:()=>st,_apps:()=>gt,_clearComponents:()=>Di,_components:()=>Zt,_getProvider:()=>Tt,_registerComponent:()=>ln,_removeServiceInstance:()=>Nt,deleteApp:()=>fa,getApp:()=>gr,getApps:()=>Ar,initializeApp:()=>Wr,onLog:()=>cs,registerVersion:()=>zi,setLogLevel:()=>Ii});var s=U(5861),X=U(4859),F=U(1877),re=U(2090),ie=U(8766);class ce{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(ct=>{if(function ae(ht){return"VERSION"===ht.getComponent()?.type}(ct)){const Ot=ct.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(ct=>ct).join(" ")}}const fe="@firebase/app",G=new F.Yd("@firebase/app"),Pe="[DEFAULT]",Ee={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gt=new Map,Zt=new Map;function pn(ht,Se){try{ht.container.addComponent(Se)}catch(ct){G.debug(`Component ${Se.name} failed to register with FirebaseApp ${ht.name}`,ct)}}function st(ht,Se){ht.container.addOrOverwriteComponent(Se)}function ln(ht){const Se=ht.name;if(Zt.has(Se))return G.debug(`There were multiple attempts to register component ${Se}.`),!1;Zt.set(Se,ht);for(const ct of gt.values())pn(ct,ht);return!0}function Tt(ht,Se){const ct=ht.container.getProvider("heartbeat").getImmediate({optional:!0});return ct&&ct.triggerHeartbeat(),ht.container.getProvider(Se)}function Nt(ht,Se,ct=Pe){Tt(ht,Se).clearInstance(ct)}function Di(){Zt.clear()}const kn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gn{constructor(Se,ct,Ot){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},ct),this._name=ct.name,this._automaticDataCollectionEnabled=ct.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}const sr="9.18.0";function Wr(ht,Se={}){let ct=ht;"object"!=typeof Se&&(Se={name:Se});const Ot=Object.assign({name:Pe,automaticDataCollectionEnabled:!1},Se),Ut=Ot.name;if("string"!=typeof Ut||!Ut)throw kn.create("bad-app-name",{appName:String(Ut)});if(ct||(ct=(0,re.aH)()),!ct)throw kn.create("no-options");const Wt=gt.get(Ut);if(Wt){if((0,re.vZ)(ct,Wt.options)&&(0,re.vZ)(Ot,Wt.config))return Wt;throw kn.create("duplicate-app",{appName:Ut})}const Ki=new X.H0(Ut);for(const Z of Zt.values())Ki.addComponent(Z);const H=new Gn(ct,Ot,Ki);return gt.set(Ut,H),H}function gr(ht=Pe){const Se=gt.get(ht);if(!Se&&ht===Pe)return Wr();if(!Se)throw kn.create("no-app",{appName:ht});return Se}function Ar(){return Array.from(gt.values())}function fa(ht){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.Z)(function*(ht){const Se=ht.name;gt.has(Se)&&(gt.delete(Se),yield Promise.all(ht.container.getProviders().map(ct=>ct.delete())),ht.isDeleted=!0)})).apply(this,arguments)}function zi(ht,Se,ct){var Ot;let Ut=null!==(Ot=Ee[ht])&&void 0!==Ot?Ot:ht;ct&&(Ut+=`-${ct}`);const Wt=Ut.match(/\s|\//),Ki=Se.match(/\s|\//);if(Wt||Ki){const H=[`Unable to register library "${Ut}" with version "${Se}":`];return Wt&&H.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),Wt&&Ki&&H.push("and"),Ki&&H.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void G.warn(H.join(" "))}ln(new X.wA(`${Ut}-version`,()=>({library:Ut,version:Se}),"VERSION"))}function cs(ht,Se){if(null!==ht&&"function"!=typeof ht)throw kn.create("invalid-log-argument");(0,F.Am)(ht,Se)}function Ii(ht){(0,F.Ub)(ht)}const $n="firebase-heartbeat-store";let oi=null;function An(){return oi||(oi=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(ht,Se)=>{0===Se&&ht.createObjectStore($n)}}).catch(ht=>{throw kn.create("idb-open",{originalErrorMessage:ht.message})})),oi}function Ct(){return(Ct=(0,s.Z)(function*(ht){try{return(yield An()).transaction($n).objectStore($n).get(Si(ht))}catch(Se){if(Se instanceof re.ZR)G.warn(Se.message);else{const ct=kn.create("idb-get",{originalErrorMessage:Se?.message});G.warn(ct.message)}}})).apply(this,arguments)}function wn(ht,Se){return ai.apply(this,arguments)}function ai(){return(ai=(0,s.Z)(function*(ht,Se){try{const Ot=(yield An()).transaction($n,"readwrite");return yield Ot.objectStore($n).put(Se,Si(ht)),Ot.done}catch(ct){if(ct instanceof re.ZR)G.warn(ct.message);else{const Ot=kn.create("idb-set",{originalErrorMessage:ct?.message});G.warn(Ot.message)}}})).apply(this,arguments)}function Si(ht){return`${ht.name}!${ht.options.appId}`}class Ms{constructor(Se){this.container=Se,this._heartbeatsCache=null;const ct=this.container.getProvider("app").getImmediate();this._storage=new dn(ct),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var Se=this;return(0,s.Z)(function*(){const Ot=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=cn();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!Se._heartbeatsCache.heartbeats.some(Wt=>Wt.date===Ut))return Se._heartbeatsCache.heartbeats.push({date:Ut,agent:Ot}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Wt=>{const Ki=new Date(Wt.date).valueOf();return Date.now()-Ki<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,s.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const ct=cn(),{heartbeatsToSend:Ot,unsentEntries:Ut}=function zr(ht,Se=1024){const ct=[];let Ot=ht.slice();for(const Ut of ht){const Wt=ct.find(Ki=>Ki.agent===Ut.agent);if(Wt){if(Wt.dates.push(Ut.date),Ni(ct)>Se){Wt.dates.pop();break}}else if(ct.push({agent:Ut.agent,dates:[Ut.date]}),Ni(ct)>Se){ct.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:ct,unsentEntries:Ot}}(Se._heartbeatsCache.heartbeats),Wt=(0,re.L)(JSON.stringify({version:2,heartbeats:Ot}));return Se._heartbeatsCache.lastSentHeartbeatDate=ct,Ut.length>0?(Se._heartbeatsCache.heartbeats=Ut,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Wt})()}}function cn(){return(new Date).toISOString().substring(0,10)}class dn{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,s.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function It(ht){return Ct.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var ct=this;return(0,s.Z)(function*(){var Ot;if(yield ct._canUseIndexedDBPromise){const Wt=yield ct.read();return wn(ct.app,{lastSentHeartbeatDate:null!==(Ot=Se.lastSentHeartbeatDate)&&void 0!==Ot?Ot:Wt.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var ct=this;return(0,s.Z)(function*(){var Ot;if(yield ct._canUseIndexedDBPromise){const Wt=yield ct.read();return wn(ct.app,{lastSentHeartbeatDate:null!==(Ot=Se.lastSentHeartbeatDate)&&void 0!==Ot?Ot:Wt.lastSentHeartbeatDate,heartbeats:[...Wt.heartbeats,...Se.heartbeats]})}})()}}function Ni(ht){return(0,re.L)(JSON.stringify({version:2,heartbeats:ht})).length}!function or(ht){ln(new X.wA("platform-logger",Se=>new ce(Se),"PRIVATE")),ln(new X.wA("heartbeat",Se=>new Ms(Se),"PRIVATE")),zi(fe,"0.9.5",ht),zi(fe,"0.9.5","esm2017"),zi("fire-js","")}("")},4859:(_t,Ae,U)=>{U.d(Ae,{H0:()=>fe,wA:()=>F,zt:()=>ie});var s=U(5861),X=U(2090);class F{constructor(G,$,Y){this.name=G,this.instanceFactory=$,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const re="[DEFAULT]";class ie{constructor(G,$){this.name=G,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const $=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has($)){const Y=new X.BH;if(this.instancesDeferred.set($,Y),this.isInitialized($)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:$});ze&&Y.resolve(ze)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(G){var $;const Y=this.normalizeInstanceIdentifier(G?.identifier),ze=null!==($=G?.optional)&&void 0!==$&&$;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Re){if(ze)return null;throw Re}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ae(pe){return"EAGER"===pe.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[$,Y]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier($);try{const Re=this.getOrInitializeService({instanceIdentifier:ze});Y.resolve(Re)}catch{}}}}clearInstance(G=re){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,s.Z)(function*(){const $=Array.from(G.instances.values());yield Promise.all([...$.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...$.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=re){return this.instances.has(G)}getOptions(G=re){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:$={}}=G,Y=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Y,options:$});for(const[Re,Ce]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Re)&&Ce.resolve(ze);return ze}onInit(G,$){var Y;const ze=this.normalizeInstanceIdentifier($),Re=null!==(Y=this.onInitCallbacks.get(ze))&&void 0!==Y?Y:new Set;Re.add(G),this.onInitCallbacks.set(ze,Re);const Ce=this.instances.get(ze);return Ce&&G(Ce,ze),()=>{Re.delete(G)}}invokeOnInitCallbacks(G,$){const Y=this.onInitCallbacks.get($);if(Y)for(const ze of Y)try{ze(G,$)}catch{}}getOrInitializeService({instanceIdentifier:G,options:$={}}){let Y=this.instances.get(G);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=G,pe===re?void 0:pe),options:$}),this.instances.set(G,Y),this.instancesOptions.set(G,$),this.invokeOnInitCallbacks(Y,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Y)}catch{}var pe;return Y||null}normalizeInstanceIdentifier(G=re){return this.component?this.component.multipleInstances?G:re:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const $=this.getProvider(G.name);if($.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);$.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const $=new ie(G,this);return this.providers.set(G,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(_t,Ae,U)=>{U.d(Ae,{Am:()=>pe,Ub:()=>fe,Yd:()=>ae,in:()=>X});const s=[];var X=(()=>{return(G=X||(X={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",X;var G})();const F={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},re=X.INFO,ie={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ce=(G,$,...Y)=>{if($<G.logLevel)return;const ze=(new Date).toISOString(),Re=ie[$];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Re](`[${ze}]  ${G.name}:`,...Y)};class ae{constructor($){this.name=$,this._logLevel=re,this._logHandler=ce,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in X))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?F[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...$),this._logHandler(this,X.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...$),this._logHandler(this,X.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,X.INFO,...$),this._logHandler(this,X.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,X.WARN,...$),this._logHandler(this,X.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...$),this._logHandler(this,X.ERROR,...$)}}function fe(G){s.forEach($=>{$.setLogLevel(G)})}function pe(G,$){for(const Y of s){let ze=null;$&&$.level&&(ze=F[$.level]),Y.userLogHandler=null===G?null:(Re,Ce,...ut)=>{const ve=ut.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch{return null}}).filter(de=>de).join(" ");Ce>=(ze??Re.logLevel)&&G({level:X[Ce].toLowerCase(),message:ve,args:ut,type:Re.name})}}}},259:(_t,Ae,U)=>{U.d(Ae,{C6:()=>s.getApps,Mq:()=>s.getApp,ZF:()=>s.initializeApp});var s=U(9681);(0,s.registerVersion)("firebase","9.18.0","app")},9260:(_t,Ae,U)=>{U.d(Ae,{Z:()=>s.Z});var s=U(3942);s.Z.registerVersion("firebase","9.18.0","app-compat")},8971:(_t,Ae,U)=>{U.r(Ae);var s=U(5861),X=U(3942),F=U(2090),re=U(9681),ie=U(1877),ce=U(655),ae=U(4859);const Ce=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ut=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ve=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new ie.Yd("@firebase/auth");function bt(b,...g){at.logLevel<=ie.in.ERROR&&at.error(`Auth (${re.SDK_VERSION}): ${b}`,...g)}function Ne(b,...g){throw $e(b,...g)}function we(b,...g){return $e(b,...g)}function Te(b,g,_){const w=Object.assign(Object.assign({},ut()),{[g]:_});return new F.LL("auth","Firebase",w).create(g,{appName:b.name})}function Ge(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Ne(b,"argument-error"),Te(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(b,...g){if("string"!=typeof b){const _=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return ve.create(b,...g)}function j(b,g,..._){if(!b)throw $e(g,..._)}function me(b){const g="INTERNAL ASSERTION FAILED: "+b;throw bt(g),new Error(g)}function Ze(b,g){b||me(g)}const tt=new Map;function wt(b){Ze(b instanceof Function,"Expected a class definition");let g=tt.get(b);return g?(Ze(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,tt.set(b,g),g)}function ge(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function be(){return"http:"===Oe()||"https:"===Oe()}function Oe(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class gt{constructor(g,_){this.shortDelay=g,this.longDelay=_,Ze(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(be()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zt(b,g){Ze(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class pn{static initialize(g,_,w){this.fetchImpl=g,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const st={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ln=new gt(3e4,6e4);function Tt(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function Nt(b,g,_,w){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(b,g,_,w,N={}){return xn(b,N,(0,s.Z)(function*(){let P={},z={};w&&("GET"===g?z=w:P={body:JSON.stringify(w)});const he=(0,F.xO)(Object.assign({key:b.config.apiKey},z)).slice(1),qe=yield b._getAdditionalHeaders();return qe["Content-Type"]="application/json",b.languageCode&&(qe["X-Firebase-Locale"]=b.languageCode),pn.fetch()(Wr(b,b.config.apiHost,_,he),Object.assign({method:g,headers:qe,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function xn(b,g,_){return kn.apply(this,arguments)}function kn(){return(kn=(0,s.Z)(function*(b,g,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},st),g);try{const N=new gr(b),P=yield Promise.race([_(),N.promise]);N.clearNetworkTimeout();const z=yield P.json();if("needConfirmation"in z)throw Ar(b,"account-exists-with-different-credential",z);if(P.ok&&!("errorMessage"in z))return z;{const he=P.ok?z.errorMessage:z.error.message,[qe,lt]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw Ar(b,"credential-already-in-use",z);if("EMAIL_EXISTS"===qe)throw Ar(b,"email-already-in-use",z);if("USER_DISABLED"===qe)throw Ar(b,"user-disabled",z);const Rt=w[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(lt)throw Te(b,Rt,lt);Ne(b,Rt)}}catch(N){if(N instanceof F.ZR)throw N;Ne(b,"internal-error",{message:String(N)})}})).apply(this,arguments)}function Gn(b,g,_,w){return sr.apply(this,arguments)}function sr(){return(sr=(0,s.Z)(function*(b,g,_,w,N={}){const P=yield Nt(b,g,_,w,N);return"mfaPendingCredential"in P&&Ne(b,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Wr(b,g,_,w){const N=`${g}${_}?${w}`;return b.config.emulator?Zt(b.config,N):`${b.config.apiScheme}://${N}`}class gr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(we(this.auth,"network-request-failed")),ln.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ar(b,g,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const N=we(b,g,w);return N.customData._tokenResponse=_,N}function rt(){return(rt=(0,s.Z)(function*(b,g){return Nt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function zi(b,g){return cs.apply(this,arguments)}function cs(){return(cs=(0,s.Z)(function*(b,g){return Nt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ii(b,g){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,s.Z)(function*(b,g){return Nt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ds(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function An(){return(An=(0,s.Z)(function*(b,g=!1){const _=(0,F.m9)(b),w=yield _.getIdToken(g),N=Ct(w);j(N&&N.exp&&N.auth_time&&N.iat,_.auth,"internal-error");const P="object"==typeof N.firebase?N.firebase:void 0,z=P?.sign_in_provider;return{claims:N,token:w,authTime:ds(It(N.auth_time)),issuedAtTime:ds(It(N.iat)),expirationTime:ds(It(N.exp)),signInProvider:z||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function It(b){return 1e3*Number(b)}function Ct(b){const[g,_,w]=b.split(".");if(void 0===g||void 0===_||void 0===w)return bt("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,F.tV)(_);return N?JSON.parse(N):(bt("Failed to decode base64 JWT payload"),null)}catch(N){return bt("Caught error parsing JWT payload as JSON",N?.toString()),null}}function ai(b,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,s.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(w){throw w instanceof F.ZR&&Ai(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function Ai({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Lt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const N=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),w)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class Ms{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ds(this.lastLoginAt),this.creationTime=ds(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cn(b){return zr.apply(this,arguments)}function zr(){return(zr=(0,s.Z)(function*(b){var g;const _=b.auth,w=yield b.getIdToken(),N=yield ai(b,Ii(_,{idToken:w}));j(N?.users.length,_,"internal-error");const P=N.users[0];b._notifyReloadListener(P);const z=null!==(g=P.providerUserInfo)&&void 0!==g&&g.length?ht(P.providerUserInfo):[],he=or(b.providerData,z),Rt=!!b.isAnonymous&&!(b.email&&P.passwordHash||he?.length),Et={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:he,metadata:new Ms(P.createdAt,P.lastLoginAt),isAnonymous:Rt};Object.assign(b,Et)})).apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(b){const g=(0,F.m9)(b);yield cn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function or(b,g){return[...b.filter(w=>!g.some(N=>N.providerId===w.providerId)),...g]}function ht(b){return b.map(g=>{var{providerId:_}=g,w=(0,ce._T)(g,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ct(){return(ct=(0,s.Z)(function*(b,g){const _=yield xn(b,{},(0,s.Z)(function*(){const w=(0,F.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:N,apiKey:P}=b.config,z=Wr(b,N,"/v1/token",`key=${P}`),he=yield b._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",pn.fetch()(z,{method:"POST",headers:he,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){j(g.idToken,"internal-error"),j(typeof g.idToken<"u","internal-error"),j(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function wn(b){const g=Ct(b);return j(g,"internal-error"),j(typeof g.exp<"u","internal-error"),j(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var w=this;return(0,s.Z)(function*(){return j(!w.accessToken||w.refreshToken,g,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var w=this;return(0,s.Z)(function*(){const{accessToken:N,refreshToken:P,expiresIn:z}=yield function Se(b,g){return ct.apply(this,arguments)}(g,_);w.updateTokensAndExpiration(N,P,Number(z))})()}updateTokensAndExpiration(g,_,w){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,_){const{refreshToken:w,accessToken:N,expirationTime:P}=_,z=new Ot;return w&&(j("string"==typeof w,"internal-error",{appName:g}),z.refreshToken=w),N&&(j("string"==typeof N,"internal-error",{appName:g}),z.accessToken=N),P&&(j("number"==typeof P,"internal-error",{appName:g}),z.expirationTime=P),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ot,this.toJSON())}_performRefresh(){return me("not implemented")}}function Ut(b,g){j("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class Wt{constructor(g){var{uid:_,auth:w,stsTokenManager:N}=g,P=(0,ce._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Ms(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,s.Z)(function*(){const w=yield ai(_,_.stsTokenManager.getToken(_.auth,g));return j(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(g){return function oi(b){return An.apply(this,arguments)}(this,g)}reload(){return function dn(b){return Ni.apply(this,arguments)}(this)}_assign(g){this!==g&&(j(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new Wt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var w=this;return(0,s.Z)(function*(){let N=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),N=!0),_&&(yield cn(w)),yield w.auth._persistUserIfCurrent(w),N&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,s.Z)(function*(){const _=yield g.getIdToken();return yield ai(g,function fa(b,g){return rt.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var w,N,P,z,he,qe,lt,Rt;const Et=null!==(w=_.displayName)&&void 0!==w?w:void 0,Cn=null!==(N=_.email)&&void 0!==N?N:void 0,Oi=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,Cs=null!==(z=_.photoURL)&&void 0!==z?z:void 0,e_=null!==(he=_.tenantId)&&void 0!==he?he:void 0,t_=null!==(qe=_._redirectEventId)&&void 0!==qe?qe:void 0,n_=null!==(lt=_.createdAt)&&void 0!==lt?lt:void 0,Lh=null!==(Rt=_.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:i_,emailVerified:a0,isAnonymous:Fa,providerData:Pl,stsTokenManager:r_}=_;j(i_&&r_,g,"internal-error");const l0=Ot.fromJSON(this.name,r_);j("string"==typeof i_,g,"internal-error"),Ut(Et,g.name),Ut(Cn,g.name),j("boolean"==typeof a0,g,"internal-error"),j("boolean"==typeof Fa,g,"internal-error"),Ut(Oi,g.name),Ut(Cs,g.name),Ut(e_,g.name),Ut(t_,g.name),Ut(n_,g.name),Ut(Lh,g.name);const kl=new Wt({uid:i_,auth:g,email:Cn,emailVerified:a0,displayName:Et,isAnonymous:Fa,photoURL:Cs,phoneNumber:Oi,tenantId:e_,stsTokenManager:l0,createdAt:n_,lastLoginAt:Lh});return Pl&&Array.isArray(Pl)&&(kl.providerData=Pl.map(Fl=>Object.assign({},Fl))),t_&&(kl._redirectEventId=t_),kl}static _fromIdTokenResponse(g,_,w=!1){return(0,s.Z)(function*(){const N=new Ot;N.updateFromServerResponse(_);const P=new Wt({uid:_.localId,auth:g,stsTokenManager:N,isAnonymous:w});return yield cn(P),P})()}}const H=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,w){var N=this;return(0,s.Z)(function*(){N.storage[_]=w})()}_get(_){var w=this;return(0,s.Z)(function*(){const N=w.storage[_];return void 0===N?null:N})()}_remove(_){var w=this;return(0,s.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function Z(b,g,_){return`firebase:${b}:${g}:${_}`}class K{constructor(g,_,w){this.persistence=g,this.auth=_,this.userKey=w;const{config:N,name:P}=this.auth;this.fullUserKey=Z(this.userKey,N.apiKey,P),this.fullPersistenceKey=Z("persistence",N.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Wt._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,s.Z)(function*(){if(_.persistence===g)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,w="authUser"){return(0,s.Z)(function*(){if(!_.length)return new K(wt(H),g,w);const N=(yield Promise.all(_.map(function(){var lt=(0,s.Z)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return lt.apply(this,arguments)}}()))).filter(lt=>lt);let P=N[0]||wt(H);const z=Z(w,g.config.apiKey,g.name);let he=null;for(const lt of _)try{const Rt=yield lt._get(z);if(Rt){const Et=Wt._fromJSON(g,Rt);lt!==P&&(he=Et),P=lt;break}}catch{}const qe=N.filter(lt=>lt._shouldAllowMigration);return P._shouldAllowMigration&&qe.length?(P=qe[0],he&&(yield P._set(z,he.toJSON())),yield Promise.all(_.map(function(){var lt=(0,s.Z)(function*(Rt){if(Rt!==P)try{yield Rt._remove(z)}catch{}});return function(Rt){return lt.apply(this,arguments)}}())),new K(P,g,w)):new K(P,g,w)})()}}function le(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Qt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(te(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ve(g))return"Blackberry";if(yt(g))return"Webos";if(Qe(g))return"Safari";if((g.includes("chrome/")||Mt(g))&&!g.includes("edge/"))return"Chrome";if(hn(g))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function te(b=(0,F.z$)()){return/firefox\//i.test(b)}function Qe(b=(0,F.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Mt(b=(0,F.z$)()){return/crios\//i.test(b)}function Qt(b=(0,F.z$)()){return/iemobile/i.test(b)}function hn(b=(0,F.z$)()){return/android/i.test(b)}function Ve(b=(0,F.z$)()){return/blackberry/i.test(b)}function yt(b=(0,F.z$)()){return/webos/i.test(b)}function vt(b=(0,F.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function xo(b=(0,F.z$)()){return vt(b)||hn(b)||yt(b)||Ve(b)||/windows phone/i.test(b)||Qt(b)}function Xs(b,g=[]){let _;switch(b){case"Browser":_=le((0,F.z$)());break;case"Worker":_=`${le((0,F.z$)())}-${b}`;break;default:_=b}const w=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${re.SDK_VERSION}/${w}`}class pa{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const w=P=>new Promise((z,he)=>{try{z(g(P))}catch(qe){he(qe)}});w.onAbort=_,this.queue.push(w);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,s.Z)(function*(){if(_.auth.currentUser===g)return;const w=[];try{for(const N of _.queue)yield N(g),N.onAbort&&w.push(N.onAbort)}catch(N){w.reverse();for(const P of w)try{P()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:N?.message})}})()}}class Gt{constructor(g,_,w){this.app=g,this.heartbeatServiceProvider=_,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ro(this),this.idTokenSubscription=new Ro(this),this.beforeStateQueue=new pa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ve,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,_){var w=this;return _&&(this._popupRedirectResolver=wt(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var N,P;if(!w._deleted&&(w.persistenceManager=yield K.create(w,g),!w._deleted)){if(null!==(N=w._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,s.Z)(function*(){var w;const N=yield _.assertedPersistence.getCurrentUser();let P=N,z=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const he=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,qe=P?._redirectEventId,lt=yield _.tryRedirectSignIn(g);(!he||he===qe)&&lt?.user&&(P=lt.user,z=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(z)try{yield _.beforeStateQueue.runMiddleware(P)}catch(he){P=N,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(he))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return j(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(g){var _=this;return(0,s.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,s.Z)(function*(){try{yield cn(g)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ee(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,s.Z)(function*(){const w=g?(0,F.m9)(g):null;return w&&j(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(g,_=!1){var w=this;return(0,s.Z)(function*(){if(!w._deleted)return g&&j(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,s.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(wt(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new F.LL("auth","Firebase",g())}onAuthStateChanged(g,_,w){return this.registerStateListener(this.authStateSubscription,g,_,w)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,w){return this.registerStateListener(this.idTokenSubscription,g,_,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var w=this;return(0,s.Z)(function*(){const N=yield w.getOrInitRedirectPersistenceManager(_);return null===g?N.removeCurrentUser():N.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const w=g&&wt(g)||_._popupRedirectResolver;j(w,_,"argument-error"),_.redirectPersistenceManager=yield K.create(_,[wt(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,s.Z)(function*(){var w,N;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===g?_._currentUser:(null===(N=_.redirectUser)||void 0===N?void 0:N._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,s.Z)(function*(){if(g===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,w,N){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),z=this._isInitialized?Promise.resolve():this._initializationPromise;return j(z,this,"internal-error"),z.then(()=>P(this.currentUser)),"function"==typeof _?g.addObserver(_,w,N):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Xs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){var _;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const N=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return N&&(w["X-Firebase-Client"]=N),w})()}}function Fn(b){return(0,F.m9)(b)}class Ro{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,F.ne)(_=>this.observer=_)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hs(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function eo(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class Zi{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return me("not implemented")}_getIdTokenResponse(g){return me("not implemented")}_linkToIdToken(g,_){return me("not implemented")}_getReauthenticationResolver(g){return me("not implemented")}}function ui(b,g){return il.apply(this,arguments)}function il(){return(il=(0,s.Z)(function*(b,g){return Nt(b,"POST","/v1/accounts:resetPassword",Tt(b,g))})).apply(this,arguments)}function En(b,g){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,s.Z)(function*(b,g){return Nt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ac(b,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,s.Z)(function*(b,g){return Nt(b,"POST","/v1/accounts:update",Tt(b,g))})).apply(this,arguments)}function Ln(){return(Ln=(0,s.Z)(function*(b,g){return Gn(b,"POST","/v1/accounts:signInWithPassword",Tt(b,g))})).apply(this,arguments)}function no(b,g){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,s.Z)(function*(b,g){return Nt(b,"POST","/v1/accounts:sendOobCode",Tt(b,g))})).apply(this,arguments)}function nn(b,g){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,s.Z)(function*(b,g){return no(b,g)})).apply(this,arguments)}function Mi(b,g){return ar.apply(this,arguments)}function ar(){return(ar=(0,s.Z)(function*(b,g){return no(b,g)})).apply(this,arguments)}function ou(b,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,s.Z)(function*(b,g){return no(b,g)})).apply(this,arguments)}function Mc(b,g){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,s.Z)(function*(b,g){return no(b,g)})).apply(this,arguments)}function nh(){return(nh=(0,s.Z)(function*(b,g){return Gn(b,"POST","/v1/accounts:signInWithEmailLink",Tt(b,g))})).apply(this,arguments)}function Yr(){return(Yr=(0,s.Z)(function*(b,g){return Gn(b,"POST","/v1/accounts:signInWithEmailLink",Tt(b,g))})).apply(this,arguments)}class xc extends Zi{constructor(g,_,w,N=null){super("password",w),this._email=g,this._password=_,this._tenantId=N}static _fromEmailAndPassword(g,_){return new xc(g,_,"password")}static _fromEmailAndCode(g,_,w=null){return new xc(g,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,s.Z)(function*(){switch(_.signInMethod){case"password":return function rl(b,g){return Ln.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Jf(b,g){return nh.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Ne(g,"internal-error")}})()}_linkToIdToken(g,_){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return En(g,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Xf(b,g){return Yr.apply(this,arguments)}(g,{idToken:_,email:w._email,oobCode:w._password});default:Ne(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function mi(b,g){return ih.apply(this,arguments)}function ih(){return(ih=(0,s.Z)(function*(b,g){return Gn(b,"POST","/v1/accounts:signInWithIdp",Tt(b,g))})).apply(this,arguments)}class xs extends Zi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new xs(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Ne("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:N}=_,P=(0,ce._T)(_,["providerId","signInMethod"]);if(!w||!N)return null;const z=new xs(w,N);return z.idToken=P.idToken||void 0,z.accessToken=P.accessToken||void 0,z.secret=P.secret,z.nonce=P.nonce,z.pendingToken=P.pendingToken||null,z}_getIdTokenResponse(g){return mi(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,mi(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,mi(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,F.xO)(_)}return g}}function Nm(b,g){return rh.apply(this,arguments)}function rh(){return(rh=(0,s.Z)(function*(b,g){return Nt(b,"POST","/v1/accounts:sendVerificationCode",Tt(b,g))})).apply(this,arguments)}function io(){return(io=(0,s.Z)(function*(b,g){return Gn(b,"POST","/v1/accounts:signInWithPhoneNumber",Tt(b,g))})).apply(this,arguments)}function sh(){return(sh=(0,s.Z)(function*(b,g){const _=yield Gn(b,"POST","/v1/accounts:signInWithPhoneNumber",Tt(b,g));if(_.temporaryProof)throw Ar(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const xm={USER_NOT_FOUND:"user-not-found"};function oh(){return(oh=(0,s.Z)(function*(b,g){return Gn(b,"POST","/v1/accounts:signInWithPhoneNumber",Tt(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),xm)})).apply(this,arguments)}class ro extends Zi{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new ro({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new ro({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Rc(b,g){return io.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Mm(b,g){return sh.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Rm(b,g){return oh.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:w,verificationCode:N}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:w,code:N}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:w,phoneNumber:N,temporaryProof:P}=g;return w||_||N||P?new ro({verificationId:_,verificationCode:w,phoneNumber:N,temporaryProof:P}):null}}class au{constructor(g){var _,w,N,P,z,he;const qe=(0,F.zd)((0,F.pd)(g)),lt=null!==(_=qe.apiKey)&&void 0!==_?_:null,Rt=null!==(w=qe.oobCode)&&void 0!==w?w:null,Et=function ah(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=qe.mode)&&void 0!==N?N:null);j(lt&&Rt&&Et,"argument-error"),this.apiKey=lt,this.operation=Et,this.code=Rt,this.continueUrl=null!==(P=qe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(z=qe.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(he=qe.tenantId)&&void 0!==he?he:null}static parseLink(g){const _=function lh(b){const g=(0,F.zd)((0,F.pd)(b)).link,_=g?(0,F.zd)((0,F.pd)(g)).deep_link_id:null,w=(0,F.zd)((0,F.pd)(b)).deep_link_id;return(w?(0,F.zd)((0,F.pd)(w)).link:null)||w||_||g||b}(g);try{return new au(_)}catch{return null}}}let fs=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return xc._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const N=au.parseLink(w);return j(N,"argument-error"),xc._fromEmailAndCode(_,N.code,N.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Rs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ps extends Rs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Po extends ps{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return j("providerId"in _&&"signInMethod"in _,"argument-error"),xs._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return j(g.idToken||g.accessToken,"argument-error"),xs._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Po.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Po.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:N,pendingToken:P,nonce:z,providerId:he}=g;if(!w&&!N&&!_&&!P||!he)return null;try{return new Po(he)._credential({idToken:_,accessToken:w,nonce:z,pendingToken:P})}catch{return null}}}let ol=(()=>{class b extends ps{constructor(){super("facebook.com")}static credential(_){return xs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),lu=(()=>{class b extends ps{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return xs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:N}=_;if(!w&&!N)return null;try{return b.credential(w,N)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Oc=(()=>{class b extends ps{constructor(){super("github.com")}static credential(_){return xs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ga extends Zi{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return mi(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,mi(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,mi(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:N,pendingToken:P}=_;return w&&N&&P&&w===N?new ga(w,P):null}static _create(g,_){return new ga(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mr extends Rs{constructor(g){j(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Mr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Mr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=ga.fromJSON(g);return j(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:w}=g;if(!_||!w)return null;try{return ga._create(w,_)}catch{return null}}}let mr=(()=>{class b extends ps{constructor(){super("twitter.com")}static credential(_,w){return xs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:N}=_;if(!w||!N)return null;try{return b.credential(w,N)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ma(b,g){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,s.Z)(function*(b,g){return Gn(b,"POST","/v1/accounts:signUp",Tt(b,g))})).apply(this,arguments)}class Hi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,w,N=!1){return(0,s.Z)(function*(){const P=yield Wt._fromIdTokenResponse(g,w,N),z=np(w);return new Hi({user:P,providerId:z,_tokenResponse:w,operationType:_})})()}static _forOperation(g,_,w){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const N=np(w);return new Hi({user:g,providerId:N,_tokenResponse:w,operationType:_})})()}}function np(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function qn(){return(qn=(0,s.Z)(function*(b){var g;const _=Fn(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new Hi({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield ma(_,{returnSecureToken:!0}),N=yield Hi._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}class uu extends F.ZR{constructor(g,_,w,N){var P;super(_.code,_.message),this.operationType=w,this.user=N,Object.setPrototypeOf(this,uu.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,_,w,N){return new uu(g,_,w,N)}}function rp(b,g,_,w){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?uu._fromErrorAndOperation(b,P,g,w):P})}function xr(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function cu(){return(cu=(0,s.Z)(function*(b,g){const _=(0,F.m9)(b);yield rn(!0,_,g);const{providerUserInfo:w}=yield zi(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),N=xr(w||[]);return _.providerData=_.providerData.filter(P=>N.has(P.providerId)),N.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function ko(b,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,s.Z)(function*(b,g,_=!1){const w=yield ai(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return Hi._forOperation(b,"link",w)})).apply(this,arguments)}function rn(b,g,_){return du.apply(this,arguments)}function du(){return(du=(0,s.Z)(function*(b,g,_){yield cn(g);const N=!1===b?"provider-already-linked":"no-such-provider";j(xr(g.providerData).has(_)===b,g.auth,N)})).apply(this,arguments)}function Fo(b,g){return hu.apply(this,arguments)}function hu(){return(hu=(0,s.Z)(function*(b,g,_=!1){const{auth:w}=b,N="reauthenticate";try{const P=yield ai(b,rp(w,N,g,b),_);j(P.idToken,w,"internal-error");const z=Ct(P.idToken);j(z,w,"internal-error");const{sub:he}=z;return j(b.uid===he,w,"user-mismatch"),Hi._forOperation(b,N,P)}catch(P){throw"auth/user-not-found"===P?.code&&Ne(w,"user-mismatch"),P}})).apply(this,arguments)}function Qr(b,g){return fu.apply(this,arguments)}function fu(){return(fu=(0,s.Z)(function*(b,g,_=!1){const w="signIn",N=yield rp(b,w,g),P=yield Hi._fromIdTokenResponse(b,w,N);return _||(yield b._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Zn(b,g){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(function*(b,g){return Qr(Fn(b),g)})).apply(this,arguments)}function pu(b,g){return sp.apply(this,arguments)}function sp(){return(sp=(0,s.Z)(function*(b,g){const _=(0,F.m9)(b);return yield rn(!1,_,g.providerId),ko(_,g)})).apply(this,arguments)}function gu(b,g){return mu.apply(this,arguments)}function mu(){return(mu=(0,s.Z)(function*(b,g){return Fo((0,F.m9)(b),g)})).apply(this,arguments)}function kc(b,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,s.Z)(function*(b,g){return Gn(b,"POST","/v1/accounts:signInWithCustomToken",Tt(b,g))})).apply(this,arguments)}function al(){return(al=(0,s.Z)(function*(b,g){const _=Fn(b),w=yield kc(_,{token:g,returnSecureToken:!0}),N=yield Hi._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}class Me{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Jt._fromServerResponse(g,_):Ne(g,"internal-error")}}class Jt extends Me{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Jt(_)}}function _u(b,g,_){var w;j((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),j(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(j(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(j(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Wn(){return(Wn=(0,s.Z)(function*(b,g,_){const w=(0,F.m9)(b),N={requestType:"PASSWORD_RESET",email:g};_&&_u(w,N,_),yield Mi(w,N)})).apply(this,arguments)}function _a(){return(_a=(0,s.Z)(function*(b,g,_){yield ui((0,F.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function ll(){return(ll=(0,s.Z)(function*(b,g){yield Ac((0,F.m9)(b),{oobCode:g})})).apply(this,arguments)}function ul(b,g){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,s.Z)(function*(b,g){const _=(0,F.m9)(b),w=yield ui(_,{oobCode:g}),N=w.requestType;switch(j(N,_,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(w.mfaInfo,_,"internal-error");default:j(w.email,_,"internal-error")}let P=null;return w.mfaInfo&&(P=Me._fromServerResponse(Fn(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:N}})).apply(this,arguments)}function uh(){return(uh=(0,s.Z)(function*(b,g){const{data:_}=yield ul((0,F.m9)(b),g);return _.email})).apply(this,arguments)}function zn(){return(zn=(0,s.Z)(function*(b,g,_){const w=Fn(b),N=yield ma(w,{returnSecureToken:!0,email:g,password:_}),P=yield Hi._fromIdTokenResponse(w,"signIn",N);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}function Lo(){return(Lo=(0,s.Z)(function*(b,g,_){const w=(0,F.m9)(b),N={requestType:"EMAIL_SIGNIN",email:g};j(_.handleCodeInApp,w,"argument-error"),_&&_u(w,N,_),yield ou(w,N)})).apply(this,arguments)}function dl(){return(dl=(0,s.Z)(function*(b,g,_){const w=(0,F.m9)(b),N=fs.credentialWithLink(g,_||ge());return j(N._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Zn(w,N)})).apply(this,arguments)}function Pm(b,g){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,s.Z)(function*(b,g){return Nt(b,"POST","/v1/accounts:createAuthUri",Tt(b,g))})).apply(this,arguments)}function hl(){return(hl=(0,s.Z)(function*(b,g){const w={identifier:g,continueUri:be()?ge():"http://localhost"},{signinMethods:N}=yield Pm((0,F.m9)(b),w);return N||[]})).apply(this,arguments)}function fl(){return(fl=(0,s.Z)(function*(b,g){const _=(0,F.m9)(b),N={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&_u(_.auth,N,g);const{email:P}=yield nn(_.auth,N);P!==b.email&&(yield b.reload())})).apply(this,arguments)}function wu(){return(wu=(0,s.Z)(function*(b,g,_){const w=(0,F.m9)(b),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&_u(w.auth,P,_);const{email:z}=yield Mc(w.auth,P);z!==b.email&&(yield b.reload())})).apply(this,arguments)}function Cu(b,g){return jc.apply(this,arguments)}function jc(){return(jc=(0,s.Z)(function*(b,g){return Nt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function $c(){return($c=(0,s.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const w=(0,F.m9)(b),P={idToken:yield w.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},z=yield ai(w,Cu(w.auth,P));w.displayName=z.displayName||null,w.photoURL=z.photoUrl||null;const he=w.providerData.find(({providerId:qe})=>"password"===qe);he&&(he.displayName=w.displayName,he.photoURL=w.photoURL),yield w._updateTokensIfNecessary(z)})).apply(this,arguments)}function Bo(b,g,_){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,s.Z)(function*(b,g,_){const{auth:w}=b,P={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(P.email=g),_&&(P.password=_);const z=yield ai(b,En(w,P));yield b._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class _r{constructor(g,_,w={}){this.isNewUser=g,this.providerId=_,this.profile=w}}class Nn extends _r{constructor(g,_,w,N){super(g,_,w),this.username=N}}class dh extends _r{constructor(g,_){super(g,"facebook.com",_)}}class qc extends Nn{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class op extends _r{constructor(g,_){super(g,"google.com",_)}}class Wc extends Nn{constructor(g,_,w){super(g,"twitter.com",_,w)}}function Eu(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function _i(b){var g,_;if(!b)return null;const{providerId:w}=b,N=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},P=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const z=null===(_=null===(g=Ct(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(z)return new _r(P,"anonymous"!==z&&"custom"!==z?z:null)}if(!w)return null;switch(w){case"facebook.com":return new dh(P,N);case"github.com":return new qc(P,N);case"google.com":return new op(P,N);case"twitter.com":return new Wc(P,N,b.screenName||null);case"custom":case"anonymous":return new _r(P,null);default:return new _r(P,w,N)}}(_)}class Zo{constructor(g,_,w){this.type=g,this.credential=_,this.auth=w}static _fromIdtoken(g,_){return new Zo("enroll",g,_)}static _fromMfaPendingCredential(g){return new Zo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,w;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Zo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return Zo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Iu{constructor(g,_,w){this.session=g,this.hints=_,this.signInResolver=w}static _fromError(g,_){const w=Fn(g),N=_.customData._serverResponse,P=(N.mfaInfo||[]).map(he=>Me._fromServerResponse(w,he));j(N.mfaPendingCredential,w,"internal-error");const z=Zo._fromMfaPendingCredential(N.mfaPendingCredential);return new Iu(z,P,function(){var he=(0,s.Z)(function*(qe){const lt=yield qe._process(w,z);delete N.mfaInfo,delete N.mfaPendingCredential;const Rt=Object.assign(Object.assign({},N),{idToken:lt.idToken,refreshToken:lt.refreshToken});switch(_.operationType){case"signIn":const Et=yield Hi._fromIdTokenResponse(w,_.operationType,Rt);return yield w._updateCurrentUser(Et.user),Et;case"reauthenticate":return j(_.user,w,"internal-error"),Hi._forOperation(_.user,_.operationType,Rt);default:Ne(w,"internal-error")}});return function(qe){return he.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,s.Z)(function*(){return _.signInResolver(g)})()}}function Su(b,g){return Nt(b,"POST","/v2/accounts/mfaEnrollment:start",Tt(b,g))}class ap{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Me._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new ap(g)}getSession(){var g=this;return(0,s.Z)(function*(){return Zo._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var w=this;return(0,s.Z)(function*(){const N=g,P=yield w.getSession(),z=yield ai(w.user,N._process(w.user.auth,P,_));return yield w.user._updateTokensIfNecessary(z),w.user.reload()})()}unenroll(g){var _=this;return(0,s.Z)(function*(){const w="string"==typeof g?g:g.uid,N=yield _.user.getIdToken();try{const P=yield ai(_.user,function gh(b,g){return Nt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Tt(b,g))}(_.user.auth,{idToken:N,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:z})=>z!==w),yield _.user._updateTokensIfNecessary(P),yield _.user.reload()}catch(P){throw P}})()}}const ba=new WeakMap,Ho="__sak";class Nu{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Ho,"1"),this.storage.removeItem(Ho),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const gl=(()=>{class b extends Nu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pl(){const b=(0,F.z$)();return Qe(b)||vt(b)}()&&function Rn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xo(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const N=this.storage.getItem(w),P=this.localCache[w];N!==P&&_(w,P,N)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((he,qe,lt)=>{this.notifyListeners(he,lt)});const N=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(N);if(_.newValue!==he)null!==_.newValue?this.storage.setItem(N,_.newValue):this.storage.removeItem(N);else if(this.localCache[N]===_.newValue&&!w)return}const P=()=>{const he=this.storage.getItem(N);!w&&this.localCache[N]===he||this.notifyListeners(N,he)},z=this.storage.getItem(N);!function Xn(){return(0,F.w1)()&&10===document.documentMode}()||z===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,w){this.localCache[_]=w;const N=this.listeners[_];if(N)for(const P of Array.from(N))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var N=()=>super._set,P=this;return(0,s.Z)(function*(){yield N().call(P,_,w),P.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,N=this;return(0,s.Z)(function*(){const P=yield w().call(N,_);return N.localCache[_]=JSON.stringify(P),P})()}_remove(_){var w=()=>super._remove,N=this;return(0,s.Z)(function*(){yield w().call(N,_),delete N.localCache[_]})()}}return b.type="LOCAL",b})(),ms=(()=>{class b extends Nu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let yh=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(P=>P.isListeningto(_));if(w)return w;const N=new b(_);return this.receivers.push(N),N}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,s.Z)(function*(){const N=_,{eventId:P,eventType:z,data:he}=N.data,qe=w.handlersMap[z];if(!qe?.size)return;N.ports[0].postMessage({status:"ack",eventId:P,eventType:z});const lt=Array.from(qe).map(function(){var Et=(0,s.Z)(function*(Cn){return Cn(N.origin,he)});return function(Cn){return Et.apply(this,arguments)}}()),Rt=yield function _l(b){return Promise.all(b.map(function(){var g=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return g.apply(this,arguments)}}()))}(lt);N.ports[0].postMessage({status:"done",eventId:P,eventType:z,response:Rt})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function yl(b="",g=10){let _="";for(let w=0;w<g;w++)_+=Math.floor(10*Math.random());return b+_}class zc{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,w=50){var N=this;return(0,s.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let z,he;return new Promise((qe,lt)=>{const Rt=yl("",20);P.port1.start();const Et=setTimeout(()=>{lt(new Error("unsupported_event"))},w);he={messageChannel:P,onMessage(Cn){const Oi=Cn;if(Oi.data.eventId===Rt)switch(Oi.data.status){case"ack":clearTimeout(Et),z=setTimeout(()=>{lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),qe(Oi.data.response);break;default:clearTimeout(Et),clearTimeout(z),lt(new Error("invalid_response"))}}},N.handlers.add(he),P.port1.addEventListener("message",he.onMessage),N.target.postMessage({eventType:g,eventId:Rt,data:_},[P.port2])}).finally(()=>{he&&N.removeMessageHandler(he)})})()}}function ei(){return window}function Mu(){return typeof ei().WorkerGlobalScope<"u"&&"function"==typeof ei().importScripts}function vl(){return(vl=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ao="firebaseLocalStorageDb",lo="firebaseLocalStorage",Kc="fbase_key";class Go{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function bl(b,g){return b.transaction([lo],g?"readwrite":"readonly").objectStore(lo)}function Ca(){const b=indexedDB.open(ao,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(lo,{keyPath:Kc})}catch(N){_(N)}}),b.addEventListener("success",(0,s.Z)(function*(){const w=b.result;w.objectStoreNames.contains(lo)?g(w):(w.close(),yield function bh(){const b=indexedDB.deleteDatabase(ao);return new Go(b).toPromise()}(),g(yield Ca()))}))})}function Ls(b,g,_){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,s.Z)(function*(b,g,_){const w=bl(b,!0).put({[Kc]:g,value:_});return new Go(w).toPromise()})).apply(this,arguments)}function wl(){return(wl=(0,s.Z)(function*(b,g){const _=bl(b,!1).get(g),w=yield new Go(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function $o(b,g){const _=bl(b,!0).delete(g);return new Go(_).toPromise()}const Ta=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield Ca()),_.db})()}_withRetries(_){var w=this;return(0,s.Z)(function*(){let N=0;for(;;)try{const P=yield w._openDb();return yield _(P)}catch(P){if(N++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return Mu()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=yh._getInstance(function Ru(){return Mu()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(N,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(N,P){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(N,P){return["keyChanged"]});return function(N,P){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var w,N;if(_.activeServiceWorker=yield function jo(){return vl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new zc(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);!P||(null===(w=P[0])||void 0===w?void 0:w.fulfilled)&&(null===(N=P[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function xu(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Ca();return yield Ls(_,Ho,"1"),yield $o(_,Ho),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var N=this;return(0,s.Z)(function*(){return N._withPendingWrite((0,s.Z)(function*(){return yield N._withRetries(P=>Ls(P,_,w)),N.localCache[_]=w,N.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,s.Z)(function*(){const N=yield w._withRetries(P=>function Ou(b,g){return wl.apply(this,arguments)}(P,_));return w.localCache[_]=N,N})()}_remove(_){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(N=>$o(N,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const w=yield _._withRetries(z=>{const he=bl(z,!1).getAll();return new Go(he).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const N=[],P=new Set;for(const{fbase_key:z,value:he}of w)P.add(z),JSON.stringify(_.localCache[z])!==JSON.stringify(he)&&(_.notifyListeners(z,he),N.push(z));for(const z of Object.keys(_.localCache))_.localCache[z]&&!P.has(z)&&(_.notifyListeners(z,null),N.push(z));return N})()}notifyListeners(_,w){this.localCache[_]=w;const N=this.listeners[_];if(N)for(const P of Array.from(N))P(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Ea(b,g){return Nt(b,"POST","/v2/accounts/mfaSignIn:start",Tt(b,g))}function uo(){return(uo=(0,s.Z)(function*(b){return(yield Nt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ia(b){return new Promise((g,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=g,w.onerror=N=>{const P=we("internal-error");P.customData=N,_(P)},w.type="text/javascript",w.charset="UTF-8",function Da(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(w)})}function Fu(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Cl=1e12;class Mn{constructor(g){this.auth=g,this.counter=Cl,this._widgets=new Map}render(g,_){const w=this.counter;return this._widgets.set(w,new km(g,this.auth.name,_||{})),this.counter++,w}reset(g){var _;const w=g||Cl;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Cl))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,s.Z)(function*(){var w;return null===(w=_._widgets.get(g||Cl))||void 0===w||w.execute(),""})()}}class km{constructor(g,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof g?document.getElementById(g):g;j(N,"argument-error",{appName:_}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Fv(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fm=Fu("rcb"),Lv=new gt(3e4,6e4);class lp{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ei().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return j(function n1(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(ei().grecaptcha):new Promise((w,N)=>{const P=ei().setTimeout(()=>{N(we(g,"network-request-failed"))},Lv.get());ei()[Fm]=()=>{ei().clearTimeout(P),delete ei()[Fm];const he=ei().grecaptcha;if(!he)return void N(we(g,"internal-error"));const qe=he.render;he.render=(lt,Rt)=>{const Et=qe(lt,Rt);return this.counter++,Et},this.hostLanguage=_,w(he)},Ia(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Fm,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),N(we(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=ei().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Jc{load(g){return(0,s.Z)(function*(){return new Mn(g)})()}clearedOneInstance(){}}const Bv="recaptcha",Vv={theme:"light",type:"image"};class Ri{constructor(g,_=Object.assign({},Vv),w){this.parameters=_,this.type=Bv,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fn(w),this.isInvisible="invisible"===this.parameters.size,j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof g?document.getElementById(g):g;j(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jc:new lp,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(_)||new Promise(P=>{const z=he=>{!he||(g.tokenChangeListeners.delete(z),P(he))};g.tokenChangeListeners.add(z),g.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof g)g(_);else if("string"==typeof g){const w=ei()[g];"function"==typeof w&&w(_)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){j(be()&&!Mu(),g.auth,"internal-error"),yield function fn(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function yr(b){return uo.apply(this,arguments)}(g.auth);j(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vr{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=ro._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function gn(){return(gn=(0,s.Z)(function*(b,g,_){const w=Fn(b),N=yield co(w,g,(0,F.m9)(_));return new vr(N,P=>Zn(w,P))})).apply(this,arguments)}function Xr(){return(Xr=(0,s.Z)(function*(b,g,_){const w=(0,F.m9)(b);yield rn(!1,w,"phone");const N=yield co(w.auth,g,(0,F.m9)(_));return new vr(N,P=>pu(w,P))})).apply(this,arguments)}function Un(){return(Un=(0,s.Z)(function*(b,g,_){const w=(0,F.m9)(b),N=yield co(w.auth,g,(0,F.m9)(_));return new vr(N,P=>gu(w,P))})).apply(this,arguments)}function co(b,g,_){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,s.Z)(function*(b,g,_){var w;const N=yield _.verify();try{let P;if(j("string"==typeof N,b,"argument-error"),j(_.type===Bv,b,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const z=P.session;if("phoneNumber"in P)return j("enroll"===z.type,b,"internal-error"),(yield Su(b,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{j("signin"===z.type,b,"internal-error");const he=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return j(he,b,"missing-multi-factor-info"),(yield Ea(b,{mfaPendingCredential:z.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield Nm(b,{phoneNumber:P.phoneNumber,recaptchaToken:N});return z}}finally{_._reset()}})).apply(this,arguments)}function Xc(){return(Xc=(0,s.Z)(function*(b,g){yield ko((0,F.m9)(b),g)})).apply(this,arguments)}let El=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Fn(_)}verifyPhoneNumber(_,w){return co(this.auth,_,(0,F.m9)(w))}static credential(_,w){return ro._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:N}=_;return w&&N?ro._fromTokenResponse(w,N):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Wo(b,g){return g?wt(g):(j(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Bs extends Zi{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return mi(g,this._buildIdpRequest())}_linkToIdToken(g,_){return mi(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return mi(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Ke(b){return Qr(b.auth,new Bs(b),b.bypassAuthState)}function Dl(b){const{auth:g,user:_}=b;return j(_,g,"internal-error"),Fo(_,new Bs(b),b.bypassAuthState)}function ho(b){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,s.Z)(function*(b){const{auth:g,user:_}=b;return j(_,g,"internal-error"),ko(_,new Bs(b),b.bypassAuthState)})).apply(this,arguments)}class Na{constructor(g,_,w,N,P=!1){this.auth=g,this.resolver=w,this.user=N,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,s.Z)(function*(w,N){g.pendingPromise={resolve:w,reject:N};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(w,N){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:N,postBody:P,tenantId:z,error:he,type:qe}=g;if(he)return void _.reject(he);const lt={auth:_.auth,requestUri:w,sessionId:N,tenantId:z||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(qe)(lt))}catch(Rt){_.reject(Rt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ke;case"linkViaPopup":case"linkViaRedirect":return ho;case"reauthViaPopup":case"reauthViaRedirect":return Dl;default:Ne(this.auth,"internal-error")}}resolve(g){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const In=new gt(2e3,1e4);function fo(){return(fo=(0,s.Z)(function*(b,g,_){const w=Fn(b);Ge(b,g,Rs);const N=Wo(w,_);return new _s(w,"signInViaPopup",g,N).executeNotNull()})).apply(this,arguments)}function td(){return(td=(0,s.Z)(function*(b,g,_){const w=(0,F.m9)(b);Ge(w.auth,g,Rs);const N=Wo(w.auth,_);return new _s(w.auth,"reauthViaPopup",g,N,w).executeNotNull()})).apply(this,arguments)}function Il(){return(Il=(0,s.Z)(function*(b,g,_){const w=(0,F.m9)(b);Ge(w.auth,g,Rs);const N=Wo(w.auth,_);return new _s(w.auth,"linkViaPopup",g,N,w).executeNotNull()})).apply(this,arguments)}let _s=(()=>{class b extends Na{constructor(_,w,N,P,z){super(_,w,P,z),this.provider=N,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const w=yield _.execute();return j(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,s.Z)(function*(){Ze(1===_.filter.length,"Popup operations only handle one event");const w=yl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(N=>{_.reject(N)}),_.resolver._isIframeWebStorageSupported(_.auth,N=>{N||_.reject(we(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,N;this.pollId=null!==(N=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,In.get())};_()}}return b.currentPopupAction=null,b})();const es=new Map;class nd extends Na{constructor(g,_,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,s.Z)(function*(){let w=es.get(_.auth._key());if(!w){try{const P=(yield function br(b,g){return ur.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;w=()=>Promise.resolve(P)}catch(N){w=()=>Promise.reject(N)}es.set(_.auth._key(),w)}return _.bypassAuthState||es.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(w,g);if("unknown"!==g.type){if(g.eventId){const N=yield w.auth._redirectUserForId(g.eventId);if(N)return w.user=N,_().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function ur(){return(ur=(0,s.Z)(function*(b,g){const _=On(g),w=Vs(b);if(!(yield w._isAvailable()))return!1;const N="true"===(yield w._get(_));return yield w._remove(_),N})).apply(this,arguments)}function ts(b,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,s.Z)(function*(b,g){return Vs(b)._set(On(g),"true")})).apply(this,arguments)}function po(b,g){es.set(b._key(),g)}function Vs(b){return wt(b._redirectPersistence)}function On(b){return Z("pendingRedirect",b.config.apiKey,b.name)}function D(){return(D=(0,s.Z)(function*(b,g,_){const w=Fn(b);Ge(b,g,Rs),yield w._initializationPromise;const N=Wo(w,_);return yield ts(N,w),N._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,s.Z)(function*(b,g,_){const w=(0,F.m9)(b);Ge(w.auth,g,Rs),yield w.auth._initializationPromise;const N=Wo(w.auth,_);yield ts(N,w.auth);const P=yield xt(w);return N._openRedirect(w.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function De(){return(De=(0,s.Z)(function*(b,g,_){const w=(0,F.m9)(b);Ge(w.auth,g,Rs),yield w.auth._initializationPromise;const N=Wo(w.auth,_);yield rn(!1,w,g.providerId),yield ts(N,w.auth);const P=yield xt(w);return N._openRedirect(w.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function Je(){return(Je=(0,s.Z)(function*(b,g){return yield Fn(b)._initializationPromise,mt(b,g,!1)})).apply(this,arguments)}function mt(b,g){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,s.Z)(function*(b,g,_=!1){const w=Fn(b),N=Wo(w,g),z=yield new nd(w,N,_).execute();return z&&!_&&(delete z.user._redirectEventId,yield w._persistUserIfCurrent(z.user),yield w._setRedirectUser(null,g)),z})).apply(this,arguments)}function xt(b){return ci.apply(this,arguments)}function ci(){return(ci=(0,s.Z)(function*(b){const g=yl(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Ko{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(_=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function ni(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vt(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var w;if(g.error&&!Vt(g)){const N=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(we(this.auth,N))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const w=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vs(g))}saveEventToCache(g){this.cachedEventUids.add(vs(g)),this.lastProcessedEventTime=Date.now()}}function vs(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function Vt({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function wr(b){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,s.Z)(function*(b,g={}){return Nt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const r1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bm=/^https?/;function up(){return(up=(0,s.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield wr(b);for(const _ of g)try{if(Vm(_))return}catch{}Ne(b,"unauthorized-domain")})).apply(this,arguments)}function Vm(b){const g=ge(),{protocol:_,hostname:w}=new URL(g);if(b.startsWith("chrome-extension://")){const z=new URL(b);return""===z.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&z.hostname===w}if(!Bm.test(_))return!1;if(r1.test(b))return w===b;const N=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(w)}const Zm=new gt(3e4,6e4);function Zv(){const b=ei().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let bs=null;function cp(b){return bs=bs||function yi(b){return new Promise((g,_)=>{var w,N,P;function z(){Zv(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Zv(),_(we(b,"network-request-failed"))},timeout:Zm.get()})}if(null!==(N=null===(w=ei().gapi)||void 0===w?void 0:w.iframes)&&void 0!==N&&N.Iframe)g(gapi.iframes.getContext());else{if(null===(P=ei().gapi)||void 0===P||!P.load){const he=Fu("iframefcb");return ei()[he]=()=>{gapi.load?z():_(we(b,"network-request-failed"))},Ia(`https://apis.google.com/js/api.js?onload=${he}`).catch(qe=>_(qe))}z()}}).catch(g=>{throw bs=null,g})}(b),bs}const Hm=new gt(5e3,15e3),Hv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jm(b){const g=b.config;j(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?Zt(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:b.name,v:re.SDK_VERSION},N=jv.get(b.config.apiHost);N&&(w.eid=N);const P=b._getFrameworks();return P.length&&(w.fw=P.join(",")),`${_}?${(0,F.xO)(w).slice(1)}`}function fp(){return fp=(0,s.Z)(function*(b){const g=yield cp(b),_=ei().gapi;return j(_,b,"internal-error"),g.open({where:document.body,url:jm(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hv,dontclear:!0},w=>new Promise(function(){var N=(0,s.Z)(function*(P,z){yield w.restyle({setHideOnLeave:!1});const he=we(b,"network-request-failed"),qe=ei().setTimeout(()=>{z(he)},Hm.get());function lt(){ei().clearTimeout(qe),P(w)}w.ping(lt).then(lt,()=>{z(he)})});return function(P,z){return N.apply(this,arguments)}}()))}),fp.apply(this,arguments)}const Gv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $v{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ch(b,g,_,w,N,P){j(b.config.authDomain,b,"auth-domain-config-required"),j(b.config.apiKey,b,"invalid-api-key");const z={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:re.SDK_VERSION,eventId:N};if(g instanceof Rs){g.setDefaultLanguage(b.languageCode),z.providerId=g.providerId||"",(0,F.xb)(g.getCustomParameters())||(z.customParameters=JSON.stringify(g.getCustomParameters()));for(const[qe,lt]of Object.entries(P||{}))z[qe]=lt}if(g instanceof ps){const qe=g.getScopes().filter(lt=>""!==lt);qe.length>0&&(z.scopes=qe.join(","))}b.tenantId&&(z.tid=b.tenantId);const he=z;for(const qe of Object.keys(he))void 0===he[qe]&&delete he[qe];return`${function rd({config:b}){return b.emulator?Zt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,F.xO)(he).slice(1)}`}const Ma="webStorageSupport";class od extends class Wv{constructor(g){this.factorId=g}_process(g,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,w);case"signin":return this._finalizeSignIn(g,_.credential);default:return me("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new od(g)}_finalizeEnroll(g,_,w){return function Au(b,g){return Nt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Tt(b,g))}(g,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function ku(b,g){return Nt(b,"POST","/v2/accounts/mfaSignIn:finalize",Tt(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ad=(()=>{class b{constructor(){}static assertion(_){return od._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var ld="@firebase/auth";class zv{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(w=>{g(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yo(){return window}function Eh(){return(Eh=(0,s.Z)(function*(b,g,_){var w;const{BuildInfo:N}=Yo();Ze(g.sessionId,"AuthEvent did not contain a session ID");const P=yield Hu(g.sessionId),z={};return vt()?z.ibi=N.packageName:hn()?z.apn=N.packageName:Ne(b,"operation-not-supported-in-this-environment"),N.displayName&&(z.appDisplayName=N.displayName),z.sessionId=P,Ch(b,_,g.type,void 0,null!==(w=g.eventId)&&void 0!==w?w:void 0,z)})).apply(this,arguments)}function ud(){return(ud=(0,s.Z)(function*(b){const{BuildInfo:g}=Yo(),_={};vt()?_.iosBundleId=g.packageName:hn()?_.androidPackageName=g.packageName:Ne(b,"operation-not-supported-in-this-environment"),yield wr(b,_)})).apply(this,arguments)}function Dh(){return(Dh=(0,s.Z)(function*(b,g,_){const{cordova:w}=Yo();let N=()=>{};try{yield new Promise((P,z)=>{let he=null;function qe(){var Et;P();const Cn=null===(Et=w.plugins.browsertab)||void 0===Et?void 0:Et.close;"function"==typeof Cn&&Cn(),"function"==typeof _?.close&&_.close()}function lt(){he||(he=window.setTimeout(()=>{z(we(b,"redirect-cancelled-by-user"))},2e3))}function Rt(){"visible"===document?.visibilityState&&lt()}g.addPassiveListener(qe),document.addEventListener("resume",lt,!1),hn()&&document.addEventListener("visibilitychange",Rt,!1),N=()=>{g.removePassiveListener(qe),document.removeEventListener("resume",lt,!1),document.removeEventListener("visibilitychange",Rt,!1),he&&window.clearTimeout(he)}})}finally{N()}})).apply(this,arguments)}function Hu(b){return Al.apply(this,arguments)}function Al(){return(Al=(0,s.Z)(function*(b){const g=ju(b),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ju(b){if(Ze(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const g=new ArrayBuffer(b.length),_=new Uint8Array(g);for(let w=0;w<b.length;w++)_[w]=b.charCodeAt(w);return _}(0,F.Pz)("authIdTokenMaxAge"),function Gm(b){(0,re._registerComponent)(new ae.wA("auth",(g,{options:_})=>{const w=g.getProvider("app").getImmediate(),N=g.getProvider("heartbeat"),{apiKey:P,authDomain:z}=w.options;return((he,qe)=>{j(P&&!P.includes(":"),"invalid-api-key",{appName:he.name}),j(!z?.includes(":"),"argument-error",{appName:he.name});const lt={apiKey:P,authDomain:z,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xs(b)},Rt=new Gt(he,qe,lt);return function oe(b,g){const _=g?.persistence||[],w=(Array.isArray(_)?_:[_]).map(wt);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(w,g?.popupRedirectResolver)}(Rt,_),Rt})(w,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,w)=>{g.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new ae.wA("auth-internal",g=>{const _=Fn(g.getProvider("auth").getImmediate());return new zv(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(ld,"0.21.5",function Kv(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,re.registerVersion)(ld,"0.21.5","esm2017")}("Browser");class Sh extends Ko{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,s.Z)(function*(){yield g.initPromise})()}}function qm(b){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,s.Z)(function*(b){const g=yield xl()._get(Qo(b));return g&&(yield xl()._remove(Qo(b))),g})).apply(this,arguments)}function t0(){const b=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const w=Math.floor(Math.random()*g.length);b.push(g.charAt(w))}return b.join("")}function xl(){return wt(gl)}function Qo(b){return Z("authEvent",b.config.apiKey,b.name)}function Jo(b){if(!b?.includes("?"))return{};const[g,..._]=b.split("?");return(0,F.zd)(_.join("?"))}function Gu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function cd(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function yp(b=(0,F.z$)()){return!("file:"!==cd()&&"ionic:"!==cd()&&"capacitor:"!==cd()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jm(){try{const b=self.localStorage,g=yl();if(b)return b.setItem(g,"1"),b.removeItem(g),!function s0(b=(0,F.z$)()){return function Qm(){return(0,F.w1)()&&11===document?.documentMode}()||function bp(b=(0,F.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,F.hl)()}catch{return Mh()&&(0,F.hl)()}return!1}function Mh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xh(){return(function r0(){return"http:"===cd()||"https:"===cd()}()||(0,F.ru)()||yp())&&!function vp(){return(0,F.b$)()||(0,F.UG)()}()&&Jm()&&!Mh()}function ea(){return yp()&&typeof document<"u"}function dd(){return(dd=(0,s.Z)(function*(){return!!ea()&&new Promise(b=>{const g=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),b(!0)})})})).apply(this,arguments)}const Or={LOCAL:"local",NONE:"none",SESSION:"session"},dr=j,Ol="persistence";function hd(b){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,s.Z)(function*(b){yield b._initializationPromise;const g=Oh(),_=Z(Ol,b.config.apiKey,b.name);g&&g.setItem(_,b._getPersistence())})).apply(this,arguments)}function Oh(){var b;try{return(null===(b=function wp(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const Ph=j;class Pr{constructor(){this.browserResolver=wt(class Hs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ms,this._completeRedirectFn=mt,this._overrideRedirectResult=po}_openPopup(g,_,w,N){var P=this;return(0,s.Z)(function*(){var z;Ze(null===(z=P.eventManagers[g._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const he=Ch(g,_,w,ge(),N);return function Zu(b,g,_,w=500,N=600){const P=Math.max((window.screen.availHeight-N)/2,0).toString(),z=Math.max((window.screen.availWidth-w)/2,0).toString();let he="";const qe=Object.assign(Object.assign({},Gv),{width:w.toString(),height:N.toString(),top:P,left:z}),lt=(0,F.z$)().toLowerCase();_&&(he=Mt(lt)?"_blank":_),te(lt)&&(g=g||"http://localhost",qe.scrollbars="yes");const Rt=Object.entries(qe).reduce((Cn,[Oi,Cs])=>`${Cn}${Oi}=${Cs},`,"");if(function Vi(b=(0,F.z$)()){var g;return vt(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(lt)&&"_self"!==he)return function qv(b,g){const _=document.createElement("a");_.href=b,_.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(g||"",he),new $v(null);const Et=window.open(g||"",he,Rt);j(Et,b,"popup-blocked");try{Et.focus()}catch{}return new $v(Et)}(g,he,yl())})()}_openRedirect(g,_,w,N){var P=this;return(0,s.Z)(function*(){return yield P._originValidation(g),function Jr(b){ei().location.href=b}(Ch(g,_,w,ge(),N)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:N,promise:P}=this.eventManagers[_];return N?Promise.resolve(N):(Ze(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(g);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(g){var _=this;return(0,s.Z)(function*(){const w=yield function hp(b){return fp.apply(this,arguments)}(g),N=new Ko(g);return w.register("authEvent",P=>(j(P?.authEvent,g,"invalid-auth-event"),{status:N.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:N},_.iframes[g._key()]=w,N})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Ma,{type:Ma},N=>{var P;const z=null===(P=N?.[0])||void 0===P?void 0:P[Ma];void 0!==z&&_(!!z),Ne(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function go(b){return up.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return xo()||Qe()||vt()}}),this.cordovaResolver=wt(class _p{constructor(){this._redirectPersistence=ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mt,this._overrideRedirectResult=po}_initialize(g){var _=this;return(0,s.Z)(function*(){const w=g._key();let N=_.eventManagers.get(w);return N||(N=new Sh(g),_.eventManagers.set(w,N),_.attachCallbackListeners(g,N)),N})()}_openPopup(g){Ne(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,w,N){var P=this;return(0,s.Z)(function*(){!function e0(b){var g,_,w,N,P,z,he,qe,lt,Rt;const Et=Yo();j("function"==typeof(null===(g=Et?.universalLinks)||void 0===g?void 0:g.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof(null===(_=Et?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(P=null===(N=null===(w=Et?.cordova)||void 0===w?void 0:w.plugins)||void 0===N?void 0:N.browsertab)||void 0===P?void 0:P.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(qe=null===(he=null===(z=Et?.cordova)||void 0===z?void 0:z.plugins)||void 0===he?void 0:he.browsertab)||void 0===qe?void 0:qe.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Rt=null===(lt=Et?.cordova)||void 0===lt?void 0:lt.InAppBrowser)||void 0===Rt?void 0:Rt.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const z=yield P._initialize(g);yield z.initialized(),z.resetRedirect(),function Yn(){es.clear()}(),yield P._originValidation(g);const he=function $m(b,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:t0(),postBody:null,tenantId:b.tenantId,error:we(b,"no-auth-event")}}(g,w,N);yield function Nl(b,g){return xl()._set(Qo(b),g)}(g,he);const qe=yield function xa(b,g,_){return Eh.apply(this,arguments)}(g,he,_),lt=yield function Jv(b){const{cordova:g}=Yo();return new Promise(_=>{g.plugins.browsertab.isAvailable(w=>{let N=null;w?g.plugins.browsertab.openUrl(b):N=g.InAppBrowser.open(b,function Vn(b=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(N)})})}(qe);return function Xv(b,g,_){return Dh.apply(this,arguments)}(g,z,lt)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Sl(b){return ud.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:w,handleOpenURL:N,BuildInfo:P}=Yo(),z=setTimeout((0,s.Z)(function*(){yield qm(g),_.onEvent(Gu())}),500),he=function(){var Rt=(0,s.Z)(function*(Et){clearTimeout(z);const Cn=yield qm(g);let Oi=null;Cn&&Et?.url&&(Oi=function Wm(b,g){var _,w;const N=function Km(b){const g=Jo(b),_=g.link?decodeURIComponent(g.link):void 0,w=Jo(_).link,N=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Jo(N).link||N||w||_||b}(g);if(N.includes("/__/auth/callback")){const P=Jo(N),z=P.firebaseError?function zm(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,he=null===(w=null===(_=z?.code)||void 0===_?void 0:_.split("auth/"))||void 0===w?void 0:w[1],qe=he?we(he):null;return qe?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:qe,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:N,postBody:null}}return null}(Cn,Et.url)),_.onEvent(Oi||Gu())});return function(Cn){return Rt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,he);const qe=N,lt=`${P.packageName.toLowerCase()}://`;Yo().handleOpenURL=function(){var Rt=(0,s.Z)(function*(Et){if(Et.toLowerCase().startsWith(lt)&&he({url:Et}),"function"==typeof qe)try{qe(Et)}catch(Cn){console.error(Cn)}});return function(Et){return Rt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ms,this._completeRedirectFn=mt,this._overrideRedirectResult=po}_initialize(g){var _=this;return(0,s.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,w,N){var P=this;return(0,s.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(g,_,w,N)})()}_openRedirect(g,_,w,N){var P=this;return(0,s.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(g,_,w,N)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return ea()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ph(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,s.Z)(function*(){if(g.underlyingResolver)return;const _=yield function Xm(){return dd.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function kh(b){return b.unwrap()}function Fh(b){return Ra(b)}function Ra(b){const{_tokenResponse:g}=b instanceof F.ZR?b.customData:b;if(!g)return null;if(!(b instanceof F.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return El.credentialFromResult(b);const _=g.providerId;if(!_||"password"===_)return null;let w;switch(_){case"google.com":w=lu;break;case"facebook.com":w=ol;break;case"github.com":w=Oc;break;case"twitter.com":w=mr;break;default:const{oauthIdToken:N,oauthAccessToken:P,oauthTokenSecret:z,pendingToken:he,nonce:qe}=g;return P||z||N||he?he?_.startsWith("saml.")?ga._create(_,he):xs._fromParams({providerId:_,signInMethod:_,pendingToken:he,idToken:N,accessToken:P}):new Po(_).credential({idToken:N,accessToken:P,rawNonce:qe}):null}return b instanceof F.ZR?w.credentialFromError(b):w.credentialFromResult(b)}function kr(b,g){return g.catch(_=>{throw _ instanceof F.ZR&&function pd(b,g){var _;const w=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new o0(b,function Kn(b,g){var _;const w=(0,F.m9)(b),N=g;return j(g.customData.operationType,w,"argument-error"),j(null===(_=N.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Iu._fromError(w,N)}(b,g));else if(w){const N=Ra(g),P=g;N&&(P.credential=N,P.tenantId=w.tenantId||void 0,P.email=w.email||void 0,P.phoneNumber=w.phoneNumber||void 0)}}(b,_),_}).then(_=>{const N=_.user;return{operationType:_.operationType,credential:Fh(_),additionalUserInfo:Eu(_),user:ws.getOrCreate(N)}})}function Oa(b,g){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,s.Z)(function*(b,g){const _=yield g;return{verificationId:_.verificationId,confirm:w=>kr(b,_.confirm(w))}})).apply(this,arguments)}class o0{constructor(g,_){this.resolver=_,this.auth=function fd(b){return b.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return kr(kh(this.auth),this.resolver.resolveSignIn(g))}}class ws{constructor(g){this._delegate=g,this.multiFactor=function wa(b){const g=(0,F.m9)(b);return ba.has(g)||ba.set(g,ap._fromUser(g)),ba.get(g)}(g)}static getOrCreate(g){return ws.USER_MAP.has(g)||ws.USER_MAP.set(g,new ws(g)),ws.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,s.Z)(function*(){return kr(_.auth,pu(_._delegate,g))})()}linkWithPhoneNumber(g,_){var w=this;return(0,s.Z)(function*(){return Oa(w.auth,function en(b,g,_){return Xr.apply(this,arguments)}(w._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,s.Z)(function*(){return kr(_.auth,function Uu(b,g,_){return Il.apply(this,arguments)}(_._delegate,g,Pr))})()}linkWithRedirect(g){var _=this;return(0,s.Z)(function*(){return yield hd(Fn(_.auth)),function Q(b,g,_){return function ne(b,g,_){return De.apply(this,arguments)}(b,g,_)}(_._delegate,g,Pr)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,s.Z)(function*(){return kr(_.auth,gu(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return Oa(this.auth,function Tl(b,g,_){return Un.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return kr(this.auth,function Um(b,g,_){return td.apply(this,arguments)}(this._delegate,g,Pr))}reauthenticateWithRedirect(g){var _=this;return(0,s.Z)(function*(){return yield hd(Fn(_.auth)),function S(b,g,_){return function x(b,g,_){return V.apply(this,arguments)}(b,g,_)}(_._delegate,g,Pr)})()}sendEmailVerification(g){return function Zc(b,g){return fl.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,s.Z)(function*(){return yield function Qi(b,g){return cu.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function ch(b,g){return Bo((0,F.m9)(b),g,null)}(this._delegate,g)}updatePassword(g){return function Uo(b,g){return Bo((0,F.m9)(b),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Lm(b,g){return Xc.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Gc(b,g){return $c.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function Hc(b,g,_){return wu.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ws.USER_MAP=new WeakMap;const Pa=j;let $u=(()=>{class b{constructor(_,w){if(this.app=_,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=_.options;Pa(N,"invalid-api-key",{appName:_.name}),Pa(N,"invalid-api-key",{appName:_.name});const P=typeof window<"u"?Pr:void 0;this._delegate=w.initialize({options:{persistence:ka(N,_.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ws.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,w){!function su(b,g,_){const w=Fn(b);j(w._canInitEmulator,w,"emulator-config-failed"),j(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const N=!!_?.disableWarnings,P=hs(g),{host:z,port:he}=function li(b){const g=hs(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(w);if(N){const P=N[1];return{host:P,port:eo(w.substr(P.length+1))}}{const[P,z]=w.split(":");return{host:P,port:eo(z)}}}(g);w.config.emulator={url:`${P}//${z}${null===he?"":`:${he}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:z,port:he,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function to(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,_,w)}applyActionCode(_){return function Rr(b,g){return ll.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return ul(this._delegate,_)}confirmPasswordReset(_,w){return function vu(b,g,_){return _a.apply(this,arguments)}(this._delegate,_,w)}createUserWithEmailAndPassword(_,w){var N=this;return(0,s.Z)(function*(){return kr(N._delegate,function cl(b,g,_){return zn.apply(this,arguments)}(N._delegate,_,w))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function bu(b,g){return hl.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Fs(b,g){return"EMAIL_SIGNIN"===au.parseLink(g)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,s.Z)(function*(){Pa(xh(),_._delegate,"operation-not-supported-in-this-environment");const w=yield function je(b,g){return Je.apply(this,arguments)}(_._delegate,Pr);return w?kr(_._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Rl(b,g){Fn(b)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,w,N){const{next:P,error:z,complete:he}=gd(_,w,N);return this._delegate.onAuthStateChanged(P,z,he)}onIdTokenChanged(_,w,N){const{next:P,error:z,complete:he}=gd(_,w,N);return this._delegate.onIdTokenChanged(P,z,he)}sendSignInLinkToEmail(_,w){return function Bc(b,g,_){return Lo.apply(this,arguments)}(this._delegate,_,w)}sendPasswordResetEmail(_,w){return function yu(b,g,_){return Wn.apply(this,arguments)}(this._delegate,_,w||void 0)}setPersistence(_){var w=this;return(0,s.Z)(function*(){let N;switch(function Cp(b,g){dr(Object.values(Or).includes(g),b,"invalid-persistence-type"),(0,F.b$)()?dr(g!==Or.SESSION,b,"unsupported-persistence-type"):(0,F.UG)()?dr(g===Or.NONE,b,"unsupported-persistence-type"):Mh()?dr(g===Or.NONE||g===Or.LOCAL&&(0,F.hl)(),b,"unsupported-persistence-type"):dr(g===Or.NONE||Jm(),b,"unsupported-persistence-type")}(w._delegate,_),_){case Or.SESSION:N=ms;break;case Or.LOCAL:N=(yield wt(Ta)._isAvailable())?Ta:gl;break;case Or.NONE:N=H;break;default:return Ne("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return kr(this._delegate,function ip(b){return qn.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return kr(this._delegate,Zn(this._delegate,_))}signInWithCustomToken(_){return kr(this._delegate,function Fc(b,g){return al.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,w){return kr(this._delegate,function gs(b,g,_){return Zn((0,F.m9)(b),fs.credential(g,_))}(this._delegate,_,w))}signInWithEmailLink(_,w){return kr(this._delegate,function Om(b,g,_){return dl.apply(this,arguments)}(this._delegate,_,w))}signInWithPhoneNumber(_,w){return Oa(this._delegate,function dt(b,g,_){return gn.apply(this,arguments)}(this._delegate,_,w))}signInWithPopup(_){var w=this;return(0,s.Z)(function*(){return Pa(xh(),w._delegate,"operation-not-supported-in-this-environment"),kr(w._delegate,function ed(b,g,_){return fo.apply(this,arguments)}(w._delegate,_,Pr))})()}signInWithRedirect(_){var w=this;return(0,s.Z)(function*(){return Pa(xh(),w._delegate,"operation-not-supported-in-this-environment"),yield hd(w._delegate),function zt(b,g,_){return function zo(b,g,_){return D.apply(this,arguments)}(b,g,_)}(w._delegate,_,Pr)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Uc(b,g){return uh.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=Or,b})();function gd(b,g,_){let w=b;"function"!=typeof b&&({next:w,error:g,complete:_}=b);const N=w;return{next:z=>N(z&&ws.getOrCreate(z)),error:g,complete:_}}function ka(b,g){const _=function mo(b,g){const _=Oh();if(!_)return[];const w=Z(Ol,b,g);switch(_.getItem(w)){case Or.NONE:return[H];case Or.LOCAL:return[Ta,ms];case Or.SESSION:return[ms];default:return[]}}(b,g);if(typeof self<"u"&&!_.includes(Ta)&&_.push(Ta),typeof window<"u")for(const w of[gl,ms])_.includes(w)||_.push(w);return _.includes(H)||_.push(H),_}class Ep{constructor(){this.providerId="phone",this._delegate=new El(kh(X.Z.auth()))}static credential(g,_){return El.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}Ep.PHONE_SIGN_IN_METHOD=El.PHONE_SIGN_IN_METHOD,Ep.PROVIDER_ID=El.PROVIDER_ID;const md=j;class Dp{constructor(g,_,w=X.Z.app()){var N;md(null===(N=w.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Ri(g,_,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Sp(b){b.INTERNAL.registerComponent(new ae.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),w=g.getProvider("auth");return new $u(_,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:fs,FacebookAuthProvider:ol,GithubAuthProvider:Oc,GoogleAuthProvider:lu,OAuthProvider:Po,SAMLAuthProvider:Mr,PhoneAuthProvider:Ep,PhoneMultiFactorGenerator:ad,RecaptchaVerifier:Dp,TwitterAuthProvider:mr,Auth:$u,AuthCredential:Zi,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.3.5")}(X.Z)},8766:(_t,Ae,U)=>{U.d(Ae,{Lj:()=>Ne,X3:()=>bt});var s=U(5861);let F,re;const ae=new WeakMap,fe=new WeakMap,pe=new WeakMap,G=new WeakMap,$=new WeakMap;let Re={get(j,me,Ze){if(j instanceof IDBTransaction){if("done"===me)return fe.get(j);if("objectStoreNames"===me)return j.objectStoreNames||pe.get(j);if("store"===me)return Ze.objectStoreNames[1]?void 0:Ze.objectStore(Ze.objectStoreNames[0])}return de(j[me])},set:(j,me,Ze)=>(j[me]=Ze,!0),has:(j,me)=>j instanceof IDBTransaction&&("done"===me||"store"===me)||me in j};function ve(j){return"function"==typeof j?function ut(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...me){return j.apply(at(this),me),de(ae.get(this))}:function(...me){return de(j.apply(at(this),me))}:function(me,...Ze){const tt=j.call(at(this),me,...Ze);return pe.set(tt,me.sort?me.sort():[me]),de(tt)}}(j):(j instanceof IDBTransaction&&function ze(j){if(fe.has(j))return;const me=new Promise((Ze,tt)=>{const wt=()=>{j.removeEventListener("complete",it),j.removeEventListener("error",oe),j.removeEventListener("abort",oe)},it=()=>{Ze(),wt()},oe=()=>{tt(j.error||new DOMException("AbortError","AbortError")),wt()};j.addEventListener("complete",it),j.addEventListener("error",oe),j.addEventListener("abort",oe)});fe.set(j,me)}(j),((j,me)=>me.some(Ze=>j instanceof Ze))(j,function ie(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,Re):j)}function de(j){if(j instanceof IDBRequest)return function Y(j){const me=new Promise((Ze,tt)=>{const wt=()=>{j.removeEventListener("success",it),j.removeEventListener("error",oe)},it=()=>{Ze(de(j.result)),wt()},oe=()=>{tt(j.error),wt()};j.addEventListener("success",it),j.addEventListener("error",oe)});return me.then(Ze=>{Ze instanceof IDBCursor&&ae.set(Ze,j)}).catch(()=>{}),$.set(me,j),me}(j);if(G.has(j))return G.get(j);const me=ve(j);return me!==j&&(G.set(j,me),$.set(me,j)),me}const at=j=>$.get(j);function bt(j,me,{blocked:Ze,upgrade:tt,blocking:wt,terminated:it}={}){const oe=indexedDB.open(j,me),ge=de(oe);return tt&&oe.addEventListener("upgradeneeded",be=>{tt(de(oe.result),be.oldVersion,be.newVersion,de(oe.transaction))}),Ze&&oe.addEventListener("blocked",()=>Ze()),ge.then(be=>{it&&be.addEventListener("close",()=>it()),wt&&be.addEventListener("versionchange",()=>wt())}).catch(()=>{}),ge}function Ne(j,{blocked:me}={}){const Ze=indexedDB.deleteDatabase(j);return me&&Ze.addEventListener("blocked",()=>me()),de(Ze).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],Ge=new Map;function $e(j,me){if(!(j instanceof IDBDatabase)||me in j||"string"!=typeof me)return;if(Ge.get(me))return Ge.get(me);const Ze=me.replace(/FromIndex$/,""),tt=me!==Ze,wt=Te.includes(Ze);if(!(Ze in(tt?IDBIndex:IDBObjectStore).prototype)||!wt&&!we.includes(Ze))return;const it=function(){var oe=(0,s.Z)(function*(ge,...be){const Oe=this.transaction(ge,wt?"readwrite":"readonly");let Pe=Oe.store;return tt&&(Pe=Pe.index(be.shift())),(yield Promise.all([Pe[Ze](...be),wt&&Oe.done]))[0]});return function(be){return oe.apply(this,arguments)}}();return Ge.set(me,it),it}!function Ce(j){Re=j(Re)}(j=>({...j,get:(me,Ze,tt)=>$e(me,Ze)||j.get(me,Ze,tt),has:(me,Ze)=>!!$e(me,Ze)||j.has(me,Ze)}))},5861:(_t,Ae,U)=>{function s(F,re,ie,ce,ae,fe,pe){try{var G=F[fe](pe),$=G.value}catch(Y){return void ie(Y)}G.done?re($):Promise.resolve($).then(ce,ae)}function X(F){return function(){var re=this,ie=arguments;return new Promise(function(ce,ae){var fe=F.apply(re,ie);function pe($){s(fe,ce,ae,pe,G,"next",$)}function G($){s(fe,ce,ae,pe,G,"throw",$)}pe(void 0)})}}U.d(Ae,{Z:()=>X})}},_t=>{_t(_t.s=7560)}]);